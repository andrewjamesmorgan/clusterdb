<!DOCTYPE html>
<!-- HTML 5 --><html lang="en-US">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="pingback" href="/xmlrpc.php">
	
	<title>MySQL | Andrew Morgan on Databases | Page 2</title>

<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; Feed" href="/feed">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; Comments Feed" href="/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; MySQL Category Feed" href="/category/mysql/feed">
		<!-- This site uses the Google Analytics by MonsterInsights plugin v9.2.2 - Using Analytics tracking - https://www.monsterinsights.com/ -->
		<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
					<!-- No tracking code set -->
				<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.clusterdb.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"ðŸ³ï¸â€âš§ï¸","ðŸ³ï¸â€‹âš§ï¸")?!1:!n(e,"ðŸ‡ºðŸ‡³","ðŸ‡ºâ€‹ðŸ‡³")&&!n(e,"ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿","ðŸ´â€‹ó §â€‹ó ¢â€‹ó ¥â€‹ó ®â€‹ó §â€‹ó ¿");case"emoji":return!n(e,"ðŸ¦â€â¬›","ðŸ¦â€‹â¬›")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="plyr-css-css" href="/wp-content/plugins/easy-video-player/lib/plyr.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="zeeSynergie_stylesheet-css" href="/wp-content/themes/zeesynergie/style.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="zeeSynergie_colorscheme-css" href="/wp-content/themes/zeesynergie/includes/css/colorschemes/blue.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="themezee_default_font-css" href="http://fonts.googleapis.com/css?family=Paytone+One&#038;ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<script type="text/javascript" src="/wp-content/plugins/easy-video-player/lib/plyr.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4" id="plyr-js-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/themes/zeesynergie/includes/js/jquery.cycle.all.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4" id="zee_jquery-cycle-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/categories/3">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">

<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style>
<style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<script type="text/javascript">
				//<![CDATA[
					jQuery(document).ready(function($) {
						$('#nav ul').css({display: 'none'}); // Opera Fix
						$('#nav li').hover(function(){
							$(this).find('ul:first').css({visibility: 'visible',display: 'none'}).show().css({opacity:0}).animate({opacity:1},400);
						},function(){
							$(this).find('ul:first').css({visibility: 'hidden'});
						});
					});
				//]]>
				</script><style type="text/css"></style>
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">body.custom-background { background-color: #89a5bf; }</style>
	<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(3,122,221,.88);}</style>
</head>

<body class="archive paged category category-mysql category-3 custom-background paged-2 category-paged-2">
<div id="wrapper">

	<div id="header">

		<div id="head">
			<div id="logo">
									<a href="/"><h1>Andrew Morgan on Databases</h1></a>
                                        <!-- <a href="/"><h1>MySQL Cluster, Replication, Fabric...</h1></a>  ZXZX -->					
							</div>
			<div id="socialmedia_icons">
				<a href="http://twitter.com/andrewmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/twitter.png" alt="twitter"></a><a href="http://www.facebook.com/andrewjamesmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/facebook.png" alt="facebook"></a><a href="https://plus.google.com/u/0/100605473697871424413/posts"><img src="/wp-content/themes/zeesynergie/images/icons/googleplus.png" alt="googleplus"></a><a href="http://www.linkedin.com/profile/view?id=16709956"><img src="/wp-content/themes/zeesynergie/images/icons/linkedin.png" alt="linkedin"></a><a href="http://www.flickr.com/photos/andrewjamesmorgan/"><img src="/wp-content/themes/zeesynergie/images/icons/flickr.png" alt="flickr"></a><a href="http://www.youtube.com/channel/UCodtDakJ4VdeSCzS3P3rIsw"><img src="/wp-content/themes/zeesynergie/images/icons/youtube.png" alt="youtube"></a>				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		
		<div id="navi_container">
			<div id="navi">
				<ul id="nav" class="menu">
<li class="page_item page-item-1011"><a href="/about">About</a></li>
</ul>			</div>
		</div>
		<div class="clear"></div>
	</div>
	
	<div id="container">
	
			<div id="custom_header">
			<img src="/wp-content/uploads/2015/06/cropped-ClusterDB-logo-header.png">
		</div>
	
	<div id="wrap">
		<div id="content">
		
		<h2 class="arh">Archive for MySQL</h2>
				
					<div id="post-2876" class="post-2876 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql category-mysql-replication tag-mysql tag-mysql-5-6 tag-mysql-replication tag-mysql-utilities tag-mysql-workbench">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/mysql-utilities-webinar">July 16, 2013</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/mysql-utilities-webinar#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/mysql-utilities-webinar" rel="bookmark">MySQL Utilities Webinar</a></h2>
				
				<div class="entry">
										<p><a href="/wp-content/uploads/2013/07/MySQL_Utilities.png"><img decoding="async" src="/wp-content/uploads/2013/07/MySQL_Utilities-300x125.png" alt="MySQL Utilities logo" width="300" height="125" class="alignright size-medium wp-image-2875"></a>On Thursday, Dr Charles Bell and I will be presenting a webinar on MySQL Utilities; there will be a heavy focus on what you can acheive with them and how you should use them. As well as listening to the presentation, this is a great chance to get your questions answered by the experts (Israel Gomez from the engineering team will also be on-line to help with the questions). As always, the webinar is free but you should <a href="http://www.mysql.com/news-and-events/web-seminars/focus-on-mysql-utilities/" title="MySQL Utilities webinar - registration" target="_blank">register in advance here</a>. If the time isn&#8217;t convenient, register anyway and you&#8217;ll be sent a link to the replay when it&#8217;s available.</p>
<h3>Abstract:</h3>
<p>MySQL Utilities provide a collection of command-line utilities that are used for maintaining and administering MySQL databases, including:</p>
<ul>
<li>Admin Utilities (Clone, Copy, Compare, Diff, Export, Import)</li>
<li>Replication Utilities (Setup, Configuration, Automated Slave Promotion)</li>
<li>General Utilities (Disk Usage, Redundant Indexes, Search Meta Data)</li>
</ul>
<p>Andrew Morgan and Chuck Bell will guide you through these utilities, and many more, explaining what you can gain from these tools and how to use them (for example how a single command repeatedly checks your master server and in the event it fails, automatically promotes one of the slaves to be the new master). This is your opportunity to listen to the development lead describe what he and his team have created, and to get your questions answered by the experts.</p>
<p>WHO:<br>
Andrew Morgan, Principal Product Manager<br>
Chuck Bell, Software Development Manager</p>
<p>WHEN:<br>
Thu, Jul 18: 09:00 Pacific time (America)<br>
Thu, Jul 18: 10:00 Mountain time (America)<br>
Thu, Jul 18: 11:00 Central time (America)<br>
Thu, Jul 18: 12:00 Eastern time (America)<br>
Thu, Jul 18: 16:00 UTC<br>
Thu, Jul 18: 17:00 Western European time<br>
Thu, Jul 18: 18:00 Central European time<br>
Thu, Jul 18: 19:00 Eastern European time<br>
Thu, Jul 18: 21:30 India, Sri Lanka<br>
Fri, Jul 19: 00:00 Singapore/Malaysia/Philippines time<br>
Fri, Jul 19: 00:00 China time<br>
Fri, Jul 19: 01:00 æ—¥æœ¬<br>
Fri, Jul 19: 02:00 NSW, ACT, Victoria, Tasmania (Australia) </p>
<p>The presentation will be approximately 60 minutes long followed by Q&#038;A. </p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/mysql-utilities-webinar" data-via="wpbeginner" data-text="MySQL Utilities Webinar" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/mysql-utilities-webinar"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/mysql-utilities-webinar" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fmysql-utilities-webinar&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a>, <a href="/category/mysql-replication" rel="category tag">MySQL Replication</a> | 
Tags: <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-5-6" rel="tag">MySQL 5.6</a>, <a href="/tag/mysql-replication" rel="tag">MySQL Replication</a>, <a href="/tag/mysql-utilities" rel="tag">MySQL Utilities</a>, <a href="/tag/mysql-workbench" rel="tag">MySQL Workbench</a>
</div>

			</div>			<div id="post-2751" class="post-2751 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql category-mysql-cluster tag-javascript tag-mysql-cluster tag-mysql-cluster-7-3 tag-node-js tag-nosql">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/mysql-cluster-with-node-js">June 18, 2013</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/mysql-cluster-with-node-js#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/mysql-cluster-with-node-js" rel="bookmark">Using JavaScript and Node.js with MySQL Cluster &#8211; First steps</a></h2>
				
				<div class="entry">
										<p><a href="/wp-content/uploads/2013/05/Node_Cluster_logo.png"><img fetchpriority="high" decoding="async" src="/wp-content/uploads/2013/05/Node_Cluster_logo-300x224.png" alt="MySQL Cluster driver for JavaScript/Node.js" width="300" height="224" class="alignright size-medium wp-image-2791"></a></p>
<p>We&#8217;re very pleased to announce that MySQL Cluster 7.3 has gone GA; for a full run-down of the new features and enhancements, take a look at the <a href="http://www.mysql.com/why-mysql/white-papers/mysql-cluster-7-2-new-features-whitepaper/">&quot;MySQL Cluster 7.3 New Features for Internet-Scale Performance with Carrier-Grade Availability&quot; white paper</a> but this post will focus on just one of the features &#8211; the MySQL Cluster JavaScript Driver for Node.js. The post will step you through setting <strong>everything</strong> up so that you can get your first Node.js code reading and writing from MySQL Cluster.</p>
<h3>Background</h3>
<p><strong>MySQL Cluster</strong> is a distributed, shared nothing database that provides linear scalability, 99.999% availability and high read/write throughput with low latency. SQL is just one way of accessing data stored in MySQL Cluster &#8211; there are also a number of native NoSQL APIs that go straight to the data without any interim conversion to SQL. These APIs include C++, Memcached, Java, JPA and REST &#8211; in MySQL Cluster 7.3 JavaScript/Node.js is added to the list.</p>
<p><a href="http://nodejs.org/"><strong>Node.js</strong></a> (typically referred to simply as &quot;Node&quot;) is a platform for running fast, scalable applications using JavaScript. For maximum performance, Node.js is built around a non-blocking, event-driven architecture &#8211; just like MySQL Cluster and so they fit together very well.</p>
<p>The MySQL Cluster JavaScript Driver for Node.js is just what it sounds like it is &#8211; it&#8217;s a connector that can be called directly from your JavaScript code to read and write your data. As it accesses the data nodes directly, there is no extra latency from passing through a MySQL Server and need to convert from JavaScript code//objects into SQL operations. If for some reason, you&#8217;d prefer it to pass through a MySQL Server (for example if you&#8217;re storing tables in InnoDB) then that can be configured.</p>
<p>As with all of the other APIs that we offer, you&#8217;re able to mix &amp; match access methods; while you access the database using JavaScript objects, these will be mapped to rows in database tables and this same data can simultaneously be accessed by other NoSQL API or through SQL.</p>
<div id="attachment_2734" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2013/04/Capture6.png"><img decoding="async" aria-describedby="caption-attachment-2734" src="/wp-content/uploads/2013/04/Capture6-300x243.png" alt="MySQL Cluster Auto-Installer" width="300" height="243" class="size-medium wp-image-2734"></a><p id="caption-attachment-2734" class="wp-caption-text">MySQL Cluster Auto-Installer</p>
</div>
<h3>Installing MySQL Cluster</h3>
<p>Obviously, to try out our JavaScript code we&#8217;ll need a database to access. The simplest way to do this is to use the new auto-installer that&#8217;s part of MySQL Cluster 7.3; this provides a browser-based GUI that configures and runs a MySQL Cluster database that&#8217;s been configured for your application and environment. Using this installer is described in the <a href="/mysql-cluster/mysql-cluster-7-3-auto-installer">&quot;MySQL Cluster Auto-Installer&quot; post</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>Setting up the Database</h3>
<div id="attachment_2304" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2012/05/FK_Relationship.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2304" src="/wp-content/uploads/2012/05/FK_Relationship-300x103.png" alt="Foreign Key constraints between tables" width="300" height="103" class="size-medium wp-image-2304"></a><p id="caption-attachment-2304" class="wp-caption-text">Tables with Foreign Key constraint</p>
</div>
<p>A simple database schema is being used &#8211; a single table would really be enough but we&#8217;ll actually create two in order to demonstrate that Foreign Key constraints (<a href="/mysql-cluster/foreign-keys-in-mysql-cluster/">Foreign Keys are another new feature in MySQL Cluster 7,3</a>) are still enforced when using the NoSQL APIs.</p>
<p>These two tables are set up as follows:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob]$ mysql --protocol=tcp -u root
Welcome to the MySQL monitor.  Commands end with ; or g.
Your MySQL connection id is 2
Server version: 5.6.10-ndb-7.3.1-cluster-gpl MySQL Cluster Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.

mysql> CREATE TABLE test.counties (county VARCHAR(30) NOT NULL PRIMARY KEY,
country VARCHAR(30)) ENGINE=ndb;
Query OK, 0 rows affected (1.17 sec)

mysql> CREATE TABLE test.towns (town VARCHAR(30) NOT NULL PRIMARY KEY, county VARCHAR(30),
INDEX county_county_index (county), CONSTRAINT county_town FOREIGN KEY (county) REFERENCES counties(county) 
ON DELETE RESTRICT ON UPDATE RESTRICT) ENGINE=ndb;
Query OK, 0 rows affected (1.00 sec)
</pre>
<h3>Installing Node.js</h3>
<p>Node.js can be downloaded from <a href="http://nodejs.org/">Node.js.org</a>.</p>
<p>
If you&#8217;re using Windows then the MSI will guide you through the process &#8211; though when you&#8217;ve finished you&#8217;ll need to manually run the following from the cmd prompt:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
npm install -g node-gyp
</pre>
<p>On Linux, you&#8217;ll need to manually build and install Node.js after you&#8217;ve downloaded it:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[root@bob node-v0.10.7]# ./configure
[root@bob node-v0.10.7]# make
[root@bob node-v0.10.7]# make install
</pre>
<h3>Building mysql-js (the JavaScript driver for MySQL Cluster)</h3>
<p>Regardless of what operating system is being used, the driver must be built before it can be used. Furthermore, to build the driver you need to have a local MySQL Cluster package (so that it can access the NDB API client library).</p>
<p>Depending on the exact Linux distro and version being used, some dependencies may need to be installed first:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[root@bob]$ yum install gcc
[root@bob]$ yum install gcc-c++
[root@bob]$ npm install mysql
[root@bob]$ npm install -g node-gyp
</pre>
<p>Once that has been done, the driver can be built &#8211; the following should be run from within the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">share/nodejs</span> directory within the MySQL Cluster package:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob nodejs]$ node configure.js 
[billy@bob nodejs]$ node-gyp configure build -d
</pre>
<h3>Example Code</h3>
<p>To begin with, the complete code is provided and then each component is explained.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var nosql = require('..'); 

var Town = function(name, county) {
    if (name) this.town = name;
    if (county) this.county = county;
};

// create basic object<->table mapping
var annotations = new nosql.TableMapping('towns').applyToClass(Town);

//check results of find
var onFind = function(err, result) {
    console.log('onFind.');
    if (err) {
        console.log(err);
    } else {
        console.log('Found: ' + JSON.stringify(result));
    }
    process.exit(0);
};

//check results of insert
var onInsert = function(err, object, session) {
    console.log('onInsert.');
    if (err) {
        console.log(err);
    } else {
        console.log('Inserted: ' + JSON.stringify(object));

        // Now read the data back out from the database
        session.find(Town, 'Maidenhead', onFind);
    }
};

// insert an object
var onSession = function(err, session) {
    console.log('onSession.');
    if (err) {
    console.log('Error onSession.');
        console.log(err);
        process.exit(0);
    } else {
        var data = new Town('Maidenhead', 'Berkshire');
        session.persist(data, onInsert, data, session);
    }
};

var dbProperties = nosql.ConnectionProperties('ndb');

console.log('Openning session');

// connect to the database
nosql.openSession(dbProperties, Town, onSession);

console.log('Openned session');
</pre>
<p><strong>Step 1</strong> Import API software</p>
<p>The first step is for your JavaScript application to specify that it will use the new API (mysql-js); this will work if this file is stored in a directory under <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">cluster-install/share/nodejs</span>:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var nosql = require('mysql-js');
</pre>
<p><strong>Step 2</strong> Define JavaScript class</p>
<p>A class should be defined that will be used by the application and will also be mapped to the towns table that has already been created. The class is defined through the specification of its constructor:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var Town = function(name, county) {
    if (name) this.town = name;
    if (county) this.county = county;
};
</pre>
<p><strong>Step 3</strong> Define schema mappings</p>
<p>MySQL Cluster is a relational database while JavaScript works with objects. To get the best of both worlds, mappings can be set up between MySQL tables (or individual columns) and JavaScript objects â€“ in this case itâ€™s kept very simple and the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> class is mapped to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">towns</span> table:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var annotations = new nosql.TableMapping('towns').applyToClass(Town);
</pre>
<p>Note that you can also define mappings at a finer level &#8211; <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs-api-tablemapping.html">only mapping to specific columns within a table and allowing the class members to have different names to the table columns</a>.</p>
<p><strong>Step 4</strong> Connect to the database</p>
<p>In this step, the application connects to the database to indicate that it wants to access the data nodes directly rather than via the MySQL Server (and hidden conversion to SQL),  the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">ConnectionProperties</span> is set to <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">ndb</span> (rather than <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysql</span>). Additionally, a callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) is passed as an argument. Recall that this is an event-driven, non-blocking, asynchronous API and so after calling <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">openSession</span>, control will be immediately returned to the application â€“ without waiting for the session to actually be established â€“ the application can then go away and perform other useful work. Once the session has been created, the callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) will be invoked, allowing the application to take the next steps.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var dbProperties = nosql.ConnectionProperties('ndb');
nosql.openSession(dbProperties, annotations, onSession);
</pre>
<p><strong>Step 5</strong> Store some data</p>
<p>Note that the code in this step is the implementation of the call back function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) that we passed in as a parameter to <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">openSession</span> in the previous step. This function simply instantiates a Town JavaScript object and then writes it to MySQL Cluster through the persist method. Once more, a callback function is passed in (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span>) which will be invoked once the data has been stored in the database. Note that any objects specified after the callback function in the parameter list (in this case, the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> object data) will be provided as parameters to the callback function when itâ€™s executed â€“ note that the session parameter is also included and the framework will pass that as a parameter to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span> callback function.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onSession = function(err, session) {
    if (err) {...} else {
        var data = new Town('Maidenhead', 'Berkshire');
        session.persist(data, onInsert, data, session);
    }
};
</pre>
<p><strong>Step 6</strong> Verify insert succeeded &amp; initiate reading of data from the database</p>
<p>Next, our callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span>) is called and the object parameter contains the Town that had been passed into the persist method in the previous step, together with the session variable. This function simply checks that there wasnâ€™t an error and then displays the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> that has been stored in the database. Again, a callback function is provided â€“ <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onFind</span> â€“ that will be called once the data has been found.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onInsert = function(err, object, session) {
    if (err) { ... } else {
        console.log('Inserted: ' + JSON.stringify(object));
        session.find(Town, 'Maidenhead', onFind);
    }
};
</pre>
<p><strong>Step 7</strong> Process the data read back from the database</p>
<p>Finally, <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onFind</span> is called-back and it handles the processing of the results (whether it is an error or the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> object in the form of the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">result</span> parameter).</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onFind = function(err, result) {
    console.log('onFind.');
    if (err) { ... } else {
        console.log('Found: ' + JSON.stringify(result));
    }
    process.exit(0);
};
</pre>
<p>The <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html">on-line documentation</a> for mysql-js describes the API in full and includes some further examples.</p>
<h3>Running the application</h3>
<p>Before running the application, the location of the NDB API client library must be provided (this is with the MySQL Cluster package):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ export LD_LIBRARY_PATH=/home/billy/cluster_7_3/lib
</pre>
<p>The example code should be stored in a file called <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">my-test.js</span> in a directory under <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">cluster-install/share/nodejs/my_samples</span>. To run the application, just run the following (spoiler &#8211; there will be a database error!):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ node my-test.js 
Openning session
Openned session
Connected to cluster as node id: 50
onSession.
onInsert.
{ message: 'Error',
  sqlstate: '23000',
  ndb_error: null,
  cause: 
   { message: 'Foreign key constraint violated: No parent row found [255]',
     sqlstate: '23000',
     ndb_error: 
      { message: 'Foreign key constraint violated: No parent row found',
        handler_error_code: 151,
        code: 255,
        classification: 'ConstraintViolation',
        status: 'PermanentError' },
     cause: null } }
</pre>
<p>This error is seen because the code is attempting to add an object/row to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">towns</span> table where the county doesn&#8217;t already have an entry in the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">counties</span> table &#8211; this breaks the Foreign Key constraint that was included when the tables were created.</p>
<p>To get around this, the required row should be added to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">counties</span> table:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ mysql --protocol=tcp -u root
Welcome to the MySQL monitor.  Commands end with ; or g.
Your MySQL connection id is 3
Server version: 5.6.10-ndb-7.3.1-cluster-gpl MySQL Cluster Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.

mysql> REPLACE INTO test.counties VALUES ('Berkshire', 'England');
Query OK, 1 row affected (0.25 sec)
</pre>
<p>The code can then be executed again &#8211; this time successfully:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@drbd1 my_samples]$ node my-test.js 
Openning session
Openned session
Connected to cluster as node id: 50
onSession.
onInsert.
Inserted: {"town":"Maidenhead","county":"Berkshire"}
onFind.
Found: {"county":"Berkshire","town":"Maidenhead"}
</pre>
<h3>What next?</h3>
<p>Please give this a try &#8211; especially with your own code &#8211; and let us know how you get on. We&#8217;re especially interested in what features you&#8217;d like to see added &#8211; embedded objects, lists, joins&#8230;.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/mysql-cluster-with-node-js" data-via="wpbeginner" data-text="Using JavaScript and Node.js with MySQL Cluster &#8211; First steps" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/mysql-cluster-with-node-js"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/mysql-cluster-with-node-js" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fmysql-cluster-with-node-js&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a>, <a href="/category/mysql-cluster" rel="category tag">MySQL Cluster</a> | 
Tags: <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/mysql-cluster-7-3" rel="tag">MySQL Cluster 7.3</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/nosql" rel="tag">NoSQL</a>
</div>

			</div>			<div id="post-2472" class="post-2472 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql tag-failover tag-ha tag-high-availability tag-mysql tag-mysql-5-6 tag-mysql-replication tag-utilities">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities">September 24, 2012</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities#comments">115 comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities" rel="bookmark">Replication and auto-failover made easy with MySQL Utilities</a></h2>
				
				<div class="entry">
										<div id="attachment_2474" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2012/08/WorkBench.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2474" class="size-medium wp-image-2474" title="MySQL utilities in Workbench" alt="MySQL utilities in Workbench" src="/wp-content/uploads/2012/08/WorkBench-300x164.jpg" width="300" height="164"></a><p id="caption-attachment-2474" class="wp-caption-text">Utilities in MySQL Workbench</p>
</div>
<p>If you&#8217;re a user of MySQL Workbench then you may have noticed a pocket knife icon appear in the top right hand corner &#8211; click on that and a terminal opens which gives you access to the MySQL utilities. In this post I&#8217;m focussing on the replication utilities but you can also refer to the full <a title="MySQL Utilities documentation" href="http://dev.mysql.com/doc/workbench/en/mysql-utilities.html" target="_blank">MySQL Utilities documentation</a>.</p>
<p>What I&#8217;ll step through is how to uses these utilities to:</p>
<ul>
<li>Set up replication from a single master to multiple slaves</li>
<li>Automatically detect the failure of the master and promote one of the slaves to be the new master</li>
<li>Introduce the old master back into the topology as a new slave and then promote it to be the master again</li>
</ul>
<h3>Tutorial Video</h3>
<p>Before going through the steps in detail here&#8217;s a demonstration of the replication utilities in action&#8230;<br>
<iframe loading="lazy" title="MySQL Replication Utilities Tutorial" width="480" height="270" src="https://www.youtube.com/embed/yZJECIq5-Ac?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><br>
To get full use of these utilities you should use the InnoDB storage engine together with the <a title="MySQL 5.6 Replication - including global transaction IDs" href="http://dev.mysql.com/tech-resources/articles/mysql-5.6-replication.html" target="_blank">Global Transaction ID functionality from the latest MySQL 5.6 DMR</a>.</p>
<h3>Do you really need/want auto-failover?</h3>
<p>For many people, the instinctive reaction is to deploy a fully automated system that detects when the master database fails and then fails over (promotes a slave to be the new master) without human intervention. For many applications this may be the correct approach.</p>
<p>There are inherent risks to this though &#8211; What if the failover implementation has a flaw and fails (after all, we probably don&#8217;t test this out in the production system very often)? What if the slave isn&#8217;t able to cope with the workload and makes things worse? Is it just a transitory glitch and would the best approach have been just to wait it out?</p>
<p>Following a <a title="Github outage following auto-failover of the database" href="http://github.com/blog/1261-github-availability-this-week" target="_blank">recent, high profile outage</a> there has been a great deal of debate on the topic between those that recommend auto-failover and those that believe it should only ever be entrusted to a knowledgeable (of the application and the database architecture) and well informed (of the state of the database nodes, application load etc.) human. Of course, if the triggering of the failover is to be left to a human then you want that person to have access to the information they need and an extremely simple procedure (ideally a single command) to execute the failover. Probably the truth is that it all depends on your specific circumstances.</p>
<p>The MySQL replication utilities aim to support you whichever camp you belong to:</p>
<ul>
<li>In the fully automated mode, the utilities will continually monitor the state of the master and in the event of its failure identify the best slave to promote &#8211; by default it will select the one that is most up-to-date and then apply any changes that are available on other slaves but not on this one before promoting it to be the new master. The user can override this behaviour (for example by limiting which of the slaves are eligible for promotion). The user is also able to bind in their own programs to be run before and after the failover (for example, to inform the application).</li>
<li>In the monitoring mode, the utility still continually checks the availability of the master, and informs the user if it should fail. The user then executes a single command to fail over to their preferred slave.</li>
</ul>
<h3>Step 1. Make sure MySQL Servers are configured correctly</h3>
<p>For some of the utilities, it&#8217;s important that you&#8217;re using Global Transaction IDs; binary logging needs to be enabled; may as well use the new crash-safe slave functionality&#8230; It&#8217;s beyond the scope of this post to go through all of those and so instead I&#8217;ll just give example configuration files for the 5 MySQL Servers that will be used:</p>
<p><strong>my1.cnf</strong></p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[mysqld]
binlog-format=ROW
log-slave-updates=true
gtid-mode=on
disable-gtid-unsafe-statements=true # Use enforce-gtid-consistency from 5.6.9+
master-info-repository=TABLE
relay-log-info-repository=TABLE
sync-master-info=1
datadir=/home/billy/mysql/data1
server-id=1
log-bin=util11-bin.log
report-host=utils1
report-port=3306
socket=/home/billy/mysql/sock1
port=3306</pre>
<p><strong>my2.cnf</strong></p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[mysqld]
binlog-format=ROW
log-slave-updates=true
gtid-mode=on
disable-gtid-unsafe-statements=true # Use enforce-gtid-consistency from 5.6.9+
master-info-repository=TABLE
relay-log-info-repository=TABLE
sync-master-info=1
datadir=/home/billy/mysql/data2
server-id=2
log-bin=util12-bin.log
report-host=utils1
report-port=3307
socket=/home/billy/mysql/sock2
port=3307</pre>
<p><strong>my3.cnf</strong></p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[mysqld]
binlog-format=ROW
log-slave-updates=true
gtid-mode=on
disable-gtid-unsafe-statements=true # Use enforce-gtid-consistency from 5.6.9+
master-info-repository=TABLE
relay-log-info-repository=TABLE
sync-master-info=1
datadir=/home/billy/mysql/data3
server-id=3
log-bin=util2-bin.log
report-host=utils2
report-port=3306
socket=/home/billy/mysql/sock3
port=3306</pre>
<p><strong>my4.cnf</strong></p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[mysqld]
binlog-format=ROW
log-slave-updates=true
gtid-mode=on
disable-gtid-unsafe-statements=true # Use enforce-gtid-consistency from 5.6.9+
master-info-repository=TABLE
relay-log-info-repository=TABLE
master-info-file=/home/billy/mysql/master4.info
datadir=/home/billy/mysql/data4
server-id=4
log-bin=util4-bin.log
report-host=utils2
report-port=3307
socket=/home/billy/mysql/sock4
port=3307</pre>
<p><strong>my5.cnf</strong></p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[mysqld]
binlog-format=ROW
log-slave-updates=true
gtid-mode=on
disable-gtid-unsafe-statements=true # Use enforce-gtid-consistency from 5.6.9+
datadir=/home/billy/mysql/data5
master-info-repository=TABLE
relay-log-info-repository=TABLE
sync-master-info=1
#master-info-file=/home/billy/mysql/master5.info
server-id=5
log-bin=util5-bin.log
report-host=utils2
report-port=3308
socket=/home/billy/mysql/sock5
port=3308</pre>
<p>The utilities are actually going to be run from a remote host and so it will be necessary for that host to access each of the MySQL Servers and so a user has to be granted remote access (note that the utilities will automatically create the replication user):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">[billy@utils1 ~]$ mysql -h 127.0.0.1 -P3306 -u root -e "grant all on *.* to root@'%' with grant option;"
[billy@utils1 ~]$ mysql -h 127.0.0.1 -P3307 -u root -e "grant all on *.* to root@'%' with grant option;"
[billy@utils2 ~]$ mysql -h 127.0.0.1 -P3306 -u root -e "grant all on *.* to root@'%' with grant option;"
[billy@utils2 ~]$ mysql -h 127.0.0.1 -P3307 -u root -e "grant all on *.* to root@'%' with grant option;"
[billy@utils2 ~]$ mysql -h 127.0.0.1 -P3308 -u root -e "grant all on *.* to root@'%' with grant option;"</pre>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;"></pre>
<p>OK &#8211; that&#8217;s the most painful part of the whole process out of the way!</p>
<h3>Set up replication</h3>
<p>While there are extra options (such as specifying what username/password to use for the replication user or providing a password for the root user) I&#8217;m going to keep things simple and use the defaults as much as possible. The following commands are run from the MySQL Utilities terminal &#8211; just click on the pocket-knife icon in MySQL Workbench.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlreplicate --master=root@utils1:3306 --slave=root@utils1:3307</strong>
# master on utils1: ... connected.
# slave on utils1: ... connected.
# Checking for binary logging on master...
# Setting up replication...
# ...done.

<strong>mysqlreplicate --master=root@utils1:3306 --slave=root@utils2:3306</strong>
# master on utils1: ... connected.
# slave on utils2: ... connected.
# Checking for binary logging on master...
# Setting up replication...
# ...done.

<strong>mysqlreplicate --master=root@utils1:3306 --slave=root@utils2:3307</strong>
# master on utils1: ... connected.
# slave on utils2: ... connected.
# Checking for binary logging on master...
# Setting up replication...
# ...done.

<strong>mysqlreplicate --master=root@utils1:3306 --slave=root@utils2:3308</strong>
# master on utils1: ... connected.
# slave on utils2: ... connected.
# Checking for binary logging on master...
# Setting up replication...
# ...done.</pre>
<p>That&#8217;s it, replication has now been set up from one master to four slaves.</p>
<p>You can now check that the replication topology matches what you intended:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlrplshow --master=root@utils1 --discover-slaves-login=root;</strong>
# master on utils1: ... connected.
# Finding slaves for master: utils1:3306

# Replication Topology Graph
utils1:3306 (MASTER)
   |
   +--- utils1:3307 - (SLAVE)
   |
   +--- utils2:3306 - (SLAVE)
   |
   +--- utils2:3307 - (SLAVE)
   |
   +--- utils2:3308 - (SLAVE)</pre>
<p>Additionally, you can also check that any of the replication relationships is correctly configure:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlrplcheck --master=root@utils1 --slave=root@utils2</strong>
# master on utils1: ... connected.
# slave on utils2: ... connected.
Test Description                                                     Status
---------------------------------------------------------------------------
Checking for binary logging on master                                [pass]
Are there binlog exceptions?                                         [pass]
Replication user exists?                                             [pass]
Checking server_id values                                            [pass]
Is slave connected to master?                                        [pass]
Check master information file                                        [pass]
Checking InnoDB compatibility                                        [pass]
Checking storage engines compatibility                               [pass]
Checking lower_case_table_names settings                             [pass]
Checking slave delay (seconds behind master)                         [pass]
# ...done.</pre>
<p>Including the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">-s</span> option would have included the output that you&#8217;d expect to see from <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">SHOW SLAVE STATUSG on the slave.</span></p>
<h3>Automated monitoring and failover</h3>
<p>The previous section showed how you can save some serious time (and opportunity for user-error) when setting up MySQL replication. We now look at using the utilities to automatically monitor the state of the master and then automatically promote a new master from the pool of slaves. For simplicity I&#8217;ll stick with default values wherever possible but note that there are a number of extra options available to you such as:</p>
<ul>
<li>Constraining which slaves are eligible for promotion to master; the default is to take the most up-to-date slave</li>
<li>Binding in your own scripts to be run before or after the failover (e.g. inform your application to switch master?)</li>
<li>Have the utility monitor the state of the servers but don&#8217;t automatically initiate failover</li>
</ul>
<p>Here is how to set it up:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlfailover --master=root@utils1:3306 --discover-slaves-login=root --rediscover</strong>

MySQL Replication Failover Utility
Failover Mode = auto     Next Interval = Wed Aug 15 13:19:30 2012

Master Information
------------------
Binary Log File    Position  Binlog_Do_DB  Binlog_Ignore_DB
util11-bin.000001  2586

Replication Health Status
+---------+-------+---------+--------+------------+---------+
| host    | port  | role    | state  | gtid_mode  | health  |
+---------+-------+---------+--------+------------+---------+
| utils1  | 3306  | MASTER  | UP     | ON         | OK      |
| utils1  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3306  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3308  | SLAVE   | UP     | ON         | OK      |
+---------+-------+---------+--------+------------+---------+

Q-quit R-refresh H-health G-GTID Lists U-UUIDs</pre>
<p><span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysqlfailover</span> will then continue to run, refreshing the state &#8211; just waiting for something to go wrong.</p>
<p>Rather than waiting, I kill the master MySQL Server:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqladmin -h utils1 -P3306 -u root shutdown</strong></pre>
<p>Checking with the still-running <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysqlfailover</span> we can see that it has promoted <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">utils1:3307</span>.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">MySQL Replication Failover Utility
Failover Mode = auto     Next Interval = Wed Aug 15 13:21:13 2012

Master Information
------------------
Binary Log File    Position  Binlog_Do_DB  Binlog_Ignore_DB
util12-bin.000001  7131

Replication Health Status
+---------+-------+---------+--------+------------+---------+
| host    | port  | role    | state  | gtid_mode  | health  |
+---------+-------+---------+--------+------------+---------+
| utils1  | 3307  | MASTER  | UP     | ON         | OK      |
| utils2  | 3306  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3308  | SLAVE   | UP     | ON         | OK      |
+---------+-------+---------+--------+------------+---------+

Q-quit R-refresh H-health G-GTID Lists U-UUIDs</pre>
<h3>Add the recovered MySQL Server back into the topology</h3>
<p>After restarting the failed MySQL Server, it can be added back into the mix as a slave to the new master:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlreplicate --master=root@utils1:3307 --slave=root@utils1:3306</strong>
# master on utils1: ... connected.
# slave on utils1: ... connected.
# Checking for binary logging on master...
# Setting up replication...
# ...done.</pre>
<p>The output from <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysqlfailover</span> (still running) confirms the addition:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;">MySQL Replication Failover Utility
Failover Mode = auto     Next Interval = Wed Aug 15 13:24:38 2012

Master Information
------------------
Binary Log File    Position  Binlog_Do_DB  Binlog_Ignore_DB
util12-bin.000001  7131

Replication Health Status
+---------+-------+---------+--------+------------+---------+
| host    | port  | role    | state  | gtid_mode  | health  |
+---------+-------+---------+--------+------------+---------+
| utils1  | 3307  | MASTER  | UP     | ON         | OK      |
| utils1  | 3306  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3306  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3308  | SLAVE   | UP     | ON         | OK      |
+---------+-------+---------+--------+------------+---------+

Q-quit R-refresh H-health G-GTID Lists U-UUIDs</pre>
<p>If it were important that the recovered MySQL Server be restored as the master then it is simple to manually trigger the promotion (after quitting out of <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysqlfailover</span>):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080; padding-left: 30px;"><strong>mysqlrpladmin --master=root@utils1:3307 --new-master=root@utils1:3306 --demote-master 
  --discover-slaves-login=root switchover</strong>

# Discovering slaves for master at utils1:3307
# Checking privileges.
# Performing switchover from master at utils1:3307 to slave at utils1:3306.
# Checking candidate slave prerequisites.
# Waiting for slaves to catch up to old master.
# Stopping slaves.
# Performing STOP on all slaves.
# Demoting old master to be a slave to the new master.
# Switching slaves to new master.
# Starting all slaves.
# Performing START on all slaves.
# Checking slaves for errors.
# Switchover complete.
#
# Replication Topology Health:
+---------+-------+---------+--------+------------+---------+
| host    | port  | role    | state  | gtid_mode  | health  |
+---------+-------+---------+--------+------------+---------+
| utils1  | 3306  | MASTER  | UP     | ON         | OK      |
| utils1  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3306  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3307  | SLAVE   | UP     | ON         | OK      |
| utils2  | 3308  | SLAVE   | UP     | ON         | OK      |
+---------+-------+---------+--------+------------+---------+
# ...done.</pre>
<p>As always, we&#8217;d really appreciate people trying this out and giving us feedback!</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities" data-via="wpbeginner" data-text="Replication and auto-failover made easy with MySQL Utilities" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/replication-and-auto-failover-made-easy-with-mysql-utilities" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Freplication-and-auto-failover-made-easy-with-mysql-utilities&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/failover" rel="tag">failover</a>, <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-5-6" rel="tag">MySQL 5.6</a>, <a href="/tag/mysql-replication" rel="tag">MySQL Replication</a>, <a href="/tag/utilities" rel="tag">utilities</a>
</div>

			</div>			<div id="post-2172" class="post-2172 post type-post status-publish format-standard hentry category-mysql tag-ha tag-high-availability tag-mysql tag-mysql-5-6 tag-mysql-replication">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/whats-new-in-mysql-5-6-replication-free-webinar">December 12, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/whats-new-in-mysql-5-6-replication-free-webinar#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/whats-new-in-mysql-5-6-replication-free-webinar" rel="bookmark">What&#8217;s new in MySQL 5.6 Replication &#8211; free webinar</a></h2>
				
				<div class="entry">
										<div id="attachment_2174" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/12/Global_Transaction_IDs.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2174" class="size-medium wp-image-2174" title="Global_Transaction_IDs" src="/wp-content/uploads/2011/12/Global_Transaction_IDs-300x189.png" alt="" width="300" height="189"></a><p id="caption-attachment-2174" class="wp-caption-text">Global Transaction IDs - simplifying replication management</p>
</div>
<p>There will be a webinar this Wednesday where you can get the latest information on all of the great new content that has been included in the MySQL 5.6 Development Releases as well as some features that are still being developed. As always, the webinar is free but you need to <a title="MySQL 5.6 Replication Webinar - register here" href="http://www.mysql.com/news-and-events/web-seminars/display-677.html" target="_blank">register here</a> in advance. Even if you can&#8217;t attend the live event it&#8217;s worth registering so that you get sent the replay.</p>
<p>Some of the topics we&#8217;ll be discussing are:</p>
<ul>
<li>Enhanced data integrity: Global Transactions Identifiers, Crash-Safe Slaves and Replication Event Checksums;</li>
<li>High performance: Multi-Threaded Slaves, Binlog Group Commit and Optimized Row-Based Replication;</li>
<li>Improved flexibility: Time Delayed Replication, Multi-Source Replication, Binlog API and Informational Log Events</li>
</ul>
<div>The event starts onÂ Wednesday, December 14, 2011: 09:00 Pacific time; 17:00 UK; 18:00 CET.</div>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/whats-new-in-mysql-5-6-replication-free-webinar" data-via="wpbeginner" data-text="What&#8217;s new in MySQL 5.6 Replication &#8211; free webinar" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/whats-new-in-mysql-5-6-replication-free-webinar"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/whats-new-in-mysql-5-6-replication-free-webinar" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fwhats-new-in-mysql-5-6-replication-free-webinar&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-5-6" rel="tag">MySQL 5.6</a>, <a href="/tag/mysql-replication" rel="tag">MySQL Replication</a>
</div>

			</div>			<div id="post-2168" class="post-2168 post type-post status-publish format-standard hentry category-mysql tag-ha tag-high-availability tag-mysql tag-mysql-cluster tag-mysql-replication tag-oracle-virtual-machine tag-webinar tag-windows">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/mysql-ha-solutions-webinar-replay">December 7, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/mysql-ha-solutions-webinar-replay#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/mysql-ha-solutions-webinar-replay" rel="bookmark">MySQL HA Solutions &#8211; webinar replay</a></h2>
				
				<div class="entry">
										<p>If you were unable to attend the live webinar (or you want to go back and listen to it again) then it&#8217;s now available toÂ <a title="MySQL HA Solutions webinar replay" href="https://event.on24.com/eventRegistration/EventLobbyServlet?target=registration.jsp&amp;eventid=371281&amp;sessionid=1&amp;key=3BD8C75311563EAB4E28858BFB8EA46E&amp;sourcepage=register" target="_blank">view on-line here</a>.</p>
<p>Databases are the center of todayâ€™s web and enterprise applications, storing and protecting an organizationâ€™s most valuable assets and supporting business-critical applications. Just minutes of downtime can result in significant lost revenue and dissatisfied customers. Ensuring database highly availability is therefore a top priority for any organization. Tune into this webcast to learn more.</p>
<p>The session discusses:</p>
<ol>
<li>Causes, effect and impact of downtime</li>
<li>Methodologies to map applications to HA solution</li>
<li>Overview of MySQL HA solutions</li>
<li>Operational best practices to ensure business continuity</li>
</ol>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/mysql-ha-solutions-webinar-replay" data-via="wpbeginner" data-text="MySQL HA Solutions &#8211; webinar replay" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/mysql-ha-solutions-webinar-replay"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/mysql-ha-solutions-webinar-replay" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fmysql-ha-solutions-webinar-replay&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/mysql-replication" rel="tag">MySQL Replication</a>, <a href="/tag/oracle-virtual-machine" rel="tag">Oracle Virtual Machine</a>, <a href="/tag/webinar" rel="tag">webinar</a>, <a href="/tag/windows" rel="tag">Windows</a>
</div>

			</div>			<div id="post-2105" class="post-2105 post type-post status-publish format-standard hentry category-mysql tag-mysql tag-mysql-enterprise-monitor">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor">November 15, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor#comments">One comment</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor" rel="bookmark">Setting per-server threshold in MySQL Enterprise Monitor</a></h2>
				
				<div class="entry">
										<p>I was speaking with a MySQL customer last week and he had a feature request for MEM. He wants different servers to have different threshold values for certain MEM advisor rules and suggests that users be allowed to override the thresholds when scheduling the rule against a server &#8211; just as you can with the refresh interval. At the moment they work around this by creating multiple duplicates of the same rule and then set different thresholds in each.Â This is a good feature request but in the mean-time this post explains an alternate workaround &#8211; having the rules act on thresholds that are defined within the databases of the individual serves.</p>
<h3>Step 1. Create a new threshold table in each MySQL Server</h3>
<p>The table should be created and then a row added for each rule that needs a per-server threshold:</p>
<pre style="padding-left: 30px;"><span style="color: #003366;">mysql&gt; create database clusterdb;use clusterdb;
mysql&gt; CREATE TABLE thresholds (name VARCHAR(50) NOT NULL PRIMARY KEY, 
       scale_percentage INT);
mysql&gt; REPLACE INTO thresholds VALUES ('connect_usage_excessive',50);</span></pre>
<p>The scale_percentage value will be used in the new MEM rule as a scaling factor for the info, warning and critical threshold levels.<br>
Note that if using MySQL Cluster then you have the option as to whether each MySQL Server in the Cluster has its own set of thresholds (create the table with the InnoDB storage engine) or if they share the same thresholds (create the table with the ndbcluster storage engine).</p>
<h3>Step 2. Add custom data collector(s)</h3>
<p>First of all, check that you have permissions to edit the custom.xml file &#8211; on Windows this will be stored in a location such as C:Program FilesMySQLEnterpriseAgentsharemysql-monitor-agentitems<br>
</p>
<div id="attachment_2108" style="width: 507px" class="wp-caption alignnone">
<a href="/wp-content/uploads/2011/11/custom_xml_permissions.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2108" src="/wp-content/uploads/2011/11/custom_xml_permissions.png" alt="" title="custom_xml_permissions" width="497" height="579" class="size-full wp-image-2108"></a><p id="caption-attachment-2108" class="wp-caption-text">Change permissions for custom.xml if needed</p>
</div>
<br>
For each rule that needs a variable threshold, add a new class:
<pre style="padding-left: 30px;"><span style="color: #003366;">&lt;class&gt;
     &lt;namespace&gt;mysql&lt;/namespace&gt;
     &lt;classname&gt;connection_usage_excessive&lt;/classname&gt;
     &lt;query&gt;&lt;![CDATA[SELECT scale_percentage AS 
         connection_usage_excessive_scale_percentage
         FROM clusterdb.thresholds 
         WHERE name='connect_usage_excessive']]&gt;&lt;/query&gt;
     &lt;attributes&gt;
          &lt;default counter="false" type="INTEGER"/&gt;
     &lt;attribute name="connection_usage_excessive_scale_percentage"/&gt;
     &lt;/attributes&gt;
&lt;/class&gt;
</span></pre>
<p>This custom.xml files should be copied to every server. For this data collector to be picked up by MEM, simply restart the agent(s).</p>
<h3>Step 3. Copy and extend the rule</h3>
<p>From the &#8220;Advisors/Manage Rules&#8221; tab of the MEM browser click on the copy icon next to the rule you want to apply per-server thresholds to and then edit that rule.<br>
</p>
<div id="attachment_2107" style="width: 546px" class="wp-caption alignnone">
<a href="/wp-content/uploads/2011/11/Copy_rule.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2107" src="/wp-content/uploads/2011/11/Copy_rule.png" alt="" title="Copy_rule" width="536" height="278" class="size-full wp-image-2107"></a><p id="caption-attachment-2107" class="wp-caption-text">Create a copy of the advisor rule</p>
</div>
<br>
When editing the rule, add a new variable &#8220;%threshold_scale%&#8221; which uses the new data collector you&#8217;ve just created and then in the expression apply that as a percentage to factor the threshold.<br>
<div id="attachment_2109" style="width: 610px" class="wp-caption alignnone">
<a href="/wp-content/uploads/2011/11/edit_rule.png"><img decoding="async" aria-describedby="caption-attachment-2109" src="/wp-content/uploads/2011/11/edit_rule.png" alt="" title="edit_rule" width="600" class="size-full wp-image-2109"></a><p id="caption-attachment-2109" class="wp-caption-text">Apply the threshold scaler within the rule</p>
</div>
<h3>Step 4. Schedule the rule</h3>
<p>You can now go ahead and schedule this rule against each of the servers &#8211; and the threshold will automatically be scaled appropriately for each server.<br>
</p>
<div id="attachment_2110" style="width: 610px" class="wp-caption alignnone">
<a href="/wp-content/uploads/2011/11/schedule_rule.png"><img decoding="async" aria-describedby="caption-attachment-2110" src="/wp-content/uploads/2011/11/schedule_rule.png" alt="" title="schedule_rule" width="600" class="size-full wp-image-2110"></a><p id="caption-attachment-2110" class="wp-caption-text">Schedule new rule against each server</p>
</div>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor" data-via="wpbeginner" data-text="Setting per-server threshold in MySQL Enterprise Monitor" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/setting-per-server-threshold-in-mysql-enterprise-monitor" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fsetting-per-server-threshold-in-mysql-enterprise-monitor&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-enterprise-monitor" rel="tag">MySQL Enterprise Monitor</a>
</div>

			</div>			<div id="post-1939" class="post-1939 post type-post status-publish format-standard hentry category-mysql tag-cluster tag-ha tag-high-availability tag-mysql tag-windows">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/mysql-with-windows-server-2008-r2-failover-clustering">September 6, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/mysql-with-windows-server-2008-r2-failover-clustering#comments">16 comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/mysql-with-windows-server-2008-r2-failover-clustering" rel="bookmark">MySQL with Windows Server 2008 R2 Failover Clustering</a></h2>
				
				<div class="entry">
										<div id="attachment_1941" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/windows-2008-r2-logo1.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1941" class="size-medium wp-image-1941" title="windows-2008-r2-logo1" src="/wp-content/uploads/2011/09/windows-2008-r2-logo1-300x204.jpg" alt="" width="300" height="204"></a><p id="caption-attachment-1941" class="wp-caption-text">Windows Server 2008 R2 Failover Clustering</p>
</div>
<p>Oracle has <a href="http://www.oracle.com/us/corporate/press/485067">announced </a>support for running MySQL on Windows Server Failover Clustering (WSFC); with so many people developing and deploying MySQL on Windows, this offers a great option to add High Availability to MySQL deployments if you don&#8217;t want to go as far as deploying MySQL Cluster.</p>
<p>This post will give a brief overview of how to set things up but for all of the gory details a <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_windows_failover_clustering.php" target="_blank">new white paperÂ MySQL with Windows Server 2008 R2 Failover Clustering</a> is available &#8211; please give me any feedback. I will also be presenting on this at a <a href="http://www.mysql.com/news-and-events/web-seminars/display-659.html" target="_blank">free webinar</a> on Thursday 15th September (please <a href="http://www.mysql.com/news-and-events/web-seminars/display-659.html" target="_blank">register in advance</a>) as well at an Oracle OpenWorld session in San Francisco on Tuesday 4th October (Tuesday, 01:15 PM, Marriott Marquis &#8211; Golden Gate C2) &#8211; a good opportunity to get more details and get your questions answered.</p>
<p>It sometimes surprises people just how much MySQL is used on Windows, here are a few of the reasons:</p>
<ul>
<li>Lower TCO
<ul>
<li>90% savings over Microsoft SQL Server</li>
<li>If your a littleÂ skepticalÂ about this then try it out for yourself with the <a href="http://mysql.com/tcosavings/" target="_blank">MySQL TCO Savings Calculator</a>
</li>
</ul>
</li>
<li>Broad platform support
<ul>
<li>No lock-in</li>
<li>Windows, Linux, MacOS, Solaris</li>
</ul>
</li>
<li>Ease of use and administration
<ul>
<li>&lt; 5 mins to download, install &amp; configure</li>
<li>MySQL Enterprise Monitor &amp; MySQL WorkBench</li>
</ul>
</li>
<li>Reliability
<ul>
<li>24&#215;7 Uptime</li>
<li>Field Proven</li>
</ul>
</li>
<li>Performance and scalability
<ul>
<li>MySQL 5.5 delivered over 500% performance boost on Windows.</li>
</ul>
</li>
<li>Integration into Windows environment
<ul>
<li>ADO.NET, ODBC &amp; Microsoft Access Integration</li>
<li>And now, support for Windows Server Failover Clustering!</li>
</ul>
</li>
</ul>
<div>Probably the most common form of High Availability for MySQL is MySQL (asynchronous or semi-synchronous replication) and the option for the highest levels of availability is <a href="http://www.mysql.com/products/cluster/" target="_blank">MySQL Cluster</a>. We are in the process of rolling out a number of solutions that provide levels of availability somewhere in between MySQL Replication and MySQL Cluster;Â Oracle VM Template for MySQL Enterprise Edition was the first (<a href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition/" target="_blank">overview</a>, <a href="/mysql-cluster/webinar-today-delivering-scalable-and-highly-available-session-management-with-mysql-cluster/" target="_blank">webinar replay</a>, <a href="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition/" target="_blank">white paper</a>) and WSFC is the second.</div>
<p>&nbsp;</p>
<h3>Solution Overview</h3>
<div>
<p><a href="/wp-content/uploads/2011/09/wfc_architrecture.jpg"><img loading="lazy" decoding="async" class="alignright size-medium wp-image-1936" title="wfc_architrecture" src="/wp-content/uploads/2011/09/wfc_architrecture-210x300.jpg" alt="" width="210" height="300"></a>MySQL with Windows Failover Clustering requires at least 2 servers within the cluster together with some shared storage (for example FCAL SAN or iSCSI disks). For redundancy, 2 LANs should be used for the cluster to avoid a single point of failure and typically one would be reserved for the heartbeats between the cluster nodes.</p>
<p>The MySQL binaries and data files are stored in the shared storage and Windows Failover Clustering ensures that at most one of the cluster nodes will access those files at any point in time (hence avoiding file corruptions).</p>
<p>Clients connect to the MySQL service through a Virtual IP Address (VIP) and so in the event of failover they experience a brief loss of connection but otherwise do not need to be aware that the failover has happened other than to handle the failure of any in-flight transactions.</p>
<h3>
<a href="/wp-content/uploads/2011/09/wfc_network.jpg"><img loading="lazy" decoding="async" class="alignright size-medium wp-image-1935" title="wfc_network" src="/wp-content/uploads/2011/09/wfc_network-272x300.jpg" alt="" width="272" height="300"></a>Target Configuration</h3>
<p>This post will briefly step through how to set up and use a cluster and this diagrams shows how this is mapped onto physical hardware and network addresses for the lab used later in this post. In this case, iSCSI is used for the shared storage. Note that ideally there would be an extra subnet for the heartbeat connection between ws1 and ws3.</p>
<p>This is only intended to be an overview and the steps have been simplified refer to the <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_windows_failover_clustering.php" target="_blank">white paper</a> for more details on the steps.</p>
<h3>Prerequisites</h3>
<ul>
<li>MySQL 5.5 &amp; InnoDB must be used for the database (note that MyISAM is not crash-safe and so failover may result in a corrupt database)</li>
<li>Windows Server 2008 R2</li>
<li>Redundant network connections between nodes and storage</li>
<li>WSFC cluster validation must pass</li>
<li>iSCSI or FCAL SAN should be used for the shared storage</li>
</ul>
<h3>Step 1 Configure iSCSI in software (optional)</h3>
<div id="attachment_1934" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_iscsi.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1934" class="size-medium wp-image-1934" title="wfc_iscsi" src="/wp-content/uploads/2011/09/wfc_iscsi-300x103.jpg" alt="" width="300" height="103"></a><p id="caption-attachment-1934" class="wp-caption-text">Create 2 clustered disks</p>
</div>
<p>This post does not attempt to describe how to configure a highly available, secure and performant SAN but in order to implement the subsequent steps shared storage is required and so in this step we look at one way of using software to provide iSCSI targets without any iSCSI/SAN hardware (just using the serverâ€™s internal disk). This is a reasonable option to experiment with but probably not what youâ€™d want to deploy with for a HA application. If you already have shared storage set up then you can skip this step and use that instead.</p>
<p>As part of this process you&#8217;ll create at least two virtual disks within the iSCSI target; one for the quorum file and one for the MySQL binaries and data files. The quorum file is used by Windows Failover Clustering to avoid â€œsplit-brainâ€ behaviour.</p>
<h3>Step 2. Ensure Windows Failover Clustering is enabled</h3>
<div id="attachment_1933" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_feature.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1933" class="size-medium wp-image-1933" title="wfc_feature" src="/wp-content/uploads/2011/09/wfc_feature-300x228.jpg" alt="" width="300" height="228"></a><p id="caption-attachment-1933" class="wp-caption-text">Ensure that WSFC is enabled</p>
</div>
<p>To confirm that Windows Failover Clustering is installed on ws1 and ws3, open the â€œFeaturesâ€ branch in the Server Manager tool and check if â€œFailover Cluster Managerâ€ is present.</p>
<p>If Failover Clustering is not installed then it is very simple to add it. Select â€œFeaturesâ€ within the Service Manager and then click on â€œAdd Featuresâ€ and then select â€œFailover Clusteringâ€ and then â€œNextâ€.</p>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>Step 3. Install MySQL as a service on both servers</h3>
<div id="attachment_1932" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_mysql_service.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1932" class="size-medium wp-image-1932" title="wfc_mysql_service" src="/wp-content/uploads/2011/09/wfc_mysql_service-300x155.jpg" alt="" width="300" height="155"></a><p id="caption-attachment-1932" class="wp-caption-text">Install MySQL as a Windows Service</p>
</div>
<p>If MySQL is already installed as a service on both ws1 and ws3 then this step can be skipped.</p>
<p>The installation is very straight-forward using the <a href="http://dev.mysql.com/tech-resources/articles/mysql-installer-for-windows.html" target="_blank">MySQL Windows Installer</a> and selecting the default options is fine.</p>
<p>Within the MySQL installation wizard, sticking with the defaults is fine for this exercise. When you reach the configuration step, check â€œCreate Windows Serviceâ€.</p>
<p>The installation and configuration must be performed on both ws1 and ws2, if necessary.</p>
<h3>Step 4. Migrate MySQL binaries &amp; data to shared storage</h3>
<p>If the MySQL Service is running on either ws1 or ws3 then stop it &#8211; open the Task Manager using ctrl-shift-escape, select the â€œServicesâ€ tab and then right-click on the MySQL service and choose â€œStop Serviceâ€.</p>
<p>As the iSCSI disks were enabled on ws1 you can safely access them in order to copy across the MySQL binaries and data files to the shared disk.</p>
<h3>Step 5. Create Windows Failover Cluster</h3>
<div id="attachment_1931" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_create_cluster.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1931" class="size-medium wp-image-1931" title="wfc_create_cluster" src="/wp-content/uploads/2011/09/wfc_create_cluster-300x183.jpg" alt="" width="300" height="183"></a><p id="caption-attachment-1931" class="wp-caption-text">Create the Cluster (without MySQL)</p>
</div>
<p>From the Server Manager on either ws1 or ws3 navigate to â€œFeatures -&gt; Failover Cluster Managerâ€ and then select â€œValidate a Configurationâ€. When prompted enter ws1 as one name and then ws3 as the other.</p>
<p>In the â€œTesting Optionsâ€ select â€œRun all testsâ€ and continue. If the tests report any errors then these should be fixed before continuing.</p>
<p>Now that the system has been verified, select â€œCreate a Clusterâ€ and provide the same server names as used in the validation step. In this example, â€œMySQLâ€ is provided as the â€œCluster Nameâ€ and then the wizard goes on to create the cluster.</p>
<h3>Step 6. Create Cluster of MySQL Servers within Windows Cluster</h3>
<div id="attachment_1930" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_cluster_mysql.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1930" class="size-medium wp-image-1930" title="wfc_cluster_mysql" src="/wp-content/uploads/2011/09/wfc_cluster_mysql-300x263.jpg" alt="" width="300" height="263"></a><p id="caption-attachment-1930" class="wp-caption-text">Cluster the MySQL Service</p>
</div>
<p>Adding the MySQL service to the new Cluster is very straight-forward. Right-click on â€œServices and applicationsâ€ in the Server Manager tree and select â€œConfigure a Service or Applicationâ€¦â€. When requested by the subsequent wizard, select â€œGeneric Serviceâ€ from the list and then â€œMySQLâ€ from the offered list of services. Our example name was â€œClusteredMySQLâ€. Please choose an appropriate name for your cluster. The wizard will then offer the shared disk that has not already been established as the quorum disk for use with the Clustered service â€“ make sure that it is selected.</p>
<p>Once the wizard finishes, it starts up the MySQL Service. Click on the â€œClusteredMySQLâ€ service branch to observe that the service is up and running. You should also make a note of the Virtual IP (VIP) assigned, in this case 192.168.2.18.</p>
<h3>Step 7. Test the cluster</h3>
<p>As described in Step 6, the VIP should be used to connect to the clustered MySQL service:</p>
<pre style="padding-left: 30px;"><span style="color: #333399;">C: mysql â€“u root â€“h 192.168.2.18 â€“P3306 â€“pbob</span></pre>
<p>From there create a database and populate some data.</p>
<pre style="padding-left: 30px;"><span style="color: #333399;">mysql&gt; CREATE DATABASE clusterdb;</span>
<span style="color: #333399;">mysql&gt; USE clusterdb;</span>
<span style="color: #333399;">mysql&gt; CREATE TABLE simples (id int not null primary key) ENGINE=innodb;</span>
<span style="color: #333399;">mysql&gt; REPLACE INTO simples VALUES (1);</span>
<span style="color: #333399;">mysql&gt; SELECT * FROM simples;</span>
<span style="color: #333399;">+----+</span>
<span style="color: #333399;">| id |</span>
<span style="color: #333399;">+----+</span>
<span style="color: #333399;">| 1 |</span>
<span style="color: #333399;">+----+</span></pre>
<div id="attachment_1929" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/09/wfc_migrate_service.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1929" class="size-medium wp-image-1929" title="wfc_migrate_service" src="/wp-content/uploads/2011/09/wfc_migrate_service-300x117.jpg" alt="" width="300" height="117"></a><p id="caption-attachment-1929" class="wp-caption-text">Migrate MySQL Service Across Cluster</p>
</div>
<p>The MySQL service was initially created on ws1 but it can be forced to migrate to ws3 by right-clicking on the service and selecting â€œMove this service or application to another nodeâ€.</p>
<p>As the MySQL data is held in the shared storage (which has also been migrated to ws3), it is still available and can still be accessed through the existing mysql client which is connected to the VIP:</p>
<pre style="padding-left: 30px;"><span style="color: #333399;">mysql&gt; select * from simples; </span>
<span class="Apple-style-span" style="color: #333399;">ERROR 2006 (HY000): MySQL server has gone away </span>
<span class="Apple-style-span" style="color: #333399;">No connection. Trying to reconnect... </span>
<span class="Apple-style-span" style="color: #333399;">Connection id: 1 </span>
<span class="Apple-style-span" style="color: #333399;">Current database: clusterdb </span>
<span class="Apple-style-span" style="color: #333399;">+----+ </span>
<span class="Apple-style-span" style="color: #333399;">| id | </span>
<span class="Apple-style-span" style="color: #333399;">+----+ </span>
<span class="Apple-style-span" style="color: #333399;">| 1 | </span>
<span class="Apple-style-span" style="color: #333399;">+----+</span></pre>
<p>Note the error shown above â€“ the mysql client loses the connection to the MySQL service as part of the migration and so it automatically reconnects and complete the query. Any application using MySQL with Windows Failover Cluster should also expect to have to cope with these â€œglitchesâ€ in the connection.</p>
<h3>Conclusion</h3>
<p>More users develop and deploy and MySQL on Windows than any other single platform. Enhancements in MySQL 5.5 increased performance by over 5x compared to previous MySQL releases. With certification for Windows Server Failover Clustering, MySQL can now be deployed to support business critical workloads demanding high availability, enabling organizations to better meet demanding service levels while also reducing TCO and eliminating single vendor lock-in.<br>
Please let me know how you get on by leaving comments on this post.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/mysql-with-windows-server-2008-r2-failover-clustering" data-via="wpbeginner" data-text="MySQL with Windows Server 2008 R2 Failover Clustering" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/mysql-with-windows-server-2008-r2-failover-clustering"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/mysql-with-windows-server-2008-r2-failover-clustering" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fmysql-with-windows-server-2008-r2-failover-clustering&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/cluster" rel="tag">Cluster</a>, <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/windows" rel="tag">Windows</a>
</div>

			</div>			<div id="post-1867" class="post-1867 post type-post status-publish format-standard hentry category-mysql tag-high-availability tag-mysql tag-oracle-virtual-machine">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on">July 11, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on" rel="bookmark">Webinar: &#8220;Oracle VM Template for MySQL Enterprise Edition&#8221; on Wednesday</a></h2>
				
				<div class="entry">
										<div id="attachment_1863" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/06/MySQL_OVM_HA.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1863" class="size-medium wp-image-1863" title="MySQL_OVM_HA" src="/wp-content/uploads/2011/06/MySQL_OVM_HA-300x149.jpg" alt="" width="300" height="149"></a><p id="caption-attachment-1863" class="wp-caption-text">HA Provided by OVM</p>
</div>
<p>Join us for a webinar this Wednesday (13th July) to understand more about the benefits of using the newÂ Oracle VM Template for MySQL Enterprise Edition as well as how to get started with it. As always the webinar is free but <a href="http://www.mysql.com/news-and-events/web-seminars/display-647.html" target="_blank">please register here</a>. The webinar starts at 9:00 am Pacific (5:00 pm UK, 6:00 pm CET) and even if you can&#8217;t make that time register anyway and you&#8217;ll be sent a link to the charts and replay.</p>
<p>As a reminder, a new white paper is available that goes through some of the details &#8211; if you have time then take a look at this paper before the webinar and then get any of your questions answered. <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_oracle-vm-template-for-mee.php">Get the white paper here</a>.</p>
<p>The official description&#8230;</p>
<p><span style="color: #333399;">Virtualization is a key technology to enable data center efficiency and provides the foundation for cloud computing. Integrating MySQL Enterprise Edition with Oracle Linux, the Oracle VM Template is the fastest, easiest and most reliable way to provision virtualized MySQL instances, enabling users to meet the explosive demand for web-based services. This webinar will demonstrate how the Oracle VM Template for MySQL Enterprise Edition ensures rapid deployment and helps eliminate configuration efforts and risks by providing a pre-installed and pre-configured virtualized software image, also taking advantage of Oracle VMâ€™s mechanisms to deliver high availability. The webinar will cover: &#8211; An overview of the technologies packaged into the template &#8211; How to configure and deploy the template &#8211; How to use, modify and save an adapted template that supports specific application requirements By attending the webinar, you will learn how the Oracle VM Template for MySQL Enterprise Edition provides the foundation for a more agile and highly available MySQL environment. This session will be approximately 1 hour in length and will include interactive Q&amp;A throughout. Please join us for this informative webinar!</span></p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on" data-via="wpbeginner" data-text="Webinar: &#8220;Oracle VM Template for MySQL Enterprise Edition&#8221; on Wednesday" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/webinar-oracle-vm-template-for-mysql-enterprise-edition-on" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fwebinar-oracle-vm-template-for-mysql-enterprise-edition-on&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/oracle-virtual-machine" rel="tag">Oracle Virtual Machine</a>
</div>

			</div>			<div id="post-1861" class="post-1861 post type-post status-publish format-standard hentry category-mysql tag-ha tag-high-availability tag-mysql tag-oracle-virtual-machine tag-ovm">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition">June 28, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition" rel="bookmark">White Paper &#8211; Oracle VM Template for MySQL Enterprise Edition</a></h2>
				
				<div class="entry">
										<p></p>
<div id="attachment_1863" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/06/MySQL_OVM_HA.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1863" src="/wp-content/uploads/2011/06/MySQL_OVM_HA-300x149.jpg" alt="" title="MySQL_OVM_HA" width="300" height="149" class="size-medium wp-image-1863"></a><p id="caption-attachment-1863" class="wp-caption-text">HA Provided by OVM</p>
</div>A new white paper is available that steps you though the benefits and the use of the Oracle VM Template for MySQL Enterprise Edition (also see <a href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition/">yesterday&#8217;s press announcement</a>). <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_oracle-vm-template-for-mee.php">Get the white paper here</a>.
<p>As a reminder Oracle Virtual Manager provides a way to add High Availability to your MySQL deployment (this is separate from MySQL Replication and MySQL Cluster). The new OVM template provides a very convenient way to create one or more Virtual Machines that come pre-provisioned with OVM, Oracle Linux and MySQL Enterprise Edition as well as the scripts required to integrate MySQL into OVM&#8217;s HA features.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition" data-via="wpbeginner" data-text="White Paper &#8211; Oracle VM Template for MySQL Enterprise Edition" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/white-paper-oracle-vm-template-for-mysql-enterprise-edition" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fwhite-paper-oracle-vm-template-for-mysql-enterprise-edition&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/oracle-virtual-machine" rel="tag">Oracle Virtual Machine</a>, <a href="/tag/ovm" rel="tag">OVM</a>
</div>

			</div>			<div id="post-1848" class="post-1848 post type-post status-publish format-standard hentry category-mysql tag-ha tag-high-availability tag-mysql tag-oracle-virtual-machine">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition">June 27, 2011</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition#comments">2 comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition" rel="bookmark">New &#8211; Oracle VM Template for MySQL Enterprise Edition</a></h2>
				
				<div class="entry">
										<p></p>
<div id="attachment_1847" style="width: 216px" class="wp-caption alignright">
<a href="/wp-content/uploads/2011/06/MySQL_OVM_Template.jpg"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-1847" src="/wp-content/uploads/2011/06/MySQL_OVM_Template-206x300.jpg" alt="" title="MySQL_OVM_Template" width="206" height="300" class="size-medium wp-image-1847"></a><p id="caption-attachment-1847" class="wp-caption-text">Oracle VM Template for MySQL Enterprise Edition</p>
</div>Oracle today announced the release of the &#8220;Oracle VM Template for MySQL Enterprise Edition&#8221; &#8211; you can <a href="http://www.oracle.com/us/corporate/press/421994">read the press-release here</a>. 
<p>There are a couple of ways to look at the benefits:</p>
<ul>
<li>Provides a simple alternate High Availability solution for MySQL (i.e. rather than MySQL Replication or MySQL Cluster &#8211; although you can still set up replication to/from a MySQL Server installed this way)</li>
<li>A new, very simple way to get up and running with MySQL Enterprise &#8211; running on a complete stack that Oracle can provide support for</li>
</ul>
<p>
As the focus of this blog is normally MySQL Cluster and Replication, the HA attributes of this solution are probably those of most interest. When you <a href="https://edelivery.oracle.com/oraclevm">download </a>the template and then load it into Oracle Virtual Machine (OVM) Manager and fire it up you get the chance to flag that you want it to be run in a HA mode. What this means is that:</p>
<ul>
<li>If the hardware, virtual machine, operating system or MySQL Server fail then the OVM Manager will recreate the VM on another physical server from the OVM Server Pool</li>
<li>For routine hardware maintenance you can tell OVM Manager to migrate a running VM to another physical server</li>
</ul>
<p>
Note that the data files are actually stored on shared storage under Oracle Cluster File System 2 (OCFS2) which is how a newly instantiated replacement VM can get up and running quickly. As the original hardware (or the MySQL Server instance, OS or VM) could still fail without warning the MySQL Storage Engine must be crash-safe and so this should be used with InnoDB rather than MyISAM.
</p>
<p>The complete software line-up looks like this:</p>
<ul>
<li>Oracle Linux 5 Update 6 with the Unbreakable Enterprise Kernel</li>
<li>Oracle VM 2.2.1</li>
<li>Oracle VM Manager 2.1.5</li>
<li>Oracle Cluster File System 2 (OCFS2)</li>
<li>MySQL Database 5.5.10 (Enterprise Edition) &#8211; InnoDB</li>
</ul>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition" data-via="wpbeginner" data-text="New &#8211; Oracle VM Template for MySQL Enterprise Edition" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/new-oracle-vm-template-for-mysql-enterprise-edition" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fnew-oracle-vm-template-for-mysql-enterprise-edition&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a> | 
Tags: <a href="/tag/ha" rel="tag">HA</a>, <a href="/tag/high-availability" rel="tag">High Availability</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/oracle-virtual-machine" rel="tag">Oracle Virtual Machine</a>
</div>

			</div>      
							<div class="more_posts">
					<span class="post_links"><a href="/category/mysql/page/3">&laquo; Older Entries</a> &nbsp; <a href="/category/mysql">Recent Entries &raquo;</a></span>
				</div>
						

					
	</div>
		
		
<div id="sidebar">
	<ul>

<li id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></li>

		<li id="recent-posts-2" class="widget widget_recent_entries">
		<h2 class="widgettitle">Recent Posts</h2>

		<ul>
											<li>
					<a href="/mongodb/building-a-collaborative-ios-minesweeper-game-with-realm">Building a collaborative iOS Minesweeper game with Realm</a>
									</li>
											<li>
					<a href="/mongodb/using-realm-flexible-sync-in-your-app-an-ios-tutorial">Using Realm Flexible Sync in Your Appâ€”an iOS Tutorial</a>
									</li>
											<li>
					<a href="/mongodb/realm-swift-type-projections">Realm-Swift Type Projections</a>
									</li>
											<li>
					<a href="/mongodb/introducing-flexible-sync-preview-the-next-iteration-of-realm-sync">Introducing Flexible Sync (Preview) â€“ The Next Iteration of Realm Sync</a>
									</li>
											<li>
					<a href="/mongodb/goodbye-nspredicate-hello-realm-swift-query-api">Goodbye NSPredicate, hello Realm Swift Query API</a>
									</li>
					</ul>

		</li>
<li id="text-2" class="widget widget_text">			<div class="textwidget">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5257306915232759";
/* Clusterdb-home */
google_ad_slot = "1624229680";
google_ad_width = 200;
google_ad_height =600;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
		</li>
<li id="recent-comments-2" class="widget widget_recent_comments">
<h2 class="widgettitle">Recent Comments</h2>
<ul id="recentcomments">
<li class="recentcomments">
<span class="comment-author-link"><a href="http://mikael.ronstrom@blogspot.com/" class="url" rel="ugc external nofollow">Mikael RonstrÃ¶m</a></span> on <a href="/mysql-cluster/mysql-cluster-running-on-raspberry-pi#comment-787242">MySQL Cluster running on Raspberry Pi</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">andrew</span> on <a href="/mysql-cluster/setting-up-mysql-asynchronous-replication-for-high-availability#comment-668717">Setting up MySQL Asynchronous Replication for High Availability</a>
</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="http://www.suksesonline.com/" class="url" rel="ugc external nofollow">Betty</a></span> on <a href="/mysql-cluster/setting-up-mysql-asynchronous-replication-for-high-availability#comment-668713">Setting up MySQL Asynchronous Replication for High Availability</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">Sai Krishnan</span> on <a href="/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes#comment-661143">Get MySQL Replication up and running in 5 minutes</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">Nayan</span> on <a href="/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes#comment-660628">Get MySQL Replication up and running in 5 minutes</a>
</li>
</ul>
</li>
<li id="categories-2" class="widget widget_categories">
<h2 class="widgettitle">Categories</h2>

			<ul>
					<li class="cat-item cat-item-2">
<a href="/category/me">Me</a>
</li>
	<li class="cat-item cat-item-146">
<a href="/category/mongodb">MongoDB</a>
</li>
	<li class="cat-item cat-item-3 current-cat">
<a aria-current="page" href="/category/mysql">MySQL</a>
</li>
	<li class="cat-item cat-item-4">
<a href="/category/mysql-cluster">MySQL Cluster</a>
</li>
	<li class="cat-item cat-item-131">
<a href="/category/mysql-fabric">MySQL Fabric</a>
</li>
	<li class="cat-item cat-item-5">
<a href="/category/mysql-replication">MySQL Replication</a>
</li>
	<li class="cat-item cat-item-214">
<a href="/category/mongodb/realm">Realm</a>
</li>
	<li class="cat-item cat-item-1">
<a href="/category/uncategorized">Uncategorized</a>
</li>
			</ul>

			</li>
<li id="tag_cloud-2" class="widget widget_tag_cloud">
<h2 class="widgettitle">Tags</h2>
<div class="tagcloud">
<a href="/tag/7-4" class="tag-cloud-link tag-link-137 tag-link-position-1" style="font-size: 9.0632911392405pt;" aria-label="7.4 (7 items)">7.4</a>
<a href="/tag/apache-kafka" class="tag-cloud-link tag-link-169 tag-link-position-2" style="font-size: 8.620253164557pt;" aria-label="Apache Kafka (6 items)">Apache Kafka</a>
<a href="/tag/cluster" class="tag-cloud-link tag-link-18 tag-link-position-3" style="font-size: 8.620253164557pt;" aria-label="Cluster (6 items)">Cluster</a>
<a href="/tag/ha" class="tag-cloud-link tag-link-41 tag-link-position-4" style="font-size: 15.354430379747pt;" aria-label="HA (40 items)">HA</a>
<a href="/tag/high-availability" class="tag-cloud-link tag-link-43 tag-link-position-5" style="font-size: 15.26582278481pt;" aria-label="High Availability (39 items)">High Availability</a>
<a href="/tag/ios" class="tag-cloud-link tag-link-215 tag-link-position-6" style="font-size: 10.658227848101pt;" aria-label="ios (11 items)">ios</a>
<a href="/tag/java" class="tag-cloud-link tag-link-47 tag-link-position-7" style="font-size: 8.620253164557pt;" aria-label="Java (6 items)">Java</a>
<a href="/tag/javascript" class="tag-cloud-link tag-link-48 tag-link-position-8" style="font-size: 10.303797468354pt;" aria-label="javascript (10 items)">javascript</a>
<a href="/tag/mcm" class="tag-cloud-link tag-link-56 tag-link-position-9" style="font-size: 8pt;" aria-label="MCM (5 items)">MCM</a>
<a href="/tag/mean" class="tag-cloud-link tag-link-186 tag-link-position-10" style="font-size: 8pt;" aria-label="MEAN (5 items)">MEAN</a>
<a href="/tag/memcached" class="tag-cloud-link tag-link-57 tag-link-position-11" style="font-size: 8pt;" aria-label="Memcached (5 items)">Memcached</a>
<a href="/tag/mobile" class="tag-cloud-link tag-link-211 tag-link-position-12" style="font-size: 8pt;" aria-label="mobile (5 items)">mobile</a>
<a href="/tag/mongodb" class="tag-cloud-link tag-link-150 tag-link-position-13" style="font-size: 16.417721518987pt;" aria-label="mongodb (53 items)">mongodb</a>
<a href="/tag/mongodb-3-2" class="tag-cloud-link tag-link-153 tag-link-position-14" style="font-size: 8pt;" aria-label="MongoDB 3.2 (5 items)">MongoDB 3.2</a>
<a href="/tag/mongodb-atlas" class="tag-cloud-link tag-link-163 tag-link-position-15" style="font-size: 9.0632911392405pt;" aria-label="MongoDB Atlas (7 items)">MongoDB Atlas</a>
<a href="/tag/mongodb-mobile" class="tag-cloud-link tag-link-212 tag-link-position-16" style="font-size: 8pt;" aria-label="MongoDB Mobile (5 items)">MongoDB Mobile</a>
<a href="/tag/mongodb-stitch" class="tag-cloud-link tag-link-204 tag-link-position-17" style="font-size: 12.253164556962pt;" aria-label="MongoDB Stitch (17 items)">MongoDB Stitch</a>
<a href="/tag/mysql" class="tag-cloud-link tag-link-147 tag-link-position-18" style="font-size: 22pt;" aria-label="MySQL (229 items)">MySQL</a>
<a href="/tag/mysql-5-6" class="tag-cloud-link tag-link-64 tag-link-position-19" style="font-size: 10.924050632911pt;" aria-label="MySQL 5.6 (12 items)">MySQL 5.6</a>
<a href="/tag/mysql-cluster" class="tag-cloud-link tag-link-148 tag-link-position-20" style="font-size: 21.46835443038pt;" aria-label="MySQL Cluster (198 items)">MySQL Cluster</a>
<a href="/tag/mysql-cluster-70" class="tag-cloud-link tag-link-69 tag-link-position-21" style="font-size: 13.936708860759pt;" aria-label="MySQL Cluster 7.0 (27 items)">MySQL Cluster 7.0</a>
<a href="/tag/mysql-cluster-7-1" class="tag-cloud-link tag-link-70 tag-link-position-22" style="font-size: 15.177215189873pt;" aria-label="MySQL Cluster 7.1 (38 items)">MySQL Cluster 7.1</a>
<a href="/tag/mysql-cluster-7-2" class="tag-cloud-link tag-link-71 tag-link-position-23" style="font-size: 14.556962025316pt;" aria-label="MySQL Cluster 7.2 (32 items)">MySQL Cluster 7.2</a>
<a href="/tag/mysql-cluster-7-3" class="tag-cloud-link tag-link-72 tag-link-position-24" style="font-size: 12.253164556962pt;" aria-label="MySQL Cluster 7.3 (17 items)">MySQL Cluster 7.3</a>
<a href="/tag/mysql-cluster-7-4" class="tag-cloud-link tag-link-134 tag-link-position-25" style="font-size: 11.278481012658pt;" aria-label="MySQL Cluster 7.4 (13 items)">MySQL Cluster 7.4</a>
<a href="/tag/mysql-cluster-cge" class="tag-cloud-link tag-link-73 tag-link-position-26" style="font-size: 17.569620253165pt;" aria-label="MySQL Cluster CGE (72 items)">MySQL Cluster CGE</a>
<a href="/tag/mysql-cluster-manager" class="tag-cloud-link tag-link-74 tag-link-position-27" style="font-size: 12.607594936709pt;" aria-label="MySQL Cluster Manager (19 items)">MySQL Cluster Manager</a>
<a href="/tag/mysql-enterprise-monitor" class="tag-cloud-link tag-link-76 tag-link-position-28" style="font-size: 9.0632911392405pt;" aria-label="MySQL Enterprise Monitor (7 items)">MySQL Enterprise Monitor</a>
<a href="/tag/mysql-fabric-2" class="tag-cloud-link tag-link-132 tag-link-position-29" style="font-size: 9.0632911392405pt;" aria-label="mysql fabric (7 items)">mysql fabric</a>
<a href="/tag/mysql-replication" class="tag-cloud-link tag-link-149 tag-link-position-30" style="font-size: 15.354430379747pt;" aria-label="MySQL Replication (40 items)">MySQL Replication</a>
<a href="/tag/mysql-utilities" class="tag-cloud-link tag-link-78 tag-link-position-31" style="font-size: 8pt;" aria-label="MySQL Utilities (5 items)">MySQL Utilities</a>
<a href="/tag/ndb-api" class="tag-cloud-link tag-link-80 tag-link-position-32" style="font-size: 10.303797468354pt;" aria-label="NDB API (10 items)">NDB API</a>
<a href="/tag/node-js" class="tag-cloud-link tag-link-83 tag-link-position-33" style="font-size: 10.303797468354pt;" aria-label="node.js (10 items)">node.js</a>
<a href="/tag/nosql" class="tag-cloud-link tag-link-84 tag-link-position-34" style="font-size: 12.784810126582pt;" aria-label="NoSQL (20 items)">NoSQL</a>
<a href="/tag/performance" class="tag-cloud-link tag-link-97 tag-link-position-35" style="font-size: 9.9493670886076pt;" aria-label="Performance (9 items)">Performance</a>
<a href="/tag/realm" class="tag-cloud-link tag-link-213 tag-link-position-36" style="font-size: 11.721518987342pt;" aria-label="Realm (15 items)">Realm</a>
<a href="/tag/replication" class="tag-cloud-link tag-link-104 tag-link-position-37" style="font-size: 10.924050632911pt;" aria-label="Replication (12 items)">Replication</a>
<a href="/tag/secondary" class="tag-cloud-link tag-link-138 tag-link-position-38" style="font-size: 11.278481012658pt;" aria-label="secondary (13 items)">secondary</a>
<a href="/tag/serverless" class="tag-cloud-link tag-link-208 tag-link-position-39" style="font-size: 8.620253164557pt;" aria-label="serverless (6 items)">serverless</a>
<a href="/tag/sharding" class="tag-cloud-link tag-link-129 tag-link-position-40" style="font-size: 8pt;" aria-label="sharding (5 items)">sharding</a>
<a href="/tag/swift" class="tag-cloud-link tag-link-216 tag-link-position-41" style="font-size: 10.303797468354pt;" aria-label="Swift (10 items)">Swift</a>
<a href="/tag/swiftui" class="tag-cloud-link tag-link-217 tag-link-position-42" style="font-size: 10.303797468354pt;" aria-label="SwiftUI (10 items)">SwiftUI</a>
<a href="/tag/webcast" class="tag-cloud-link tag-link-124 tag-link-position-43" style="font-size: 8pt;" aria-label="Webcast (5 items)">Webcast</a>
<a href="/tag/webinar" class="tag-cloud-link tag-link-125 tag-link-position-44" style="font-size: 12.430379746835pt;" aria-label="webinar (18 items)">webinar</a>
<a href="/tag/windows" class="tag-cloud-link tag-link-127 tag-link-position-45" style="font-size: 9.0632911392405pt;" aria-label="Windows (7 items)">Windows</a>
</div>
</li>
<li id="theme_socialmedia-2" class="widget theme_socialmedia">			<div class="widget-social-icons">
				
			<a href="http://twitter.com/andrewmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/twitter.png" alt="twitter"></a><a href="http://www.facebook.com/andrewjamesmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/facebook.png" alt="facebook"></a><a href="https://plus.google.com/u/0/100605473697871424413/posts"><img src="/wp-content/themes/zeesynergie/images/icons/googleplus.png" alt="googleplus"></a><a href="http://www.linkedin.com/profile/view?id=16709956"><img src="/wp-content/themes/zeesynergie/images/icons/linkedin.png" alt="linkedin"></a><a href="http://www.flickr.com/photos/andrewjamesmorgan/"><img src="/wp-content/themes/zeesynergie/images/icons/flickr.png" alt="flickr"></a><a href="http://www.youtube.com/channel/UCodtDakJ4VdeSCzS3P3rIsw"><img src="/wp-content/themes/zeesynergie/images/icons/youtube.png" alt="youtube"></a>			</div>
		</li>
<li id="archives-2" class="widget widget_archive">
<h2 class="widgettitle">Archives</h2>

			<ul>
					<li><a href="/2022/03">March 2022</a></li>
	<li><a href="/2022/02">February 2022</a></li>
	<li><a href="/2022/01">January 2022</a></li>
	<li><a href="/2021/12">December 2021</a></li>
	<li><a href="/2021/11">November 2021</a></li>
	<li><a href="/2021/09">September 2021</a></li>
	<li><a href="/2021/08">August 2021</a></li>
	<li><a href="/2021/07">July 2021</a></li>
	<li><a href="/2021/06">June 2021</a></li>
	<li><a href="/2021/05">May 2021</a></li>
	<li><a href="/2021/04">April 2021</a></li>
	<li><a href="/2021/02">February 2021</a></li>
	<li><a href="/2021/01">January 2021</a></li>
	<li><a href="/2020/12">December 2020</a></li>
	<li><a href="/2019/03">March 2019</a></li>
	<li><a href="/2019/01">January 2019</a></li>
	<li><a href="/2018/12">December 2018</a></li>
	<li><a href="/2018/11">November 2018</a></li>
	<li><a href="/2018/10">October 2018</a></li>
	<li><a href="/2018/09">September 2018</a></li>
	<li><a href="/2017/09">September 2017</a></li>
	<li><a href="/2017/03">March 2017</a></li>
	<li><a href="/2017/02">February 2017</a></li>
	<li><a href="/2017/01">January 2017</a></li>
	<li><a href="/2016/12">December 2016</a></li>
	<li><a href="/2016/11">November 2016</a></li>
	<li><a href="/2016/09">September 2016</a></li>
	<li><a href="/2016/01">January 2016</a></li>
	<li><a href="/2015/11">November 2015</a></li>
	<li><a href="/2015/10">October 2015</a></li>
	<li><a href="/2015/09">September 2015</a></li>
	<li><a href="/2015/06">June 2015</a></li>
	<li><a href="/2015/04">April 2015</a></li>
	<li><a href="/2015/03">March 2015</a></li>
	<li><a href="/2015/02">February 2015</a></li>
	<li><a href="/2015/01">January 2015</a></li>
	<li><a href="/2014/12">December 2014</a></li>
	<li><a href="/2014/11">November 2014</a></li>
	<li><a href="/2014/10">October 2014</a></li>
	<li><a href="/2014/09">September 2014</a></li>
	<li><a href="/2014/08">August 2014</a></li>
	<li><a href="/2014/07">July 2014</a></li>
	<li><a href="/2014/06">June 2014</a></li>
	<li><a href="/2014/05">May 2014</a></li>
	<li><a href="/2014/04">April 2014</a></li>
	<li><a href="/2014/03">March 2014</a></li>
	<li><a href="/2014/02">February 2014</a></li>
	<li><a href="/2014/01">January 2014</a></li>
	<li><a href="/2013/12">December 2013</a></li>
	<li><a href="/2013/11">November 2013</a></li>
	<li><a href="/2013/09">September 2013</a></li>
	<li><a href="/2013/08">August 2013</a></li>
	<li><a href="/2013/07">July 2013</a></li>
	<li><a href="/2013/06">June 2013</a></li>
	<li><a href="/2013/05">May 2013</a></li>
	<li><a href="/2013/03">March 2013</a></li>
	<li><a href="/2013/02">February 2013</a></li>
	<li><a href="/2013/01">January 2013</a></li>
	<li><a href="/2012/12">December 2012</a></li>
	<li><a href="/2012/11">November 2012</a></li>
	<li><a href="/2012/09">September 2012</a></li>
	<li><a href="/2012/07">July 2012</a></li>
	<li><a href="/2012/06">June 2012</a></li>
	<li><a href="/2012/05">May 2012</a></li>
	<li><a href="/2012/04">April 2012</a></li>
	<li><a href="/2012/03">March 2012</a></li>
	<li><a href="/2012/02">February 2012</a></li>
	<li><a href="/2012/01">January 2012</a></li>
	<li><a href="/2011/12">December 2011</a></li>
	<li><a href="/2011/11">November 2011</a></li>
	<li><a href="/2011/10">October 2011</a></li>
	<li><a href="/2011/09">September 2011</a></li>
	<li><a href="/2011/07">July 2011</a></li>
	<li><a href="/2011/06">June 2011</a></li>
	<li><a href="/2011/05">May 2011</a></li>
	<li><a href="/2011/04">April 2011</a></li>
	<li><a href="/2011/03">March 2011</a></li>
	<li><a href="/2011/02">February 2011</a></li>
	<li><a href="/2011/01">January 2011</a></li>
	<li><a href="/2010/12">December 2010</a></li>
	<li><a href="/2010/11">November 2010</a></li>
	<li><a href="/2010/10">October 2010</a></li>
	<li><a href="/2010/09">September 2010</a></li>
	<li><a href="/2010/08">August 2010</a></li>
	<li><a href="/2010/07">July 2010</a></li>
	<li><a href="/2010/06">June 2010</a></li>
	<li><a href="/2010/05">May 2010</a></li>
	<li><a href="/2010/04">April 2010</a></li>
	<li><a href="/2010/03">March 2010</a></li>
	<li><a href="/2010/02">February 2010</a></li>
	<li><a href="/2010/01">January 2010</a></li>
	<li><a href="/2009/12">December 2009</a></li>
	<li><a href="/2009/11">November 2009</a></li>
	<li><a href="/2009/10">October 2009</a></li>
	<li><a href="/2009/09">September 2009</a></li>
	<li><a href="/2009/08">August 2009</a></li>
	<li><a href="/2009/07">July 2009</a></li>
	<li><a href="/2009/06">June 2009</a></li>
	<li><a href="/2009/05">May 2009</a></li>
	<li><a href="/2009/04">April 2009</a></li>
			</ul>

			</li>
	
	</ul>
</div>	</div>
	
	</div>
	<div id="footer">
		<div id="foot">
			Supported by <a href="http://www.thievesgarden.co.uk/" title="Maidenhead Accommodation - self catering apartment to rent" target="Thieves Garden">Thieves Garden - Maidenhead self catering apartment</a> and <a href="http://www.oleronvilla.com/" title="Ile d'Oleron Holiday Home to rent" target="Oleron Villa">Oleron Villa holiday home on Ile d'Oleron</a>.			<div class="credit_link">	<a href="http://themezee.com/">Theme by ThemeZee</a>
</div>
			<div class="clear"></div>
		</div>
	</div>
</div>
	<!-- Powered by WPtouch: 4.3.39 -->
</body>
</html>