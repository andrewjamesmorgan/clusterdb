------------------------------------------------------------
revno: 3179
committer: MySQL Build Team <build@mysql.com>
branch nick: mysql-7.0.9-release
timestamp: Mon 2009-11-16 17:00:41 +0100
message:
  Set version back to 7.0.9 without the 'b', to get package names without it
------------------------------------------------------------
revno: 3178
tags: mysql-5.1.39-ndb-7.0.9b, clone-mysql-5.1.39-ndb-7.0.9b-src-build
committer: mysqldev <mysqldev@production.mysql.com>
branch nick: mysql-5.1.39-ndb-7.0.9a
timestamp: Tue 2009-11-10 07:47:27 +0100
message:
  ndb - bug#48651 - 7.0
------------------------------------------------------------
revno: 3177
tags: clone-mysql-5.1.39-ndb-7.0.9a-src-build
committer: Jonas Oreland <jonas@mysql.com>
branch nick: 7.0.9a
timestamp: Wed 2009-11-04 16:16:22 +0100
message:
  ndb - bug#48531 (7.0.9)
------------------------------------------------------------
revno: 3176
tags: mysql-5.1.39-ndb-7.0.9
committer: Jonas Oreland <jonas@mysql.com>
branch nick: 7.0.9-src-build
timestamp: Fri 2009-10-30 11:05:35 +0100
message:
  ndb - fix bug in bug fix, found by windows compiler\!
------------------------------------------------------------
revno: 3175
tags: clone-mysql-5.1.39-ndb-7.0.9-src-build
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-30 09:17:03 +0100
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.118
    tags: clone-mysql-5.1.39-ndb-6.3.28-src-build, mysql-5.1.39-ndb-6.3.28
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Fri 2009-10-30 09:16:03 +0100
    message:
      ndb - backport testUpgrade to 63 from 70, to have them equal
    ------------------------------------------------------------
    revno: 2585.100.117
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Fri 2009-10-30 09:09:39 +0100
    message:
      ndb - bug-48416 6.3 test prg
------------------------------------------------------------
revno: 3174
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-30 09:12:30 +0100
message:
  ndb - bug#48416 - record the fake-unique-index-triggers created during upgrade as true schema object, to avoid id-collision
------------------------------------------------------------
revno: 3173
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Tue 2009-10-27 18:01:52 +0100
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.100.116
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Tue 2009-10-27 17:47:28 +0100
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.69.21
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Tue 2009-10-27 17:44:30 +0100
    message:
      funcs_1.ndb_views
       - fails randomly, add some extra queries hopefully making it
         possible to see which step fails.
       - unfortunately need to update .result file for all engines
------------------------------------------------------------
revno: 3172
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Tue 2009-10-27 17:55:44 +0100
message:
  Merge
    ------------------------------------------------------------
    revno: 3165.1.6
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 17:50:41 +0100
    message:
      ndb_mgmd
       - Clear(silently ignore) any dynamic ports with value from config submitted
         by user through 'set config'.
      
         The dynamic ports reported by nodes in the cluster are kept in a separate
         hash table and written into the config again when client ask for the config.
         This way we avoid having "stale" ports in the binary config written to disk.
    ------------------------------------------------------------
    revno: 3165.1.5
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 15:50:00 +0100
    message:
      ndb test - remove printout when test conenct to ndb_mgmd
    ------------------------------------------------------------
    revno: 3165.1.4
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 13:52:57 +0100
    message:
      ndb testMgm - fix assert to allow nodeType to NDB_MGM_NODE_TYPE_MIN/MAX inclusive
    ------------------------------------------------------------
    revno: 3165.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 13:40:10 +0100
    message:
      ndb_mgmd - use %u when printing unsigned value in error message
    ------------------------------------------------------------
    revno: 3165.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 12:06:23 +0100
    message:
      testMgm - clear extra bytes 'in the air' by reconnecting
    ------------------------------------------------------------
    revno: 3165.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-27 08:25:06 +0100
    message:
      ndb - use --para='auto' instead of hardcoded 4
------------------------------------------------------------
revno: 3171
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Tue 2009-10-27 14:29:15 +0000
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.115
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Tue 2009-10-27 14:22:57 +0000
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.69.20
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-10-27 13:32:00 +0000
    message:
      Bug#46955 : Extend fix to libmysqld
------------------------------------------------------------
revno: 3170
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-27 14:13:40 +0100
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.114
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-27 14:10:32 +0100
    message:
      ndb - fix so that UtilTransactions::selectCount() can handle temporary errors
------------------------------------------------------------
revno: 3169
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-27 13:08:44 +0100
message:
  ndb - move count_bits into BitmaskImpl
------------------------------------------------------------
revno: 3168
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-27 12:38:44 +0100
message:
  ndb - allow testDict -n Bug46585 to fail with error 1224
------------------------------------------------------------
revno: 3167
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-27 12:19:08 +0100
message:
  ndb - fix regression in testDict -n FailAddPartition T1 I3 - caused by bug-fix for 46585
------------------------------------------------------------
revno: 3166
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-27 11:13:15 +0100
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.113
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-27 11:10:08 +0100
    message:
      ndb - minor test prg cleanup
            fix duplicate ERROR_CODE
------------------------------------------------------------
revno: 3165
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Mon 2009-10-26 20:51:04 +0000
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.112
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Mon 2009-10-26 20:40:34 +0000
    message:
      Merge 6.2->6.3
        ------------------------------------------------------------
        revno: 2572.69.19
        committer: Frazer Clement <frazer@mysql.com>
        branch nick: mysql-5.1-telco-6.2
        timestamp: Mon 2009-10-26 20:02:17 +0000
        message:
          Bug48040 : Ndb : TC trigger infinite loop in abort scenario
    ------------------------------------------------------------
    revno: 2585.100.111
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Mon 2009-10-26 16:36:03 +0100
    message:
      Merge
------------------------------------------------------------
revno: 3164
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Mon 2009-10-26 16:37:43 +0100
message:
  Merge
    ------------------------------------------------------------
    revno: 3161.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-26 16:34:40 +0100
    message:
      Merge
        ------------------------------------------------------------
        revno: 2585.109.2
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.3
        timestamp: Mon 2009-10-26 16:32:29 +0100
        message:
          Merge
        ------------------------------------------------------------
        revno: 2572.69.18
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.2
        timestamp: Mon 2009-10-26 16:16:52 +0100
        message:
          ndb - don't use --binlog-format if a particular mysqld in the configuration doesn't use log-bin
        ------------------------------------------------------------
        revno: 2572.69.17
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.2
        timestamp: Mon 2009-10-26 15:07:51 +0100
        message:
          ndb - update  missed .result files after fixing that SHOW CREATE TABLE prints AUTO_INCREMENT
    ------------------------------------------------------------
    revno: 3161.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-26 14:20:13 +0100
    message:
      Merge
    ------------------------------------------------------------
    revno: 2585.109.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Mon 2009-10-26 14:18:25 +0100
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.69.16
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Mon 2009-10-26 14:15:42 +0100
    message:
      Merge bug47243 to -telco trees
------------------------------------------------------------
revno: 3163
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-26 15:40:19 +0100
message:
  ndb - bug#48232 - improve error reporting when failure to recreate/drop object during restore of schema
------------------------------------------------------------
revno: 3162
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-26 15:25:11 +0100
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.110
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-26 15:21:02 +0100
    message:
      ndb - improve error reporting when head-tail meets in REDO log
    ------------------------------------------------------------
    revno: 2585.100.109
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-26 15:06:50 +0100
    message:
      ndb - run testcase on all tables
    ------------------------------------------------------------
    revno: 2585.100.108
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-26 09:53:31 +0100
    message:
      ndb - fix testSystemRestart -n to
        create/destory event-handle to get "fresh" LCP ids
------------------------------------------------------------
revno: 3161
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Mon 2009-10-26 12:57:26 +0000
message:
  Fix testBlobs -bug 45768 on user-defined partitioned table
------------------------------------------------------------
revno: 3160
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Mon 2009-10-26 13:23:17 +0100
message:
  Merge bug#48305
    ------------------------------------------------------------
    revno: 3159.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0-dbug-tc-select-pb2
    timestamp: Mon 2009-10-26 13:05:11 +0100
    message:
      Bug#48305 ndb_dbug_tc_select fails when binaries not compiled with ERROR_INSERt
       - Skip test if ndb_mgm does not have the "error" command
------------------------------------------------------------
revno: 3159
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-23 20:20:27 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.107
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Fri 2009-10-23 20:08:09 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.69.15
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-10-23 18:49:51 +0100
    message:
      Fix for issues with new --ndb-wait-setup option and embedded MySQLD
------------------------------------------------------------
revno: 3158
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-23 20:06:25 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.106
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Fri 2009-10-23 17:08:33 +0100
    message:
      Merge 6.2->6.3
------------------------------------------------------------
revno: 3157
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-23 17:30:54 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2572.69.14
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-10-23 16:54:00 +0100
    message:
      Fix warning in libmysqld - release compile
    ------------------------------------------------------------
    revno: 2572.69.13
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-10-23 16:48:55 +0100
    message:
      Bug#45768 : GCOV testing hits assert: NdbBlob::preCommit assert(theState == Active) 
------------------------------------------------------------
revno: 3156
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-23 15:56:46 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.105
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Fri 2009-10-23 15:31:33 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.69.12
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-10-23 15:02:54 +0100
    message:
      Bug#46955 Slave thread starting before cluster storage engine is ready on mysqld restart
------------------------------------------------------------
revno: 3155
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-23 15:00:51 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.104
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Fri 2009-10-23 14:59:29 +0200
    message:
      ndb - bug#48266 - use correct constant for MAX_READ
------------------------------------------------------------
revno: 3154
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-23 13:41:13 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.103
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Fri 2009-10-23 13:37:58 +0200
    message:
      ndb - fix bug with multi-page caching, where pages could be linked incorrectly, with ndbrequire as a consequence
------------------------------------------------------------
revno: 3153
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-22 13:33:55 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.102
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-22 13:09:33 +0200
    message:
      ndb - add extra logging = 99, track down brown/smelly code
------------------------------------------------------------
revno: 3152
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-22 13:33:08 +0200
message:
  ndb - bug#48227 - fix upgrade of schema file
------------------------------------------------------------
revno: 3151
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-22 09:20:47 +0200
message:
  ndb - remove debug printout
------------------------------------------------------------
revno: 3150
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-22 08:14:42 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.101
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-22 08:14:00 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.69.11
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Thu 2009-10-22 08:13:16 +0200
    message:
      ndb - mimic mainline and disable pl_get_master_version_and_clock
------------------------------------------------------------
revno: 3149
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Wed 2009-10-21 21:08:32 +0200
message:
  ndb - merge the use of AF_UNIX instead of AF_LOCAL to 7.0
    ------------------------------------------------------------
    revno: 2585.100.100
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Wed 2009-10-21 21:00:18 +0200
    message:
      ndb - use the more common synonym AF_UNIX instead of AF_LOCAL
------------------------------------------------------------
revno: 3148
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Wed 2009-10-21 21:02:30 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3145.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Wed 2009-10-21 09:22:23 +0200
    message:
      ndb - remove two faulty copy and paste comments
------------------------------------------------------------
revno: 3147
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-21 18:49:01 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.99
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 16:06:50 +0200
    message:
      ndb - "fix" for race in offline alter
    ------------------------------------------------------------
    revno: 2585.100.98
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 13:11:32 +0200
    message:
      ndb - delay drop-table so that it's alone in epoch
        so that stupid handler doesnt drop events
        (which it does wo/ checking if there is data...)
------------------------------------------------------------
revno: 3146
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-21 15:23:05 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.97
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 10:40:24 +0200
    message:
      ndb - revert work-arounds, that was cause to m_noOfSection vs sendWithDelay
    ------------------------------------------------------------
    revno: 2585.100.96
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 10:32:09 +0200
    message:
      merge 62 to 63
        ------------------------------------------------------------
        revno: 2572.69.10
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Wed 2009-10-21 10:30:38 +0200
        message:
          ndb - fix super unlikely race-condition "slampkrypare"
            1) sendSignalWithDelay() with sections
            later
            2) scedule-time-queue puts it in to timequeue
            3) sendPacked() is called directly afterwards
          
          The the signal-object use in sendPacked will have m_noOfSections > 0
          Which can cause weird weird weird effect
    ------------------------------------------------------------
    revno: 2585.100.95
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 09:42:27 +0200
    message:
      ndb - review comments
        1) fix comment
        2) use initialized static char instead of uninitialized char in TransporterRegistry::wakeup()
------------------------------------------------------------
revno: 3145
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-21 06:49:49 +0200
message:
  ndb - win precompiler
------------------------------------------------------------
revno: 3144
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-21 01:16:25 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.94
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-21 01:15:22 +0200
    message:
      ndb - uninitialized variable
------------------------------------------------------------
revno: 3143
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 23:55:27 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.93
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 23:39:41 +0200
    message:
      ndb - fix weird unhandled-sections-after-execute assertion
------------------------------------------------------------
revno: 3142
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 22:20:13 +0200
message:
  ndb fix merge error 2
------------------------------------------------------------
revno: 3141
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 22:19:21 +0200
message:
  ndb fix merge error...
------------------------------------------------------------
revno: 3140
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 22:15:56 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.92
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 22:13:47 +0200
    message:
      ndb - redo optimizations for back-tracking
------------------------------------------------------------
revno: 3139
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 22:08:18 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.91
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 22:06:22 +0200
    message:
      ndb - make AsyncFile-thread wakeup main-thread when having data available
------------------------------------------------------------
revno: 3138
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 21:45:04 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.90
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 21:19:19 +0200
    message:
      ndb - add facility to SimulatedBlock that enables wakeup of potentially sleeping (main-)thread
------------------------------------------------------------
revno: 3137
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 20:37:36 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.89
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 20:35:05 +0200
    message:
      ndb - fix compiler warning and close extra sockets during shutdown
------------------------------------------------------------
revno: 3136
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 20:31:46 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.88
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 20:19:00 +0200
    message:
      ndb - TransporterRegistry::wakeup
        This patch introduces the feature of waking up a thread blocking on IO
          by introducing a socket-pair, that 1 byte is written to
------------------------------------------------------------
revno: 3135
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 18:10:06 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.87
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 18:06:26 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.69.9
    committer: Pekka Nousiainen <pekka@mysql.com>
    branch nick: my51-ddsr62
    timestamp: Tue 2009-10-20 18:11:38 +0300
    message:
      bug#47832 01_lcp.diff
      Fix un-initialized scan position of LCP scan of empty fragment and
      make the scan state a bit more explicit.
------------------------------------------------------------
revno: 3134
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 16:44:42 +0200
message:
  ndb/mysys - add my_socketpair
------------------------------------------------------------
revno: 3133
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 14:48:25 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.86
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 14:46:21 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.69.8
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-10-20 14:44:56 +0200
    message:
      ndb - fix newly introduced compiler warnings
------------------------------------------------------------
revno: 3132
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 14:34:33 +0200
message:
  merge 70-main
    ------------------------------------------------------------
    revno: 3130.1.5
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 13:56:57 +0200
    message:
      ndb - revert TransporterFacade-t
    ------------------------------------------------------------
    revno: 3130.1.4
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 13:15:38 +0200
    message:
      ndb - create  the dummy C++ file only if it does not already exists, this avoid useless relinks
    ------------------------------------------------------------
    revno: 3130.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 13:13:15 +0200
    message:
      ndb - compile TransporterFacade-t as unit test for TransporterFacade
    ------------------------------------------------------------
    revno: 3130.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 12:51:51 +0200
    message:
      ndb - Remove obsolete directive about -02 from Makefiles
    ------------------------------------------------------------
    revno: 3130.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: mysql-5.1-telco-7.0
    timestamp: Mon 2009-10-19 12:43:10 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 3129.1.7
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 12:13:46 +0200
    message:
      ndb_mgmd - clear the waiting for bitmask allowing next operation to start, remove confused comment
    ------------------------------------------------------------
    revno: 3129.1.6
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 12:12:40 +0200
    message:
      ndb test - redirect output  from testMgmd to file when running it from test_mgmd.test
    ------------------------------------------------------------
    revno: 3129.1.5
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 11:47:42 +0200
    message:
      BUG48143 nbd_mgmd - crash in CONFIG_CHECK_REF 
    ------------------------------------------------------------
    revno: 3129.1.4
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 11:44:26 +0200
    message:
      ndb - remove supression of warning 4200 (zero length array) from Cmake files
    ------------------------------------------------------------
    revno: 3129.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 11:17:47 +0200
    message:
      ndb - remove unused variable and if
    ------------------------------------------------------------
    revno: 3129.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 11:11:29 +0200
    message:
      ndb - fix spelling error, REQ -> REF
    ------------------------------------------------------------
    revno: 3129.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-10-19 11:06:33 +0200
    message:
      ndb test - fix problem to find correct path to temp dir
------------------------------------------------------------
revno: 3131
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-20 14:16:08 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.85
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-20 14:13:40 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.69.7
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-10-20 14:10:49 +0200
    message:
      ndb - bug#48037
        Fix various abort cases with indexes that could in worst case 
          cause node-failure
------------------------------------------------------------
revno: 3130
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-19 11:13:54 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.84
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-19 11:12:45 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.69.6
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Mon 2009-10-19 11:10:42 +0200
    message:
      ndb - change DLCFifoList to inherit protected, so that one does not forget to add new methods to it too when adding methods to DLFifoList, like was done with addFirst/addLast etc
------------------------------------------------------------
revno: 3129
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-16 21:50:39 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.83
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Fri 2009-10-16 21:40:17 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.69.5
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-10-16 16:37:14 +0100
    message:
      Bug#48113 : Ndb : Insert hitting DD space exhaustion does not lock following tuple ops
------------------------------------------------------------
revno: 3128
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-16 08:28:24 +0200
message:
  ndb - bug46585
    Force DIH to write table-file on prepare (and revert)
    Keep tableCopyState lock
    Force DIH to use what DICT provides during restart
------------------------------------------------------------
revno: 3127
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-15 22:34:41 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3125.1.1
    committer: magnus <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-15 18:50:28 +0200
    message:
      ndb - cmake files
       - add necessary libraries to ndb_print_schema_file
       - rename the other two "tools" so they get same name on other platforms
------------------------------------------------------------
revno: 3126
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-15 19:48:45 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.100.82
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-15 18:54:54 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2572.69.4
        committer: Martin Skold <Martin.Skold@mysql.com>
        branch nick: mysql-5.1-telco-6.2
        timestamp: Thu 2009-10-15 17:45:56 +0200
        message:
          Merge
    ------------------------------------------------------------
    revno: 2585.100.81
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-15 16:12:45 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3125
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-15 16:09:12 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3123.1.2
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.4
    timestamp: Thu 2009-10-15 14:36:53 +0200
    message:
      ndb - remove not used usage of Dbdih::ConnectRecord from Dbtc
        this removes 36 bytes per MaxNoOfOperations and 36-bytes per MaxNoOfTransactions
        this is patch 1 of bug-46585
    ------------------------------------------------------------
    revno: 3123.1.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.4
    timestamp: Thu 2009-10-15 14:31:11 +0200
    message:
      merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.108.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-15 14:29:02 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.20
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Thu 2009-10-15 14:27:43 +0200
    message:
      ndb - add ndb_init to misc utility programs since ndbout now asserts otherwise
------------------------------------------------------------
revno: 3124
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-15 14:59:02 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.100.80
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-15 14:37:53 +0200
    message:
      Bug#47955 UPDATEs using indexes that modify no rows return incorrect found rows: when we could not compare records we have to check with handler and assume found rows == updated rows
    ------------------------------------------------------------
    revno: 2585.100.79
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-15 10:28:50 +0200
    message:
      Bug#47955 UPDATEs using indexes that modify no rows return incorrect found rows: don't use updated rows to set found number of rows, added test case
    ------------------------------------------------------------
    revno: 2585.100.78
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-15 10:23:13 +0200
    message:
      Bug#48036: NDB: UPDATE IGNORE not working together with unique constraint: disable batching of updates if updating unique index, added test case
    ------------------------------------------------------------
    revno: 2585.100.77
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Wed 2009-10-14 16:12:28 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.69.3
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-10-08 11:58:57 +0200
    message:
      Bug#47865 SHOW CREATE TABLE does not show the current auto_increment number for ndb tables: added test case
    ------------------------------------------------------------
    revno: 2572.69.2
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-10-08 11:48:07 +0200
    message:
      Bug#47865  SHOW CREATE TABLE does not show the current auto_increment number for ndb tables: reading auto_increment value in ha_ndbcluster::update_create_info
    ------------------------------------------------------------
    revno: 2572.69.1
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Wed 2009-10-07 17:53:06 +0200
    message:
      Bug#35990 Error code 1062 to 1296 (unknown) after setting sql_mode to STRICT_TRANS_TABLES: Disable ndb error warnings in strict mode
------------------------------------------------------------
revno: 3123
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-14 13:44:05 +0200
message:
  ndb - bug#47966
    ndbmtd can over allocate undo-buffer, prevent this by keeping track
      of how much has been promised, but not yet consumed
------------------------------------------------------------
revno: 3122
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-12 14:03:21 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.76
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-12 14:02:16 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.19
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Mon 2009-10-12 13:47:31 +0200
    message:
      ndb - remove testcase that fails spuriously
        and I can't figure out what it's trying to do...
------------------------------------------------------------
revno: 3121
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-12 13:45:34 +0200
message:
  ndb - change test-prg to check explicitit codes, but rather use
    classification to avoid spurious failures
------------------------------------------------------------
revno: 3120
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-12 12:21:50 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.75
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-12 12:20:47 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.18
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Mon 2009-10-12 12:13:09 +0200
    message:
      ndb - bug#45964 - remove usage of NdbScanOperation::restart from examples
------------------------------------------------------------
revno: 3119
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-12 09:07:14 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.74
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-12 08:21:54 +0200
    message:
      ndb - bug#47984 - move mem allocation to thread
------------------------------------------------------------
revno: 3118
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-12 08:13:55 +0200
message:
  merge 70 to 71
    ------------------------------------------------------------
    revno: 2585.100.73
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-12 07:50:32 +0200
    message:
      merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.17
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Mon 2009-10-12 07:43:10 +0200
    message:
      ndb - bug#47935 - fix incorrect assertion on backup replica when getting ZTUPLE_ALREADY_EXIST
------------------------------------------------------------
revno: 3117
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Sun 2009-10-11 14:04:37 +0200
message:
  ndb test - improve replace to only replace what it should
------------------------------------------------------------
revno: 3116
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Sun 2009-10-11 09:12:44 +0200
message:
  ndb test - testMgm, should always find a ndbd, remove skip if no ndbd
------------------------------------------------------------
revno: 3115
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Sat 2009-10-10 13:12:29 +0200
message:
  ndb_mgmd test - only NDB nodes can be dynami port servers -> find first ndb node to use as nodeid1
------------------------------------------------------------
revno: 3114
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 20:43:30 +0200
message:
  ndb test - mask out backup id
------------------------------------------------------------
revno: 3113
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 19:04:47 +0200
message:
  Allow ndb_restore to fail using --error 1, remove use of grep(that didn't match anything) and instead record minimal output
------------------------------------------------------------
revno: 3112
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 18:20:38 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.100.72
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Fri 2009-10-09 16:58:08 +0200
    message:
      Bug#47948 ndb_mgmd fails to stop other ndb_mgmd
       - Rewrite code to be endian safe, avoid cat from Uint16* to int*
------------------------------------------------------------
revno: 3111
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 18:13:54 +0200
message:
  ndb test - trim crlf  from last column in ndb_show_tables_results table
------------------------------------------------------------
revno: 3110
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 17:48:57 +0200
message:
  ndb test - Remove use of sed in ndb_alter_table_online
------------------------------------------------------------
revno: 3109
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 17:09:58 +0200
message:
  ndb test - remove unportable use of touch to create an empty file
------------------------------------------------------------
revno: 3108
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 17:08:04 +0200
message:
  ndb test - remove unportable use of grep and sed
------------------------------------------------------------
revno: 3107
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 16:43:40 +0200
message:
  ndb test - remove use of 'exec chmod'  and use mysqltest builtin 'chmod'
------------------------------------------------------------
revno: 3106
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-09 16:18:21 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3104.1.6
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 16:12:17 +0200
    message:
      Bug #47941  	configure --with-ndb-port-base=port broken and should be removed
       - Print warning if --with-ndb-port-base is used, it has not effect
       - Since ndb_global.h.in does not have any "substs" anymore, move it to ndb_global.h
       - Remove the last remnants of NDB_TCP_PORT_BASE usage from ConfigInfo.cpp, dead code.
    ------------------------------------------------------------
    revno: 3104.1.5
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 15:33:51 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2585.100.71
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.3
        timestamp: Fri 2009-10-09 15:09:38 +0200
        message:
          Merge
        ------------------------------------------------------------
        revno: 2572.66.16
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.2
        timestamp: Fri 2009-10-09 12:13:10 +0200
        message:
          Merge
        ------------------------------------------------------------
        revno: 2572.68.1
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.2-bug38502
        timestamp: Thu 2009-09-24 18:17:14 +0200
        message:
          Bug#38502 NDB_PORT cause ndb_mgmd fail
           - Detect the case when "./configure --with-ndb-port"  is used without
             a portnumber(or something) actually supplied.
           - Cleanup the usage of NDB_PORT by putting it in [my_]config.h
           - Remove some sprintf by using preprocessor macros for building
             the default connect string as well as string variants of the
             port number.
           - Quite sure that the compiler will now complain if the port is
             not a number.
    ------------------------------------------------------------
    revno: 3104.1.4
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 14:47:49 +0200
    message:
      Bug#47944 ndb_mgmd config diff printout for larger numbers failure
       - Fix format specifier to printout the unisgned number as unsigned
    ------------------------------------------------------------
    revno: 3104.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 14:38:45 +0200
    message:
      Bug#47932 ndb_mgmd, fails to parse config with DiskSyncSize=4294967040
       - The printout of unsigned 64bit values was using non standard %Lu, changed it
         to %llu
    ------------------------------------------------------------
    revno: 3104.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 11:28:56 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2585.100.70
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.3
        timestamp: Fri 2009-10-09 11:19:46 +0200
        message:
          Merge
            ------------------------------------------------------------
            revno: 2572.66.15
            committer: Magnus Bl?udd <magnus.blaudd@sun.com>
            branch nick: 6.2
            timestamp: Fri 2009-10-09 11:13:43 +0200
            message:
              Merge
            ------------------------------------------------------------
            revno: 2572.66.14
            committer: Magnus Bl?udd <magnus.blaudd@sun.com>
            branch nick: 6.2
            timestamp: Fri 2009-10-09 11:09:48 +0200
            message:
              Merge
        ------------------------------------------------------------
        revno: 2585.100.69
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 6.3
        timestamp: Fri 2009-10-09 11:09:56 +0200
        message:
          Merge
    ------------------------------------------------------------
    revno: 3104.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-09 11:20:33 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 3096.2.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 14:40:36 +0200
    message:
      Merge bug#46113 to 7.0
    ------------------------------------------------------------
    revno: 2585.107.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Thu 2009-10-08 13:41:21 +0200
    message:
      Merge bug#46113 to 6.3
    ------------------------------------------------------------
    revno: 2572.67.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Thu 2009-10-08 11:55:36 +0200
    message:
      Bug#46113 ndbd fails to start when built with gcc-4.4.0 (e.g Fedora 11)
       - Add macro for checking that type T does have a user defined constructor.
       - Use macro in DLList.hpp, DLFifoList.hpp and DLHashTable.hpp
       - Add empty constructors to the structs that are put in the above lists
         (that the compiler now detects if using -std=c++0x)
------------------------------------------------------------
revno: 3105
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Fri 2009-10-09 13:15:22 +0200
message:
  ndb - bug#44195 - increase size of protected area, to make sure that multiple threads dont access data in parallel
------------------------------------------------------------
revno: 3104
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 10:19:44 +0200
message:
  ndb_cpcd - don't define pid_t on other platforms than windows
------------------------------------------------------------
revno: 3103
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-09 10:15:14 +0200
message:
  Bug#44607 Ndb : Fragmented long signals need node failure handling code
   - Fix compilation error caused by compiler that does not like anon union with anon struct
------------------------------------------------------------
revno: 3102
committer: jack andrews <jack@sun.com>
branch nick: warn-env
timestamp: Fri 2009-10-09 13:14:33 +1100
message:
  undoing a change i introduced in revno: 3086
  the change is within a #ifndef _WIN32, so will
  not be run on windows.  the other changes in
  this block is consistent with the global change 
  (in atrt) of replacing system() with sh().
------------------------------------------------------------
revno: 3101
committer: Bernhard Ocklin <bernhard.ocklin@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-08 20:00:57 +0200
message:
  adopt PB2 to old and club behaviour
------------------------------------------------------------
revno: 3100
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-08 19:19:50 +0200
message:
  ndb - guess patch for windoze-build problem
------------------------------------------------------------
revno: 3099
committer: magnus <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Thu 2009-10-08 15:26:22 +0200
message:
  ndb - fix cmake files for ndbd_redo_log_reader
------------------------------------------------------------
revno: 3098
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-08 13:38:19 +0100
message:
  Merge with 7.0
    ------------------------------------------------------------
    revno: 3096.1.5
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 14:31:42 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 3080.1.2
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: bug44448
        timestamp: Tue 2009-10-06 16:24:04 +0200
        message:
          Bug#44448 ndb_mgmd declares FragmentLogFileSize=2G invalid by "1" and adjusts
           - Problem only exist when using my.cnf file for passing options to ndb_mgmd
           - Fix by telling my_getopt to parse CI_INT and CI_INT64 as _unsigned_ values.
           - Thus allowing for example DiskSyncSize to be set to 4294967039 bytes(ie. MAX_INT_RNIL)
    ------------------------------------------------------------
    revno: 3096.1.4
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 14:24:18 +0200
    message:
      Merge bug#45497
        ------------------------------------------------------------
        revno: 3047.1.2
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 7.0-bug45497
        timestamp: Tue 2009-09-29 12:26:01 +0200
        message:
          Bug#45497 ndb_mgmd opened file exhaustion and take 100% CPU usage
           - Fix problem of 100%CPU by making doAccept return false in case of
             an error, allowing the caller to sleep for a short while before retrying.
           - Add some more debug printouts in the MgmApiSessions::runSession loop
             so it's possible to better see client disconnect progress when ndb_mgmd
             is started with --verbose. I.e the "<ip>: Disconnected" is only printed when
             socket has been closed.
           - Add test program which connect until no more connections can be made.
            
    ------------------------------------------------------------
    revno: 3096.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 14:01:44 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 3096.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 13:13:25 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 3096.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Thu 2009-10-08 13:12:41 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3097
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-08 12:15:24 +0100
message:
  Merge 7.0->7.1
    ------------------------------------------------------------
    revno: 2585.100.68
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-08 11:29:46 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.66.13
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-10-08 11:19:19 +0100
    message:
      Bug#44607 : Ndb : Fragmented long signals need node failure handling code
------------------------------------------------------------
revno: 3096
committer: jack andrews <jack@sun.com>
branch nick: warn-env
timestamp: Thu 2009-10-08 21:21:00 +1100
message:
  fix warnings after push of bug #45447
------------------------------------------------------------
revno: 3095
committer: U-asus\jack <jack@asus>
branch nick: cpcd
timestamp: Thu 2009-10-08 20:29:53 +1100
message:
  bug #45477 port cpcd to windows
   . merged my cpcd patches from one tree to a fuly
     up to date tree.
    ------------------------------------------------------------
    revno: 3091.2.5
    committer: jack andrews <jack@sun.com>
    branch nick: fixer-upper-er
    timestamp: Thu 2009-10-08 20:20:37 +1100
    message:
      bug #45477 port cpcd to windows.
       . rename cpcd to ndb_cpcd in CMakeLists.txt
    ------------------------------------------------------------
    revno: 3091.2.4
    committer: U-asus\jack <jack@asus>
    branch nick: fixer-upper-er
    timestamp: Thu 2009-10-08 19:48:45 +1100
    message:
      bug #45477 port cpcd to windows.  
       . fixed a missing CMakeList.txt (didn't bzr add)
    ------------------------------------------------------------
    revno: 3091.2.3
    committer: U-asus\jack <jack@asus>
    branch nick: fixer-upper-er
    timestamp: Thu 2009-10-08 17:39:23 +1100
    message:
      bug #45447 - port cpcd to windows
        . cpcd working on windows
        ------------------------------------------------------------
        revno: 3091.1.3
        committer: jack andrews <jack@sun.com>
        branch nick: cpcd45447
        timestamp: Thu 2009-10-08 15:35:04 +1100
        message:
          bug #45447 - port cpcd to windows
            . cpcd working on windows
    ------------------------------------------------------------
    revno: 3091.2.2
    committer: U-asus\jack <jack@asus>
    branch nick: fixer-upper-er
    timestamp: Thu 2009-10-08 17:37:06 +1100
    message:
      bug #45447 - port cpcd to windows
        . this gets cpcd compiling
        ------------------------------------------------------------
        revno: 3091.1.2
        committer: jack andrews <jack@sun.com>
        branch nick: cpcd45447
        timestamp: Thu 2009-10-08 15:34:10 +1100
        message:
          bug #45447 - port cpcd to windows
           . this gets cpcd compiling
    ------------------------------------------------------------
    revno: 3091.2.1
    committer: U-asus\jack <jack@asus>
    branch nick: fixer-upper-er
    timestamp: Thu 2009-10-08 17:30:06 +1100
    message:
      bug #45447 - port cpcd to windows
       . the CMakeFiles.txt
    ------------------------------------------------------------
    revno: 3091.1.1
    committer: jack andrews <jack@sun.com>
    branch nick: cpcd45447
    timestamp: Thu 2009-10-08 15:32:02 +1100
    message:
      bug #45447 - port cpcd to windows
        . the CMakeFiles.txt
------------------------------------------------------------
revno: 3094
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-08 08:46:45 +0200
message:
  ndb - trial and terror fix for traditional failure of ndb_binlog_variants on windoze
------------------------------------------------------------
revno: 3093
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-08 08:34:29 +0200
message:
  ndb - fix windoze warnings
------------------------------------------------------------
revno: 3092
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-08 08:29:00 +0200
message:
  ndb - merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.67
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-08 08:24:59 +0200
    message:
      ndb - bug#47908 - store mbyte pos as Uint16 to allow >256M FragmentLogFileSize
------------------------------------------------------------
revno: 3091
committer: jack andrews <jack@sun.com>
branch nick: atrt-fix
timestamp: Thu 2009-10-08 14:38:22 +1100
message:
  fixed missing CMakeLists.txt file
  was in patch series, but did not `bzr add`
------------------------------------------------------------
revno: 3090
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Wed 2009-10-07 18:38:23 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.66
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Wed 2009-10-07 18:16:52 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.66.12
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Wed 2009-10-07 17:27:03 +0100
    message:
      Bug#46662 : Ndb : mysqlbinlog fails to apply update to table with unique index
    ------------------------------------------------------------
    revno: 2572.66.11
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Wed 2009-10-07 17:26:17 +0100
    message:
      Bug#47674 : MySQL Cluster : Manually applying binlog zaps unmodified columns
------------------------------------------------------------
revno: 3089
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Wed 2009-10-07 16:14:36 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.100.65
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Wed 2009-10-07 16:13:32 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.66.10
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2-bug46113
    timestamp: Wed 2009-10-07 16:08:22 +0200
    message:
      Bug#46113 ndbd fails to start when built with gcc-4.4.0 (e.g Fedora 11)
       - Make DataBuffer.hpp strict aliasing safe
------------------------------------------------------------
revno: 3088
committer: Bernhard Ocklin <bernhard.ocklin@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Wed 2009-10-07 13:56:20 +0200
message:
  test new pb2 testing
------------------------------------------------------------
revno: 3087
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-10-07 10:07:38 +0200
message:
  ndb - merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.64
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-10-07 10:03:09 +0200
    message:
      ndb - merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.9
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Wed 2009-10-07 09:32:39 +0200
    message:
      ndb - use high (and lo) node id's in mtr
        to catch disasters like bug-47844
------------------------------------------------------------
revno: 3086
committer: jack andrews <jack@sun.com>
branch nick: prepush
timestamp: Wed 2009-10-07 17:35:51 +1100
message:
  atrt now runs on windows. 
  added CMakeLists.txt and ported hpp/cpp files.
------------------------------------------------------------
revno: 3085
committer: Martin Zaun <martin.zaun@sun.com>
branch nick: ndb-7.0
timestamp: Tue 2009-10-06 19:56:19 -0700
message:
  Merged from ndb-6.3 to ndb-7.0
    ------------------------------------------------------------
    revno: 2585.100.63
    committer: Martin Zaun <martin.zaun@sun.com>
    branch nick: ndb-6.3
    timestamp: Tue 2009-10-06 19:41:41 -0700
    message:
      Merged from ndb-6.2 to ndb-6.3
    ------------------------------------------------------------
    revno: 2572.66.8
    committer: Martin Zaun <martin.zaun@sun.com>
    branch nick: ndb-6.2
    timestamp: Tue 2009-10-06 19:21:54 -0700
    message:
      ndb - bug44798 - fixed unnecessary non-const overloaded member functions causing Java name clashes.
------------------------------------------------------------
revno: 3084
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Tue 2009-10-06 18:16:17 +0200
message:
  Merge
------------------------------------------------------------
revno: 3083
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-06 16:14:05 +0200
message:
  ndb - merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.62
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-06 16:11:14 +0200
    message:
      merge 62 to 63
        ------------------------------------------------------------
        revno: 2572.66.7
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Tue 2009-10-06 15:29:45 +0200
        message:
          ndb - bug#47816 - handle api-fail-req with nodeid > 49
        ------------------------------------------------------------
        revno: 2572.66.6
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Tue 2009-10-06 15:10:55 +0200
        message:
          ndb - fix bad backport of bug-47782
    ------------------------------------------------------------
    revno: 2585.100.61
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-06 16:10:05 +0200
    message:
      ndb - merge 6.3.27a
    ------------------------------------------------------------
    revno: 2585.106.2
    tags: mysql-5.1.37-ndb-6.3.27a, clone-mysql-5.1.37-ndb-6.3.27a-src-build
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: 6.3.27
    timestamp: Tue 2009-10-06 16:08:36 +0200
    message:
      ndb - dump version to 6.3.27a
    ------------------------------------------------------------
    revno: 2585.106.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: 6.3.27
    timestamp: Tue 2009-10-06 16:03:45 +0200
    message:
      ndb - bug#47816 - handle api-fail-req with nodeid > 49
------------------------------------------------------------
revno: 3082
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-06 15:50:27 +0200
message:
  merge 70-main
    ------------------------------------------------------------
    revno: 3080.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: mysql-5.1-telco-7.0
    timestamp: Tue 2009-10-06 14:45:18 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 3077.1.3
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-06 14:17:23 +0200
    message:
      ndb test - increase default connect timeout to 60 seconds
    ------------------------------------------------------------
    revno: 3077.1.2
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-06 14:03:16 +0200
    message:
      ndb test - ndb_restore_compressed crash
       - source the ndb_restore.test without path since it's in the same directory
         as ndb_restore_compressed.
    ------------------------------------------------------------
    revno: 3077.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Tue 2009-10-06 13:55:57 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3081
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-06 15:46:57 +0200
message:
  ndb - merge 7.0.8a
    ------------------------------------------------------------
    revno: 3048.1.2
    tags: clone-mysql-5.1.37-ndb-7.0.8a-src-build, mysql-5.1.37-ndb-7.0.8a
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: 7.0.8
    timestamp: Tue 2009-10-06 15:44:47 +0200
    message:
      ndb - dump version to 7.0.8a
    ------------------------------------------------------------
    revno: 3048.1.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: 7.0.8
    timestamp: Tue 2009-10-06 15:44:23 +0200
    message:
      ndb - bug#47816 - handle api-fail-req with nodeid > 49
------------------------------------------------------------
revno: 3080
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-06 14:08:30 +0200
message:
  ndb - merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.60
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-10-06 14:07:19 +0200
    message:
      ndb - merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.66.5
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-10-06 14:00:23 +0200
    message:
      ndb - bug#47782 - don't copy any pages for empty fragments, if starting node also don't have any pages
------------------------------------------------------------
revno: 3079
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-10-06 14:06:19 +0200
message:
  ndb - bug#47859 - make sure enough buffer is available before copying another table during NR
------------------------------------------------------------
revno: 3078
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Tue 2009-10-06 12:19:40 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.59
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Tue 2009-10-06 11:54:39 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.66.4
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-10-06 11:39:02 +0100
    message:
      Bug#45282 NDBAPI - Duplicate read of column results in Api failure
------------------------------------------------------------
revno: 3077
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Tue 2009-10-06 10:41:43 +0200
message:
  Merge
------------------------------------------------------------
revno: 3076
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Mon 2009-10-05 20:40:06 +0200
message:
  ndb - use ndb_backup_id.inc to extract the current backup id without grep
------------------------------------------------------------
revno: 3075
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Mon 2009-10-05 19:59:06 +0200
message:
  ndb - Remove the usage of 'grep' to check if table was properly created with ForceVarPart, instead use the already existing show_varparts.inc
------------------------------------------------------------
revno: 3074
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Mon 2009-10-05 17:05:30 +0200
message:
  ndb - turn on WITH_NDB_BINLOG globally since it's used in several different applications
------------------------------------------------------------
revno: 3073
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Mon 2009-10-05 12:45:14 +0200
message:
  ndb - merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.58
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-05 12:42:32 +0200
    message:
      ndb - merge 62 to 63
        ------------------------------------------------------------
        revno: 2572.66.3
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Mon 2009-10-05 12:38:50 +0200
        message:
          ndb - bug#47831 - fix scan error handling in Dbtc, wrt lists
        ------------------------------------------------------------
        revno: 2572.66.2
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Mon 2009-10-05 12:29:36 +0200
        message:
          ndb - merge 62-main
    ------------------------------------------------------------
    revno: 2585.100.57
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-10-05 12:28:46 +0200
    message:
      merge 63-main
------------------------------------------------------------
revno: 3072
committer: Magnus Blaudd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-02 21:35:23 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3070.2.1
    committer: Magnus Blaudd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-02 21:31:55 +0200
    message:
      ndb - fix CMake files for libmysqld
    ------------------------------------------------------------
    revno: 3070.1.1
    committer: Magnus Svensson <magnus.svensson@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-02 21:26:26 +0200
    message:
      ndb - get new CMake files working also for libmysqld
       - Add the additional engine libraries also to libmysqld
       - Fix the rule that adds all source files from engine XXX
         to libmysqld so that it does not use the engine name
         as directory name
       - Fix some faulty include directories in NdbApi 
       - Specify the ha_ndbcluster*.cc files with relative path
          so they work also in libmysqld
------------------------------------------------------------
revno: 3071
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-02 19:32:45 +0100
message:
  Bug#47548 : hostname.cc: ip_to_hostname(): DEBUG_ASSERT err_status must fail
------------------------------------------------------------
revno: 3070
committer: Magnus Blaudd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-02 18:33:50 +0200
message:
  ndb - remove config.cmake also from Makefile.am
------------------------------------------------------------
revno: 3069
committer: Magnus Blaudd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-02 18:21:57 +0200
message:
  ndb - merge in the new Cmake files
    ------------------------------------------------------------
    revno: 3063.1.1
    committer: Magnus Svensson <magnus.svensson@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-02 18:13:41 +0200
    message:
      ndb - Adapt CMake files to new plugin support in 5.1.39
       - Move all relevant defines and checks to the CMakeLists.txt below storage/ndb
       - Keep only changes that affect build of ha_ndbcluster and storage/ndb, ditch the rest
       - Disable innodb_plugin just as it's been disabled in Makefile's
       - Include patch for bug#47795 making it possible have an engine with different name than it's directory  
       - Include patch for bug#47797 making it possible to specify additional libraries to link with
------------------------------------------------------------
revno: 3068
committer: Magnus Blaudd <magnus.blaudd@sun.com>
branch nick: 7.0
timestamp: Fri 2009-10-02 17:06:00 +0200
message:
  ndb - revert faulty push
------------------------------------------------------------
revno: 3067
committer: Magnus Blaudd <magnus.blaudd@sun.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Fri 2009-10-02 16:57:52 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3012.1.2
    committer: Magnus Blaudd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Fri 2009-10-02 16:55:18 +0200
    message:
      ndb - Remove remnants of HAVE_NDBCLUSTER_DB
    ------------------------------------------------------------
    revno: 3012.1.1
    committer: Magnus Blaudd <magnus.blaudd@sun.com>
    branch nick: mysql-5.1-telco-7.0
    timestamp: Wed 2009-09-16 15:42:20 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3066
committer: Martin Zaun <martin.zaun@sun.com>
branch nick: ndb-7.0
timestamp: Thu 2009-10-01 15:40:32 -0700
message:
  Merged
    ------------------------------------------------------------
    revno: 2585.105.3
    committer: Martin Zaun <martin.zaun@sun.com>
    branch nick: ndb-6.3
    timestamp: Thu 2009-10-01 15:29:59 -0700
    message:
      Merged.
    ------------------------------------------------------------
    revno: 2572.65.16
    committer: Martin Zaun <martin.zaun@sun.com>
    branch nick: ndb-6.2
    timestamp: Thu 2009-10-01 15:18:31 -0700
    message:
      ndb - bug#23662 - fixed truncated error message 410 'REDO log files overloaded...'
------------------------------------------------------------
revno: 3065
committer: Martin Zaun <martin.zaun@sun.com>
branch nick: ndb-7.0
timestamp: Thu 2009-10-01 12:17:41 -0700
message:
  ndb - bug#23662 - fixed truncated error message 410 'REDO log files overloaded...'
    ------------------------------------------------------------
    revno: 3051.1.1
    committer: Martin Zaun <martin.zaun@sun.com>
    branch nick: ndb-7.0-bug23662
    timestamp: Thu 2009-10-01 10:50:37 -0700
    message:
      ndb - bug#23662 - fixed truncated error message 410 'REDO log files overloaded...'
------------------------------------------------------------
revno: 3064
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Thu 2009-10-01 17:28:51 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2585.105.2
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-01 15:21:10 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2585.105.1
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Thu 2009-10-01 15:20:03 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.65.15
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-10-01 14:54:20 +0200
    message:
      bug#35244  TE_ALTER event not raised when ALTER TABLE ADD COLUMN is executed: added event type printout to test tool listen_event
------------------------------------------------------------
revno: 3063
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-01 13:20:43 +0200
message:
  ndb - bug#47740 - fix so that new tup doesnt send long-signals to old dbutil
------------------------------------------------------------
revno: 3062
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-01 11:36:14 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.56
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-01 11:35:01 +0200
    message:
      ndb - bug#47740 - testcase only (cause bug should be fixed in 7.0)
------------------------------------------------------------
revno: 3061
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-01 09:25:47 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.55
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-01 09:17:30 +0200
    message:
      ndb - post merge 5.1.39 fix
------------------------------------------------------------
revno: 3060
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Thu 2009-10-01 09:16:52 +0200
message:
  ndb - merge 5.1.39 into 7.0
    ------------------------------------------------------------
    revno: 2585.100.54
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-10-01 07:56:05 +0200
    message:
      ndb - merge 5.1.39 into 6.3
    ------------------------------------------------------------
    revno: 2572.66.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Wed 2009-09-30 20:51:17 +0200
    message:
      ndb - merge 5.1.39 into telco-6.2
    ------------------------------------------------------------
    revno: 2555.502.86
    tags: mysql-5.1.39
    committer: Jonathan Perkin <jperkin@sun.com>
    branch nick: mysql-5.1.39-release
    timestamp: Fri 2009-09-04 17:45:07 +0200
    message:
      Install mysqld.lib
    ------------------------------------------------------------
    revno: 2555.502.85
    tags: clone-5.1.39-build
    committer: Jonathan Perkin <jperkin@sun.com>
    branch nick: mysql-5.1
    timestamp: Thu 2009-09-03 01:48:06 +0200
    message:
      Merge from mysql-5.1.38-release
        ------------------------------------------------------------
        revno: 2555.545.9
        tags: mysql-5.1.38
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Tue 2009-09-01 08:40:13 +0200
        message:
          Only install the innodb plugin if the plugin directory exists.
        ------------------------------------------------------------
        revno: 2555.545.8
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Tue 2009-08-25 13:00:23 +0200
        message:
          Disable ftexample to match other packages, ride previous changelog entry.
        ------------------------------------------------------------
        revno: 2555.545.7
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Mon 2009-08-24 14:06:01 +0200
        message:
          Tidy previous, put example storage engine back as it's used by tests.
        ------------------------------------------------------------
        revno: 2555.545.6
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Mon 2009-08-24 10:50:04 +0200
        message:
          Add conditionals for bundled zlib and innodb plugin
        ------------------------------------------------------------
        revno: 2555.545.5
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Fri 2009-08-21 13:58:33 +0200
        message:
          Apply patch from bug#46834 to install the test suite in RPMs.
        ------------------------------------------------------------
        revno: 2555.545.4
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Fri 2009-08-21 13:52:30 +0200
        message:
          Add plugins to RPMs.  Disable example plugins.
        ------------------------------------------------------------
        revno: 2555.545.3
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Tue 2009-08-18 16:23:15 +0200
        message:
          Install innodb_plugin on Windows.
        ------------------------------------------------------------
        revno: 2555.545.2
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1.38-release
        timestamp: Fri 2009-08-14 17:18:52 +0200
        message:
          Build fixes for Windows, AIX, HP/UX and Sun Studio11, from Timothy Smith.
        ------------------------------------------------------------
        revno: 2555.545.1
        author: Jonathan Perkin <jperkin@sun.com>
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.38-release
        timestamp: Wed 2009-08-12 22:06:44 +0200
        message:
          Apply build fix
    ------------------------------------------------------------
    revno: 2555.502.84
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-vg-5.1-bugteam
    timestamp: Wed 2009-09-02 18:45:33 +0300
    message:
      null merge of 5.0 fixes backported from 5.1
        ------------------------------------------------------------
        revno: 1810.3927.29
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Wed 2009-09-02 16:36:52 +0300
        message:
          Backported the --parallel=str option from mtr2 for backward compatibility
          with the newer pb2 testing environments
        ------------------------------------------------------------
        revno: 1810.3927.28
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Wed 2009-09-02 16:07:52 +0300
        message:
          merge
        ------------------------------------------------------------
        revno: 1810.3950.2
        tags: clone-5.0.86-build
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Wed 2009-09-02 15:33:18 +0300
        message:
          merge
        ------------------------------------------------------------
        revno: 1810.3950.1
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Wed 2009-09-02 13:23:37 +0300
        message:
          moved version to 5.0-main
    ------------------------------------------------------------
    revno: 2555.502.83
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-vg-5.1-bugteam
    timestamp: Wed 2009-09-02 18:42:08 +0300
    message:
      fixed a valgrind warning in partition_pruning
    ------------------------------------------------------------
    revno: 2555.502.82
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-vg-5.1-bugteam
    timestamp: Wed 2009-09-02 15:22:32 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.544.2
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-09-02 09:12:18 -0300
        message:
          Manual merge.
            ------------------------------------------------------------
            revno: 1810.3927.27
            committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
            branch nick: mysql-5.0-bugteam
            timestamp: Wed 2009-09-02 09:02:22 -0300
            message:
              Post-merge fix. Observe C declaration placement rules.
            ------------------------------------------------------------
            revno: 1810.3927.26
            committer: Tatiana A. Nurnberg <azundris@mysql.com>
            branch nick: 50-35132m
            timestamp: Mon 2009-08-31 12:56:01 -0700
            message:
              auto-merge
        ------------------------------------------------------------
        revno: 2555.544.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-09-02 08:45:48 -0300
        message:
          Increase thread stack size on HP-UX when built with debug.
    ------------------------------------------------------------
    revno: 2555.502.81
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-vg-5.1-bugteam
    timestamp: Wed 2009-09-02 15:20:47 +0300
    message:
      fixed a valgrind warning in partitioning code
    ------------------------------------------------------------
    revno: 2555.502.80
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Wed 2009-09-02 13:22:47 +0300
    message:
      Fixed win32 compilation warnings
    ------------------------------------------------------------
    revno: 2555.502.79
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Wed 2009-09-02 13:09:01 +0300
    message:
      fixed compilation warnings
    ------------------------------------------------------------
    revno: 2555.502.78
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Tue 2009-09-01 15:54:59 +0200
    message:
      merge to update with latest mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.543.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: test64-5.1-bugteam
        timestamp: Tue 2009-09-01 16:39:13 +0300
        message:
          Fixed a problem in how BUILD/check_cpu handles Core 2 Duo processors.
          This fixes the regression introduced in 5.1 that prevents 64 bit builds on Intel while still keeping the core2 hack operational so the cluster can build.
        ------------------------------------------------------------
        revno: 2555.543.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-09-01 09:32:26 -0300
        message:
          Bug#45611: Minor code cleanup
          
          Remove a self assignment.
          Rework a few constructs to avoid a potential overflow.
          
          Based upon patch contributed by Michal Hrusecky
    ------------------------------------------------------------
    revno: 2555.502.77
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Tue 2009-09-01 14:53:27 +0200
    message:
      post push fix for bug#20577 and bug#46362, disabling warnings
    ------------------------------------------------------------
    revno: 2555.502.76
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Tue 2009-09-01 13:04:56 +0200
    message:
      Post fix patch for bug#20577 and bug#46362.
      
      On 64-bits machines the calculation gets the wrong types and results
      in very large numbers. Fixed by explicitly cast month to (int)
    ------------------------------------------------------------
    revno: 2555.502.75
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-35132m
    timestamp: Mon 2009-08-31 12:54:22 -0700
    message:
      auto-merge
        ------------------------------------------------------------
        revno: 2555.540.4
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Mon 2009-08-31 17:11:54 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3948.4
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Mon 2009-08-31 17:08:10 +0300
            message:
              merge 5.0-main -> 5.0-bugteam
        ------------------------------------------------------------
        revno: 2555.540.3
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Mon 2009-08-31 17:09:09 +0300
        message:
          automerge 5.1-main -> 5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.541.6
            committer: Jonathan Perkin <jperkin@sun.com>
            branch nick: mysql-5.1-build
            timestamp: Mon 2009-08-24 10:13:34 +0100
            message:
              Apply changes from mysql-5.1.38-release clone:
              
               - Add conditionals for bundled zlib and innodb plugin.
               - Apply patch from bug#46834 to install the test suite in RPMs.
               - Add plugins to RPMs.  Disable example plugins.
            ------------------------------------------------------------
            revno: 2555.541.5
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.1
            timestamp: Fri 2009-08-21 11:56:44 +0200
            message:
              Upmerge a merge changeset from 5.0 to 5.1, no code change involved.
                ------------------------------------------------------------
                revno: 1810.3949.3
                committer: Joerg Bruehe <joerg@mysql.com>
                branch nick: push-5.0
                timestamp: Thu 2009-08-20 22:07:40 +0200
                message:
                  Merge the correction for the bug#37098 fix into 5.0-build
            ------------------------------------------------------------
            revno: 2555.541.4
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.1
            timestamp: Thu 2009-08-20 21:58:27 +0200
            message:
              automerge the correction for bug#37098 into 5.1-build
                ------------------------------------------------------------
                revno: 2555.542.1
                committer: Joerg Bruehe <joerg@mysql.com>
                branch nick: bug37098-2-5.1
                timestamp: Thu 2009-08-20 21:41:12 +0200
                message:
                  Merge the correction to the bug#37098 fix from 5.0 to 5.1.
                ------------------------------------------------------------
                revno: 1810.3935.14
                committer: Joerg Bruehe <joerg@mysql.com>
                branch nick: bug37098-2-5.0
                timestamp: Thu 2009-08-20 21:08:09 +0200
                message:
                  Get rid of manual pages which aren't used.
                  
                  This is a partial correction to the original fix for bug#37098
                     Get rid of "Installed (but unpackaged)" files in the RPM build
                  which used a wrong variable.
            ------------------------------------------------------------
            revno: 2555.541.3
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.1
            timestamp: Thu 2009-08-13 22:33:00 +0200
            message:
              Upmerge 5.0-build into 5.1-build
              This involves merge changesets and backports into QSP builds only,
              does not cause a contents change in 5.1
                ------------------------------------------------------------
                revno: 1810.3949.2
                committer: Joerg Bruehe <joerg@mysql.com>
                branch nick: push-5.0
                timestamp: Tue 2009-08-11 18:59:20 +0200
                message:
                  Merge main 5.0 with 5.0-build,
                  automerge didn't handle this correctly,
                  so test "view" was corrected manually.
                ------------------------------------------------------------
                revno: 1810.3949.1
                committer: Joerg Bruehe <joerg@mysql.com>
                branch nick: push-5.0
                timestamp: Tue 2009-08-11 18:13:53 +0200
                message:
                  Correct a merge error that happened during a backport for 5.0.82sp1:
                  
                  The test for the 45806 entry in our bug DB got applied twice,
                  in different places for the "view.test" and "view.result" files.
                  
                  The fix is to simply remove the erroneous insertion.
            ------------------------------------------------------------
            revno: 2555.541.2
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.1
            timestamp: Thu 2009-08-13 22:25:58 +0200
            message:
              Merge main 5.1 into 5.1-build
            ------------------------------------------------------------
            revno: 2555.541.1
            committer: Daniel Fischer <df@sun.com>
            branch nick: mysql-5.1-build-45063b
            timestamp: Wed 2009-08-12 17:10:15 +0200
            message:
              Create separate vardirs during collections test runs.
        ------------------------------------------------------------
        revno: 2555.540.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B46749-5.1-bugteam
        timestamp: Mon 2009-08-31 16:40:35 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3948.3
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B46749-5.0-bugteam
            timestamp: Thu 2009-08-27 14:40:42 +0300
            message:
              Bug #46749: Segfault in add_key_fields() with outer subquery level 
                field references
              
              This error requires a combination of factors : 
              1. An "impossible where" in the outermost SELECT
              2. An aggregate in the outermost SELECT
              3. A correlated subquery with a WHERE clause that includes an outer 
              field reference as a top level WHERE sargable predicate
              
              When JOIN::optimize detects an "impossible WHERE" it will bail out
              without doing the rest of the work and initializations. It will not
              call make_join_statistics() as well.  And make_join_statistics fills 
              in various structures for each table referenced.
              When processing the result of the "impossible WHERE" the query must
              send a single row of data if there are aggregate functions in it.
              In this case the server marks all the aggregates as having received 
              no rows and calls the relevant Item::val_xxx() method on the SELECT
              list. However if this SELECT list happens to contain a correlated 
              subquery this subquery is evaluated in a normal evaluation mode.
              And if this correlated subquery has a reference to a field from the 
              outermost "impossible where" SELECT the add_key_fields will mistakenly
              consider the outer field reference as a "local" field reference when 
              looking for sargable predicates.
              But since the SELECT where the outer field reference refers to is not
              completely initialized due to the "impossible WHERE" in this level
              we'll get a NULL pointer reference.
              Fixed by making a better condition for discovering if a field is "local"
              to the SELECT level being processed. 
              It's not enough to look for OUTER_REF_TABLE_BIT in this case since 
              for outer references to constant tables the Item_field::used_tables() 
              will return 0 regardless of whether the field reference is from the 
              local SELECT or not.
        ------------------------------------------------------------
        revno: 2555.540.1
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-08-31 13:26:09 +0530
        message:
          merging bugfix from 5.0
        ------------------------------------------------------------
        revno: 1810.3948.2
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.0-bugteam-44723
        timestamp: Mon 2009-08-31 13:02:31 +0530
        message:
          merging with changes in bugteam branch.
        ------------------------------------------------------------
        revno: 1810.3948.1
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.0-bugteam-44723
        timestamp: Mon 2009-08-24 13:15:51 +0530
        message:
          Bug #44723 Larger read_buffer_size values can cause performance 
                   decrease for INSERTs
          
          
          Bulk inserts (multiple row, CREATE ... SELECT, INSERT ... SELECT) into
          MyISAM tables were performed inefficiently. This was mainly affecting
          use cases where read_buffer_size was considerably large (>256K) and low
          number of rows was inserted (e.g. 30-100).
          
          The problem was that during I/O cache initialization (this happens
          before each bulk insert) allocated I/O buffer was unnecessarily
          initialized to '\0'.
          
          This was happening because of mess in flag values. MyISAM informs I/O
          cache to wait for free space (if out of disk space) by passing
          MY_WAIT_IF_FULL flag. Since MY_WAIT_IF_FULL and MY_ZEROFILL have the
          same values, memory allocator was initializing memory to '\0'.
          
          The performance gain provided with this patch may only be visible with
          non-debug binaries, since safemalloc always initializes allocated memory
          to 0xA5A5...
    ------------------------------------------------------------
    revno: 2555.502.74
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-35132m
    timestamp: Mon 2009-08-31 12:40:33 -0700
    message:
      manual merge
        ------------------------------------------------------------
        revno: 1810.3927.25
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 50-35132m
        timestamp: Mon 2009-08-31 10:01:13 -0700
        message:
          Bug#35132: MySQLadmin --wait ping always crashes on Windows systems
          
          Failing to connect would release parts of the MYSQL struct.
          We would then proceed to try again to connect without re-
          initializing the struct.
          
          We prevent the unwanted freeing of data we'll still need now.
    ------------------------------------------------------------
    revno: 2555.502.73
    committer: <Dao-Gang.Qu@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-08-31 10:26:01 +0800
    message:
      Bug #44331  Restore of database with events produces warning in replication
      
      Update the test case for BUG#44331 to fix the push build failure.
    ------------------------------------------------------------
    revno: 2555.502.72
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 43414-51
    timestamp: Sun 2009-08-30 19:01:48 +0200
    message:
      Merge from 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.538.3
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Sun 2009-08-30 11:38:49 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 2555.539.1
            committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
            branch nick: my51-bug46607
            timestamp: Sun 2009-08-30 11:03:37 +0400
            message:
              Bug #46607: Assertion failed: (cond_type == Item::FUNC_ITEM) 
                          results in server crash 
               
              check_group_min_max_predicates() assumed the input condition 
              item to be one of COND_ITEM, SUBSELECT_ITEM, or FUNC_ITEM. 
              Since a condition of the form "field" is also a valid condition 
              equivalent to "field <> 0", using such a condition in a query 
              where the loose index scan was chosen resulted in a debug 
              assertion failure. 
               
              Fixed by handling conditions of the FIELD_ITEM type in 
              check_group_min_max_predicates(). 
        ------------------------------------------------------------
        revno: 2555.538.2
        committer: <Dao-Gang.Qu@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Sat 2009-08-29 16:52:22 +0800
        message:
          Bug #44331  Restore of database with events produces warning in replication
          
          If an EVENT is created without the DEFINER clause set explicitly or with it set  
          to CURRENT_USER, the master and slaves become inconsistent. This issue stems from 
          the fact that in both cases, the DEFINER is set to the CURRENT_USER of the current 
          thread. On the master, the CURRENT_USER is the mysqld's user, while on the slave,  
          the CURRENT_USER is empty for the SQL Thread which is responsible for executing 
          the statement.
          
          To fix the problem, we do what follows. If the definer is not set explicitly,  
          a DEFINER clause is added when writing the query into binlog; if 'CURRENT_USER' is 
          used as the DEFINER, it is replaced with the value of the current user before 
          writing to binlog.
        ------------------------------------------------------------
        revno: 2555.538.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-08-28 18:49:16 -0300
        message:
          Reduce test case runtime.
    ------------------------------------------------------------
    revno: 2555.502.71
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 43414-51
    timestamp: Fri 2009-08-28 18:21:54 +0200
    message:
      Merge from 5.0 for 43414
        ------------------------------------------------------------
        revno: 1810.3927.24
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-50
        timestamp: Fri 2009-08-28 17:51:31 +0200
        message:
          Bug #43414 Parenthesis (and other) warnings compiling MySQL
          with gcc 4.3.2
                
          This patch fixes a number of GCC warnings about variables used
          before initialized. A new macro UNINIT_VAR() is introduced for
          use in the variable declaration, and LINT_INIT() usage will be
          gradually deprecated. (A workaround is used for g++, pending a
          patch for a g++ bug.)
                
          GCC warnings for unused results (attribute warn_unused_result)
          for a number of system calls (present at least in later
          Ubuntus, where the usual void cast trick doesn't work) are
          also fixed.
    ------------------------------------------------------------
    revno: 2555.502.70
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-08-28 12:06:59 -0300
    message:
      Fix for a few assorted compiler warnings.
    ------------------------------------------------------------
    revno: 2555.502.69
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam_2
    timestamp: Fri 2009-08-28 13:54:17 +0200
    message:
      merge
        ------------------------------------------------------------
        revno: 2555.535.3
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: topush-51-bugteam
        timestamp: Fri 2009-08-28 12:55:59 +0200
        message:
          Manual merge between bug#46362 and bug#20577.
            ------------------------------------------------------------
            revno: 2555.537.1
            committer: Mattias Jonsson <mattias.jonsson@sun.com>
            branch nick: b46362-51-bugteam
            timestamp: Wed 2009-08-26 12:51:23 +0200
            message:
              Bug#46362: Endpoint should be set to false for TO_DAYS(DATE)
              
              There were a problem since pruning uses the field
              for comparison (while evaluate_join_record uses longlong),
              resulting in pruning failures when comparing DATE to DATETIME.
              
              Fix was to always comparing DATE vs DATETIME as DATETIME,
              by adding ' 00:00:00' to the DATE string.
              
              And adding optimization for comparing with 23:59:59, so that
              DATETIME_col > '2001-02-03 23:59:59' ->
              TO_DAYS(DATETIME_col) > TO_DAYS('2001-02-03 23:59:59') instead
              of '>='.
        ------------------------------------------------------------
        revno: 2555.535.2
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: topush-51-bugteam
        timestamp: Wed 2009-08-26 14:45:50 +0200
        message:
          merge
            ------------------------------------------------------------
            revno: 2555.536.1
            committer: Mattias Jonsson <mattias.jonsson@sun.com>
            branch nick: test-51-bugteam_innodb_plugin
            timestamp: Fri 2009-08-07 15:08:32 +0200
            message:
              Bug#32430: 'show innodb status' causes errors
              Invalid (old?) table or database name in logs
              
              Post push patch.
              
              Bug was that a non partitioned table file was not
              converted to system_charset, (due to table_name_len was not set).
              
              Also missing DBUG_RETURN.
              
              And Innodb adds quotes after calling the function,
              so I added one more mode where explain_filename does not
              add quotes. But it still appends the [sub]partition name
              as a comment.
              
              Also caught a minor quoting bug, the character '`' was
              not quoted in the identifier. (so 'a`b' was quoted as `a`b`
              and not `a``b`, this is mulitbyte characters aware.)
        ------------------------------------------------------------
        revno: 2555.535.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: topush-51-bugteam
        timestamp: Wed 2009-08-26 14:40:18 +0200
        message:
          merge
        ------------------------------------------------------------
        revno: 2555.534.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: b20577-51-bugteam
        timestamp: Wed 2009-08-26 12:59:49 +0200
        message:
          Bug#20577: Partitions: use of to_days() function leads to selection failures
          
          Problem was that the partition containing NULL values
          was pruned away, since '2001-01-01' < '2001-02-00' but
          TO_DAYS('2001-02-00') is NULL.
          
          Added the NULL partition for RANGE/LIST partitioning on TO_DAYS()
          function to be scanned too.
          
          Also fixed a bug that added ALLOW_INVALID_DATES to sql_mode
          (SELECT * FROM t WHERE date_col < '1999-99-99' on a RANGE/LIST
          partitioned table would add it).
    ------------------------------------------------------------
    revno: 2555.502.68
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-08-28 10:45:57 +0100
    message:
      merge mysql-5.0-bugteam --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3927.23
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-08-28 10:29:04 +0100
        message:
          auto-merge mysql-5.0-bugteam (local) --> mysql-5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3792.10
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: b46861-5.0.72sp
        timestamp: Thu 2009-08-27 17:28:09 +0100
        message:
          BUG#46861 Auto-closing of temporary tables broken by replicate-rewrite-db
          
          When a connection is dropped any remaining temporary table is also automatically
          dropped and the SQL statement of this operation is written to the binary log in
          order to drop such tables on the slave and keep the slave in sync. Specifically,
          the current code base creates the following type of statement:
          DROP /*!40005 TEMPORARY */ TABLE IF EXISTS `db`.`table`;
          
          Unfortunately, appending the database to the table name in this manner circumvents
          the replicate-rewrite-db option (and any options that check the current database).
          To solve the issue, we started writing the statement to the binary as follows:
          use `db`; DROP /*!40005 TEMPORARY */ TABLE IF EXISTS `table`;
    ------------------------------------------------------------
    revno: 2555.502.67
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-27 13:46:29 +0100
    message:
      BUG#46864 Incorrect update of InnoDB table on slave when using trigger with myisam table
      
      Slave does not correctly handle "expected errors" leading to inconsistencies
      between the mater and slave. Specifically, when a statement changes both
      transactional and non-transactional tables, the transactional changes are
      automatically rolled back on the master but the slave ignores the error and
      does not roll them back thus leading to inconsistencies.
            
      To fix the problem, we automatically roll back a statement that fails on
      the slave but note that the transaction is not rolled back unless a "rollback"
      command is in the relay log file.
    ------------------------------------------------------------
    revno: 2555.502.66
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-27 15:59:25 +0500
    message:
      5.0-bugteam->5.1-bugteam merge
        ------------------------------------------------------------
        revno: 1810.3927.22
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-08-27 15:22:19 +0500
        message:
          Bug#46184 Crash, SELECT ... FROM derived table procedure analyze
          The crash happens because select_union object is used as result set
          for queries which have derived tables.
          select_union use temporary table as data storage and if
          fields count exceeds 10(count of values for procedure ANALYSE())
          then we get a crash on fill_record() function.
    ------------------------------------------------------------
    revno: 2555.502.65
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-27 10:32:27 +0100
    message:
      Post-fix for BUG#28976.
      
      Updated main.mysqlbinlog_row_trans's result file as 
      TRUNCATE statements are wrapped in BEGIN...COMMIT.
    ------------------------------------------------------------
    revno: 2555.502.64
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B37044-5.1-bugteam
    timestamp: Thu 2009-08-27 10:46:35 +0300
    message:
      merged 5.0-bugteam -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3927.21
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B37044-5.0-bugteam
        timestamp: Mon 2009-08-24 15:28:03 +0300
        message:
          Bug #37044: Read overflow in opt_range.cc found during "make test"
          
          The code was using a special global buffer for the value of IS NULL ranges.
          This was not always long enough to be copied by a regular memcpy. As a 
          result read buffer overflows may occur.
          Fixed by setting the null byte to 1 and setting the rest of the field disk image
          to NULL with a bzero (instead of relying on the buffer and memcpy()).
        ------------------------------------------------------------
        revno: 1810.3927.20
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B46807-5.0-bugteam
        timestamp: Wed 2009-08-19 17:53:43 +0300
        message:
          Bug #46807: subselect test fails on PB-2 with a crash
          
          The check for stack overflow was independent of the size of the 
          structure stored in the heap. 
          Fixed by adding sizeof(PARAM) to the requested free heap size.
    ------------------------------------------------------------
    revno: 2555.502.63
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-27 00:13:03 +0100
    message:
      BUG#28976 Mixing trans and non-trans tables in one transaction results in incorrect
      binlog
      
      Mixing transactional (T) and non-transactional (N) tables on behalf of a
      transaction may lead to inconsistencies among masters and slaves in STATEMENT
      mode. The problem stems from the fact that although modifications done to
      non-transactional tables on behalf of a transaction become immediately visible
      to other connections they do not immediately get to the binary log and therefore
      consistency is broken. Although there may be issues in mixing T and M tables in
      STATEMENT mode, there are safe combinations that clients find useful.
      
      In this bug, we fix the following issue. Mixing N and T tables in multi-level
      (e.g. a statement that fires a trigger) or multi-table table statements (e.g.
      update t1, t2...) were not handled correctly. In such cases, it was not possible
      to distinguish when a T table was updated if the sequence of changes was N and T.
      In a nutshell, just the flag "modified_non_trans_table" was not enough to reflect
      that both a N and T tables were changed. To circumvent this issue, we check if an
      engine is registered in the handler's list and changed something which means that
      a T table was modified.
      
      Check WL 2687 for a full-fledged patch that will make the use of either the MIXED or
      ROW modes completely safe.
    ------------------------------------------------------------
    revno: 2555.502.62
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 45261-5.1
    timestamp: Mon 2009-08-24 16:47:08 -0300
    message:
      Bug#45261: Crash, stored procedure + decimal
      
      The problem was that creating a DECIMAL column from a decimal
      value could lead to a failed assertion as decimal values can
      have a higher precision than those attached to a table. The
      assert could be triggered by creating a table from a decimal
      with a large (> 30) scale. Also, there was a problem in
      calculating the number of digits in the integral and fractional
      parts if both exceeded the maximum number of digits permitted
      by the new decimal type.
      
      The solution is to ensure that truncation procedure is executed
      when deducing a DECIMAL column from a decimal value of higher
      precision. If the integer part is equal to or bigger than the
      maximum precision for the DECIMAL type (65), the integer part
      is truncated to fit and the fractional becomes zero. Otherwise,
      the fractional part is truncated to fit into the space left
      after the integer part is copied.
      
      This patch borrows code and ideas from Martin Hansson's patch.
    ------------------------------------------------------------
    revno: 2555.502.61
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Mon 2009-08-24 11:37:44 +0100
    message:
      auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.533.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-08-19 16:38:18 +0100
        message:
          BUG#45694 Deadlock in replicated statement is not retried
          
          If the SQL Thread fails to execute an event due to a temporary error (e.g.
          ER_LOCK_DEADLOCK) and the option "--slave_transaction_retries" is set the SQL
          Thread should not be aborted and the transaction should be restarted from the
          beginning and re-executed.
          
          Unfortunately, a wrong interpretation of the THD::is_fatal_error was preventing
          this behavior. In a nutshell, "this variable is set to TRUE if an execution of a
          compound statement cannot continue. In particular, it is used to disable access
          to the CONTINUE or EXIT handlers of stored routines. So even temporary errors
          may have this variable set.
          
          To fix the bug, we have done what follows:
          
             DBUG_ENTER("has_temporary_error");
          
          -  if (thd->is_fatal_error)
          -    DBUG_RETURN(0);
          -
             DBUG_EXECUTE_IF("all_errors_are_temporary_errors",
                             if (thd->main_da.is_error())
                             {
    ------------------------------------------------------------
    revno: 2555.502.60
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Mon 2009-08-24 10:24:52 +0100
    message:
      auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.532.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-08-13 17:21:01 +0100
        message:
          BUG#46130 Slave does not correctly handle "expected errors"
          
          In STATEMENT based replication, a statement that failed on the master but that
          updated non-transactional tables is written to binary log with the error code
          appended to it. On the slave, the statement is executed and the same error is
          expected. However, when an "expected error" did not happen on the slave and was
          either ignored or was related to a concurrency issue on the master, the slave
          did not rollback the effects of the statement and as such inconsistencies might
          happen.
          
          To fix the problem, we automatically rollback a statement that should have
          failed on a slave but succeded and whose expected failure is either ignored or
          stems from a concurrency issue on the master.
    ------------------------------------------------------------
    revno: 2555.502.59
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Fri 2009-08-21 18:00:38 +0200
    message:
      merge
        ------------------------------------------------------------
        revno: 2555.531.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: b46639-51-bugteam
        timestamp: Fri 2009-08-21 17:38:29 +0200
        message:
          Bug#46639: 1030 (HY000): Got error 124 from storage engine on
          INSERT ... SELECT ...
          
          Problem was that when bulk insert is used on an empty
          table/partition, it disables the indexes for better
          performance, but in this specific case it also tries
          to read from that partition using an index, which is
          not possible since it has been disabled.
          
          Solution was to allow index reads on disabled indexes
          if there are no records.
          
          Also reverted the patch for bug#38005, since that was a workaround
          in the partitioning engine instead of a fix in myisam.
    ------------------------------------------------------------
    revno: 2555.502.58
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B46019-5.1-bugteam
    timestamp: Fri 2009-08-21 17:41:48 +0300
    message:
      reverted the fix for bug #46019 from 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3927.19
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B46019-5.0-bugteam
        timestamp: Fri 2009-08-21 17:12:03 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3947.1
            committer: Martin Hansson <martin.hansson@sun.com>
            branch nick: 5.0bt
            timestamp: Fri 2009-08-21 14:31:40 +0200
            message:
              Merge.
        ------------------------------------------------------------
        revno: 1810.3927.18
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B46019-5.0-bugteam
        timestamp: Fri 2009-08-21 17:10:55 +0300
        message:
          Revert of the fix for bug #46019.
    ------------------------------------------------------------
    revno: 2555.502.57
    committer: Martin Hansson <martin.hansson@sun.com>
    branch nick: 5.1bt
    timestamp: Fri 2009-08-21 12:13:03 +0200
    message:
      Merge.
        ------------------------------------------------------------
        revno: 2555.530.1
        committer: Martin Hansson <martin.hansson@sun.com>
        branch nick: 5.1bt-gca
        timestamp: Thu 2009-08-20 14:30:59 +0200
        message:
          Bug#46616: Merge
        ------------------------------------------------------------
        revno: 1810.3946.1
        committer: Martin Hansson <martin.hansson@sun.com>
        branch nick: 5.0bt-gca
        timestamp: Thu 2009-08-20 13:56:29 +0200
        message:
          Bug#46616: Assertion `!table->auto_increment_field_not_null' on 
          view manipulations
                
          The bespoke flag was not properly reset after last call to 
          fill_record. Fixed by resetting in caller mysql_update.
    ------------------------------------------------------------
    revno: 2555.502.56
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-08-21 10:55:35 +0500
    message:
      Fix for bug #46456 [Ver->Prg]: HANDLER OPEN + TRUNCATE + DROP
      (temporary) TABLE, crash
      
      Problem: if one has an open "HANDLER t1", further "TRUNCATE t1" 
      doesn't close the handler and leaves handler table hash in an 
      inconsistent state, that may lead to a server crash.
      
      Fix: TRUNCATE should implicitly close all open handlers.
      
      Doc. request: the fact should be described in the manual accordingly.
    ------------------------------------------------------------
    revno: 2555.502.55
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B46019-5.1-bugteam
    timestamp: Thu 2009-08-20 17:11:22 +0300
    message:
      merge of bug #46019 to 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3927.17
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B46019-5.0-bugteam
        timestamp: Wed 2009-08-19 15:14:57 +0300
        message:
          Bug #46019: ERROR 1356 When selecting from within another
          view that has Group By
                
          Table access rights checking function check_grant() assumed
          that no view is opened when it's called.
          This is not true with nested views where the inner view
          needs materialization. In this case the view is already 
          materialized when check_grant() is called for it.
          This caused check_grant() to not look for table level
          grants on the materialized view table.
          Fixed by checking if a view is already materialized and if 
          it is check table level grants using the original table name
          (not the ones of the materialized temp table).
    ------------------------------------------------------------
    revno: 2555.502.54
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B45962-5.1-bugteam
    timestamp: Thu 2009-07-09 15:05:30 +0300
    message:
      Bug #45962: memory leak after 'sort aborted' errors
      
      When the function exits with an error it was not
      freeing the local Unique class instance.
      Fixed my making sure all the places where the function
      returns from are freeing the Unique instance 
    ------------------------------------------------------------
    revno: 2555.502.53
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B39326-5.1-bugteam
    timestamp: Wed 2009-08-19 18:16:30 +0300
    message:
      null merge of the backport of Chad's fix for bug #39326 to 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3927.16
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B39326-5.0-bugteam
        timestamp: Wed 2009-08-19 10:59:17 +0300
        message:
          backport of Chad's fix for bug #39326 to 5.0-bugteam
    ------------------------------------------------------------
    revno: 2555.502.52
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-08-17 17:21:08 +0300
    message:
      automere
        ------------------------------------------------------------
        revno: 1810.3927.15
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-08-17 17:13:08 +0300
        message:
          automerge
        ------------------------------------------------------------
        revno: 1810.3945.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0
        timestamp: Tue 2009-08-11 13:22:28 -0300
        message:
          Merge from mysql-5.0-bugteam.
    ------------------------------------------------------------
    revno: 2555.502.51
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-08-17 17:14:51 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.471.20
        committer: Alexander Nozdrin <alik@sun.com>
        branch nick: 5.1
        timestamp: Wed 2009-08-12 23:45:01 +0400
        message:
          Ignore auto-generated file: libmysqld/examples/mysqltest.cc
        ------------------------------------------------------------
        revno: 2555.471.19
        committer: Alexander Nozdrin <alik@sun.com>
        branch nick: 5.1
        timestamp: Wed 2009-08-12 23:43:20 +0400
        message:
          Fix 5.1 build error.
        ------------------------------------------------------------
        revno: 2555.471.18
        author: karen.langford@sun.com
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1
        timestamp: Wed 2009-08-12 16:41:07 +0200
        message:
          Raise version number after cloning 5.1.38
        ------------------------------------------------------------
        revno: 2555.471.17
        tags: clone-5.1.38-build
        committer: Sergey Vojtovich <svoj@sun.com>
        branch nick: mysql-5.1-merge
        timestamp: Wed 2009-08-12 17:46:12 +0500
        message:
          Disable main.index_merge_innodb with InnoDB plugin. The test case is
          not ready to run with innoplug-1.0.4.
        ------------------------------------------------------------
        revno: 2555.471.16
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: 5.1
        timestamp: Tue 2009-08-11 17:47:33 +0200
        message:
          merge fix  to define  __NT__ on Windows
            ------------------------------------------------------------
            revno: 2555.527.18
            committer: Vladislav Vaintroub <vvaintroub@mysql.com>
            branch nick: mysql-5.1-innodb_plugin
            timestamp: Tue 2009-08-11 17:44:13 +0200
            message:
              Always compile with __NT__ on windows. in 5.1 itthis #define is
              widely used, in replication (delete_allow_opened) and for named
              pipe support. We do not support Win9x anymore.
        ------------------------------------------------------------
        revno: 2555.471.15
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1
        timestamp: Tue 2009-08-11 11:29:07 -0300
        message:
          Merge from mysql-5.1-bugteam.
        ------------------------------------------------------------
        revno: 2555.471.14
        committer: Sergey Vojtovich <svoj@sun.com>
        branch nick: mysql-5.1-merge
        timestamp: Tue 2009-08-11 18:05:25 +0500
        message:
          Merge mysql-5.1-innodb_plugin to mysql-5.1.
            ------------------------------------------------------------
            revno: 2555.527.17
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-merge
            timestamp: Tue 2009-08-04 13:02:48 +0500
            message:
              Fixed build failure on Win.
              
              Reverted lost in the merge line.
            ------------------------------------------------------------
            revno: 2555.527.16
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-merge
            timestamp: Fri 2009-07-31 14:54:25 +0500
            message:
              Added fsp0types.h to source distribution.
            ------------------------------------------------------------
            revno: 2555.527.15
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-merge
            timestamp: Thu 2009-07-30 17:42:56 +0500
            message:
              Update to innoplug-1.0.4.
            ------------------------------------------------------------
            revno: 2555.527.14
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-merge
            timestamp: Tue 2009-07-14 15:06:04 +0500
            message:
              Merge 5.1-bugteam -> 5.1-innodb_plugin.
            ------------------------------------------------------------
            revno: 2555.527.13
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Thu 2009-07-09 17:36:29 +0500
            message:
              This patch pretends to fix run-time symbols clash on Solaris:
              - when finding out a way to hide symbols, make decision basing
                on compiler, not operating system.
              - Sun Studio supports __hidden declaration specifier for this
                purpose.
            ------------------------------------------------------------
            revno: 2555.527.12
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Fri 2009-07-03 15:06:19 +0500
            message:
              On Solaris shared objects must be linked from PIC code.
            ------------------------------------------------------------
            revno: 2555.527.11
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Thu 2009-06-25 19:16:40 +0500
            message:
              Fixed InnoDB plugin compilation failure from source distribution
              on Windows.
              
              Added missing file to a source distribution.
            ------------------------------------------------------------
            revno: 2555.527.10
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Thu 2009-06-25 14:34:37 +0500
            message:
              Expanded list of directories to seach for InnoDB plugin. With
              this fix it is possible to test InnoDB plugin from binary
              distribution. As well as on pb.
            ------------------------------------------------------------
            revno: 2555.527.9
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Wed 2009-06-24 22:18:58 +0500
            message:
              This patch implements testing InnoDB plugin milestone.
            ------------------------------------------------------------
            revno: 2555.527.8
            committer: Sergey Vojtovich <svoj@sun.com>
            branch nick: mysql-5.1-innodb_plugin-test
            timestamp: Thu 2009-06-18 13:49:44 +0500
            message:
              Fixed build failures.
            ------------------------------------------------------------
            revno: 2555.527.7
            committer: Vladislav Vaintroub <vvaintroub@mysql.com>
            branch nick: 5.1-innodb_plugin
            timestamp: Wed 2009-06-17 16:32:16 +0200
            message:
              merge
                ------------------------------------------------------------
                revno: 2555.528.6
                committer: Sergey Vojtovich <svoj@sun.com>
                branch nick: mysql-5.1-innodb_plugin-test
                timestamp: Wed 2009-06-17 14:38:41 +0500
                message:
                  When using bundled zlib, INNODB_PLUGIN was looking for
                  zlib headers in wrong location.
                  
                  Fixed by using path exported by zlib.m4 macro.
                ------------------------------------------------------------
                revno: 2555.528.5
                committer: Sergey Vojtovich <svoj@sun.com>
                branch nick: mysql-5.1-innodb_plugin-test
                timestamp: Thu 2009-06-11 17:57:44 +0500
                message:
                  Make innodb test suite pass with INNODB_PLUGIN.
                ------------------------------------------------------------
                revno: 2555.528.4
                committer: Satya B <satya.bn@sun.com>
                branch nick: mysql-5.1-innodb_plugin_branch
                timestamp: Thu 2009-06-11 16:50:53 +0530
                message:
                  Remove the following tests and include files as they are already in
                  the mysql test suite.
                  
                  Tests removed:
                  1. innodb_trx_weight.test
                  2. innodb_bug35220.test
                  
                  Include files removed:
                  1. have_innodb.inc
                  2. ctype_innodb_like.inc
                  3. innodb_trx_weight.inc
                  
                  Also add the missing opt file for the test innodb-use-sys-malloc.test
                ------------------------------------------------------------
                revno: 2555.528.3
                committer: Satya B <satya.bn@sun.com>
                branch nick: mysql-5.1-innodb_plugin_branch
                timestamp: Thu 2009-06-11 12:34:49 +0530
                message:
                  merge from mysql-5.1-innodb_plugin
                    ------------------------------------------------------------
                    revno: 2555.529.1
                    committer: Sergey Vojtovich <svoj@sun.com>
                    branch nick: mysql-5.1-innodb_plugin-test
                    timestamp: Wed 2009-06-10 22:50:00 +0500
                    message:
                      Removed legacy name for innodb_plugin SE, so --with[out]-innodb
                      option doesn't affect innodb_plugin.
                      
                      Currently it works as following:
                      * configure without relevant options producing two dynamic plugins
                      * configure --with-plugin-innodb (or legacy --with-innodb) producing
                        static standard InnoDB
                      * configure --without-plugin-innodb (or legacy --without-innodb)
                        disabling standard InnoDB
                      * configure --with-plugin-innodb_plugin producing dynamic innodb_plugin
                      * configure --without-plugin-innodb_plugin disabling innodb_plugin
                ------------------------------------------------------------
                revno: 2555.528.2
                committer: Satya B <satya.bn@sun.com>
                branch nick: mysql-5.1-innodb_plugin_branch
                timestamp: Wed 2009-06-10 19:21:20 +0530
                message:
                  Add innodb plugin tests to a new mysql test suite 'innodb'.
                  
                  Created a test suite 'innodb' under mysql-test/suite/innodb for the innodb plugin tests.
                  test suite 'innodb' has tests only which are not under any other mysql-test suites.
                  
                  Total 14 testcases are added to the test suite.
                  
                  Note: the patches in storage/innodb_plugin/mysql-test/patches are not applied yet
                ------------------------------------------------------------
                revno: 2555.528.1
                committer: Tomas Ulin <tomas.ulin@sun.com>
                branch nick: mysql-5.1-innodb_plugin
                timestamp: Tue 2009-06-09 21:26:04 +0200
                message:
                  add missing file in Makefile.am
            ------------------------------------------------------------
            revno: 2555.527.6
            committer: Vladislav Vaintroub <vvaintroub@mysql.com>
            branch nick: 5.1-innodb_plugin
            timestamp: Wed 2009-06-17 16:14:08 +0200
            message:
              Fixed type defintion for  os_thread_id_t on 64 bit Windows.
              It used to be declared as ulint, which is 32/64 bit integer depending on OS bitness.
              However this declaration lead to problems with os_compare_and_swap_thread_id 
              implementation which operated on 32 bit integers (InterlockedCompareExchange)
              
              Using 64 bit int   lead to  wrong result in os_compare_and_swap_thread_id 
              and to crash/assertion in  rw_lock_set_writer_id_and_recursion_flag()
              
              The fix is to use 4 byte integer to os_thread_id type definition.
            ------------------------------------------------------------
            revno: 2555.527.5
            committer: Vladislav Vaintroub <vvaintroub@mysql.com>
            branch nick: 5.1-innodb_plugin
            timestamp: Wed 2009-06-10 10:59:49 +0200
            message:
              Backport WL#3653 to 5.1 to enable bundled innodb plugin.
              Remove custom DLL loader code from innodb plugin code, use 
              symbols exported from mysqld.
            ------------------------------------------------------------
            revno: 2555.527.4
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.1-bugteam-innodb
            timestamp: Fri 2009-06-05 17:03:33 +0530
            message:
              merge from mysql-5.1-innodb_plugin branch.
              
              change tree name to 'mysql-5.1-innodb_plugin'
            ------------------------------------------------------------
            revno: 2555.527.3
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.1-bugteam-innodb
            timestamp: Fri 2009-05-29 18:30:29 +0530
            message:
              Compile the Innodb plugin so that it can be installed as dynamic plugin only for now.
              
              The Innodb plugin 1.0.4 can be installed dynamically using the 'INSTALL PLUGIN' syntax
              
              If mysqld is already statically linked with the inbuilt innodb, it is not possible to 
              install the innodb plugin 1.0.4 dynamically. Doing so would throw this error - Function
              'innodb' already exists.
            ------------------------------------------------------------
            revno: 2555.527.2
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.1-bugteam-innodb
            timestamp: Wed 2009-05-27 15:15:59 +0530
            message:
              Adding innodb_plugin-1.0.4 as storage/innodb_plugin.
            ------------------------------------------------------------
            revno: 2555.527.1
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.1-bugteam-innodb
            timestamp: Wed 2009-05-27 14:55:56 +0530
            message:
              Fix post commit and post push email adress and also the tree name.
        ------------------------------------------------------------
        revno: 2555.471.13
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1
        timestamp: Tue 2009-08-04 17:43:17 -0300
        message:
          Merge from mysql-5.1-bugteam.
    ------------------------------------------------------------
    revno: 2555.502.50
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-08-14 14:13:16 +0500
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.526.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-08-13 17:45:01 -0300
        message:
          Merge from mysql-5.0-bugteam.
        ------------------------------------------------------------
        revno: 1810.3927.14
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 45238-5.0
        timestamp: Thu 2009-08-13 17:07:20 -0300
        message:
          Bug#46013: rpl_extraColmaster_myisam fails on pb2
          Bug#45243: crash on win in sql thread clear_tables_to_lock() -> free()
          Bug#45242: crash on win in mysql_close() -> free()
          Bug#45238: rpl_slave_skip, rpl_change_master failed (lost connection) for STOP SLAVE
          Bug#46030: rpl_truncate_3innodb causes server crash on windows
          Bug#46014: rpl_stm_reset_slave crashes the server sporadically in pb2
          
          When killing a user session on the server, it's necessary to
          interrupt (notify) the thread associated with the session that
          the connection is being killed so that the thread is woken up
          if waiting for I/O. On a few platforms (Mac, Windows and HP-UX)
          where the SIGNAL_WITH_VIO_CLOSE flag is defined, this interruption
          procedure is to asynchronously close the underlying socket of
          the connection.
          
          In order to enable this schema, each connection serving thread
          registers its VIO (I/O interface) so that other threads can
          access it and close the connection. But only the owner thread of
          the VIO might delete it as to guarantee that other threads won't
          see freed memory (the thread unregisters the VIO before deleting
          it). A side note: closing the socket introduces a harmless race
          that might cause a thread attempt to read from a closed socket,
          but this is deemed acceptable.
          
          The problem is that this infrastructure was meant to only be used
          by server threads, but the slave I/O thread was registering the
          VIO of a mysql handle (a client API structure that represents a
          connection to another server instance) as a active connection of
          the thread. But under some circumstances such as network failures,
          the client API might destroy the VIO associated with a handle at
          will, yet the VIO wouldn't be properly unregistered. This could
          lead to accesses to freed data if a thread attempted to kill a
          slave I/O thread whose connection was already broken.
          
          There was a attempt to work around this by checking whether
          the socket was being interrupted, but this hack didn't work as
          intended due to the aforementioned race -- attempting to read
          from the socket would yield a "bad file descriptor" error.
          
          The solution is to add a hook to the client API that is called
          from the client code before the VIO of a handle is deleted.
          This hook allows the slave I/O thread to detach the active vio
          so it does not point to freed memory.
    ------------------------------------------------------------
    revno: 2555.502.49
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-08-14 00:49:28 +0500
    message:
      Fix for bug #46614: Assertion in show_create_trigger() 
      on SHOW CREATE TRIGGER + MERGE table
      
      Problem: SHOW CREATE TRIGGER erroneously relies on fact
      that we have the only underlying table for a trigger
      (wrong for merge tables).
      
      Fix: remove erroneous assert().
    ------------------------------------------------------------
    revno: 2555.502.48
    committer: <Li-Bing.Song@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-13 10:48:57 +0800
    message:
      BUG#45574 CREATE IF NOT EXISTS is not binlogged if the object exists
      
      There is an inconsistency with DROP DATABASE|TABLE|EVENT IF EXISTS and
      CREATE DATABASE|TABLE|EVENT IF NOT EXISTS. DROP IF EXISTS statements are
      binlogged even if either the DB, TABLE or EVENT does not exist. In
      contrast, Only the CREATE EVENT IF NOT EXISTS is binlogged when the EVENT
      exists.  
      
      This patch fixes the following cases for all the replication formats:
      CREATE DATABASE IF NOT EXISTS.
      CREATE TABLE IF NOT EXISTS,
      CREATE TABLE IF NOT EXISTS ... LIKE,
      CREAET TABLE IF NOT EXISTS ... SELECT.
    ------------------------------------------------------------
    revno: 2555.502.47
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Wed 2009-08-12 18:53:33 +0200
    message:
      merge
        ------------------------------------------------------------
        revno: 2555.525.2
        committer: Konstantin Osipov <kostja@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-08-12 17:11:06 +0400
        message:
          A follow up patch for the follow up patch for Bug#45829 
          "CREATE TABLE TRANSACTIONAL PAGE_CHECKSUM ROW_FORMAT=PAGE accepted, 
          does nothing".
          
          Put back stubs for members of structures that are shared between
          sql/ and pluggable storage engines. to not break ABI unnecessarily.
          To be NULL-merged into 5.4, where we do break the ABI already.
        ------------------------------------------------------------
        revno: 2555.525.1
        committer: Konstantin Osipov <kostja@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-08-12 14:57:41 +0400
        message:
          A follow up patch for Bug#45829 "CREATE TABLE TRANSACTIONAL 
          PAGE_CHECKSUM ROW_FORMAT=PAGE accepted, does nothing"
          Remove unused code that would lead to warnings when compiling
          sql_yacc.yy.
    ------------------------------------------------------------
    revno: 2555.502.46
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Wed 2009-08-12 12:03:05 +0200
    message:
      manual merge
        ------------------------------------------------------------
        revno: 2555.524.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: b46478-51-bugteam
        timestamp: Thu 2009-08-06 14:28:39 +0200
        message:
          Bug#46478: timestamp field incorrectly defaulted
          when partition is reoganized.
          
          Problem was that table->timestamp_field_type was not changed
          before copying rows between partitions.
          
          fixed by setting it to TIMESTAMP_NO_AUTO_SET as the first thing
          in fast_alter_partition_table, so that all if-branches is covered.
    ------------------------------------------------------------
    revno: 2555.502.45
    committer: Mattias Jonsson <mattias.jonsson@sun.com>
    branch nick: topush-51-bugteam
    timestamp: Wed 2009-08-12 11:46:08 +0200
    message:
      merge
        ------------------------------------------------------------
        revno: 2555.523.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: b39893-51-bugteam
        timestamp: Thu 2009-01-08 15:16:44 +0100
        message:
          Bug#39893: Crash if select on a partitioned table, when partitioning is disabled
          
          Problem was that it tried to run partitioning function calls when
          opening a partitioned table, when it was explicitly disabled.
          
          Solution is to check if the partitioning plugin is ready to use before
          using any partitioning specific calls.
    ------------------------------------------------------------
    revno: 2555.502.44
    committer: <Li-Bing.Song@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-08-12 13:31:56 +0800
    message:
      Manual Merge
        ------------------------------------------------------------
        revno: 1810.3927.13
        committer: <Li-Bing.Song@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Wed 2009-08-12 11:54:05 +0800
        message:
          BUG#45516 SQL thread does not use database charset properly
                  
          Replication SQL thread does not set database default charset to 
          thd->variables.collation_database properly, when executing LOAD DATA binlog.
          This bug can be repeated by using "LOAD DATA" command in STATEMENT mode.
                  
          This patch adds code to find the default character set of the current database 
          then assign it to thd->db_charset when slave server begins to execute a relay log.
          The test of this bug is added into rpl_loaddata_charset.test 
    ------------------------------------------------------------
    revno: 2555.502.43
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-08-11 13:29:45 -0300
    message:
      Merge from mysql-5.0-bugteam.
        ------------------------------------------------------------
        revno: 1810.3927.12
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-08-11 13:14:27 -0300
        message:
          Fix tree name.
        ------------------------------------------------------------
        revno: 1810.3927.11
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-08-11 13:13:06 -0300
        message:
          Update test case result due to mis-merge.
        ------------------------------------------------------------
        revno: 1810.3927.10
        author: sunanda.menon@sun.com
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.0
        timestamp: Tue 2009-08-11 07:16:52 +0200
        message:
          Raise version number after cloning 5.0.85
        ------------------------------------------------------------
        revno: 1810.3927.9
        tags: mysql-5.0.85, clone-5.0.85-build
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0
        timestamp: Mon 2009-08-10 19:47:28 -0300
        message:
          Merge from mysql-5.0-bugteam.
        ------------------------------------------------------------
        revno: 1810.3927.8
        author: hery.ramilison@sun.com
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.0
        timestamp: Mon 2009-08-10 20:53:26 +0200
        message:
          Merge
            ------------------------------------------------------------
            revno: 1810.3911.6
            tags: mysql-5.0.82sp1
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0.82sp1-release
            timestamp: Tue 2009-07-21 20:00:26 +0200
            message:
              Backport into build-200907211706-5.0.82sp1
              
              > ------------------------------------------------------------
              > revno: 2792
              > revision-id: sergey.glukhov@sun.com-20090703083500-jq8vhw0tqr37j7te
              > parent: bernt.johnsen@sun.com-20090703083610-o7l4s8syz05rc4w0
              > committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
              > branch nick: mysql-5.0-bugteam
              > timestamp: Fri 2009-07-03 13:35:00 +0500
              > message:
              >   Bug#45806 crash when replacing into a view with a join!
              >   The crash happend because for views which are joins
              >   we have table_list->table == 0 and 
              >   table_list->table->'any method' call leads to crash.
              >   The fix is to perform table_list->table->file->extra()
              >   method for all tables belonging to view.
            ------------------------------------------------------------
            revno: 1810.3911.5
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0.82sp1-release
            timestamp: Tue 2009-07-21 19:59:04 +0200
            message:
              Backport into build-200907211706-5.0.82sp1
              
              > ------------------------------------------------------------
              > revno: 2772
              > revision-id: joro@sun.com-20090615133815-eb007p5793in33p5
              > parent: joro@sun.com-20090612140659-4hj1tta9p8wvcw4k
              > committer: Georgi Kodinov <joro@sun.com>
              > branch nick: B44810-5.0-bugteam
              > timestamp: Mon 2009-06-15 16:38:15 +0300
              > message:
              >   Bug #44810: index merge and order by with low sort_buffer_size
              >   crashes server!
              >   
              >   The problem affects the scenario when index merge is followed by a filesort
              >   and the sort buffer is not big enough for all the sort keys.
              >   In this case the filesort function will read the data to the end through the 
              >   index merge quick access method (and thus closing the cursor etc), 
              >   but will leave the pointer to the quick select method in place.
              >   It will then create a temporary file to hold the results of the filesort and
              >   will add it as a sort output file (in sort.io_cache).
              >   Note that filesort will copy the original 'sort' structure in an automatic
              >   variable and restore it after it's done.
              >   As a result at exiting filesort() we have a sort.io_cache filled in and 
              >   nothing else (as a result of close of the cursors at end of reading data 
              >   through index merge).
              >   Now create_sort_index() will note that there is a select and will clean it up
              >   (as it's been used already by filesort() reading the data in). While doing that
              >   a special case in the index merge destructor will clean up the sort.io_cache,
              >   assuming it's an output of the index merge method and is not needed anymore.
              >   As a result the code that tries to read the data back from the filesort output 
              >   will get no data in both memory and disk and will crash.
              >         
              >   Fixed similarly to how filesort() does it : by copying the sort.io_cache structure
              >   to a local variable, removing the pointer to the io_cache (so that it's not freed 
              >   by QUICK_INDEX_MERGE_SELECT::~QUICK_INDEX_MERGE_SELECT) and restoring the original 
              >   structure (together with the valid pointer) after the cleanup is done.
              >   This is a safe thing to do because all the structures are already cleaned up by
              >   hitting the end of the index merge's read method (QUICK_INDEX_MERGE_SELECT::get_next()) 
              >   and the cleanup code being written in a way that tolerates repeating cleanups.
            ------------------------------------------------------------
            revno: 1810.3911.4
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0.82sp1-release
            timestamp: Tue 2009-07-21 19:56:35 +0200
            message:
              Backport into build-200907211706-5.0.82sp1
              
              > ------------------------------------------------------------
              > revno: 2763
              > revision-id: sergey.glukhov@sun.com-20090602063813-33mh88cz5vpa2jqe
              > parent: alexey.kopytov@sun.com-20090601124224-zgt3yov9wou590e9
              > committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
              > branch nick: mysql-5.0-bugteam
              > timestamp: Tue 2009-06-02 11:38:13 +0500
              > message:
              >   Bug#45152 crash with round() function on longtext column in a derived table
              >   The crash happens due to wrong max_length value which is set on
              >   Item_func_round::fix_length_and_dec() stage. The value is set to
              >   args[0]->max_length which is too big in case of LONGTEXT(LONGBLOB) fields.
              >   The fix is to set max_length using float_length() function.
            ------------------------------------------------------------
            revno: 1810.3911.3
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0.82sp1-release
            timestamp: Tue 2009-07-21 19:55:33 +0200
            message:
              Backport into build-200907211706-5.0.82sp1
              
              > ------------------------------------------------------------
              > revno: 2733
              > revision-id: gshchepa@mysql.com-20090430192037-9p1etcynkglte2j3
              > parent: aelkin@mysql.com-20090430143246-zfqaz0t7uoluzdz2
              > committer: Gleb Shchepa <gshchepa@mysql.com>
              > branch nick: mysql-5.0-bugteam
              > timestamp: Fri 2009-05-01 00:20:37 +0500
              > message:
              >   Bug #37362: Crash in do_field_eq
              >   
              >   EXPLAIN EXTENDED of nested query containing a error:
              >   
              >      1054 Unknown column '...' in 'field list'
              >   
              >   may cause a server crash.
              >   
              >   
              >   Parse error like described above forces a call to
              >   JOIN::destroy() on malformed subquery.
              >   That JOIN::destroy function closes and frees temporary
              >   tables. However, temporary fields of these tables
              >   may be listed in st_select_lex::group_list of outer
              >   query, and that st_select_lex may not cleanup them
              >   properly. So, after the JOIN::destroy call that
              >   st_select_lex::group_list may have Item_field
              >   objects with dangling pointers to freed temporary
              >   table Field objects. That caused a crash.
            ------------------------------------------------------------
            revno: 1810.3911.2
            author: timothy.smith@sun.com
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0.82sp1-release
            timestamp: Tue 2009-07-21 19:50:50 +0200
            message:
              Set version number for mysql-5.0.82sp1 release
        ------------------------------------------------------------
        revno: 1810.3927.7
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0
        timestamp: Tue 2009-08-04 10:53:15 -0300
        message:
          Merge from mysql-5.0-bugteam.
    ------------------------------------------------------------
    revno: 2555.502.42
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-08-11 11:25:40 -0300
    message:
      Update README.
    ------------------------------------------------------------
    revno: 2555.502.41
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 45010-5.1
    timestamp: Mon 2009-08-10 15:46:20 -0300
    message:
      Manual merge.
        ------------------------------------------------------------
        revno: 1810.3935.13
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 45010-5.0
        timestamp: Fri 2009-08-07 23:32:01 -0300
        message:
          Bug#45010: invalid memory reads during parsing some strange statements
          
          The problem is that the lexer could inadvertently skip over the
          end of a query being parsed if it encountered a malformed multibyte
          character. A specially crated query string could cause the lexer
          to jump up to six bytes past the end of the query buffer. Another
          problem was that the laxer could use unfiltered user input as
          a signed array index for the parser maps (having upper and lower
          bounds 0 and 256 respectively).
          
          The solution is to ensure that the lexer only skips over well-formed
          multibyte characters and that the index value of the parser maps
          is always a unsigned value.
    ------------------------------------------------------------
    revno: 2555.502.40
    committer: Martin Hansson <martin.hansson@sun.com>
    branch nick: 5.1bt
    timestamp: Mon 2009-08-10 16:08:51 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2555.522.1
        committer: Martin Hansson <martin.hansson@sun.com>
        branch nick: 5.1bt-gca
        timestamp: Fri 2009-08-07 13:51:40 +0200
        message:
          Bug#46454: MySQL wrong index optimisation leads to incorrect result & crashes
          Problem 1:
          When the 'Using index' optimization is used, the optimizer may still - after
          cost-based optimization - decide to use another index in order to avoid using
          a temporary table. But when this happens, the flag to the storage engine to 
          read index only (not table) was still set. Fixed by resetting the flag in the 
          storage engine and TABLE structure in the above scenario, unless the new index
          allows for the same optimization.
          Problem 2:
          When a 'ref' access method was employed by cost-based optimizer, (when the column
          is non-NULLable), it was assumed that it needed no initialization if 'quick' access
          methods (since they are based on range scan). When ORDER BY optimization overrides 
          the decision, however, it expects to have this initialized and hence crashes. 
          Fixed in 5.1 (was fixed in 6.0 already) by initializing 'quick' even when there's 
          'ref' access. 
    ------------------------------------------------------------
    revno: 2555.502.39
    committer: Ignacio Galarza <iggy@mysql.com>
    branch nick: mysql-5.1-bugteam_27535
    timestamp: Thu 2009-08-06 10:54:53 -0400
    message:
      Auto-merge
        ------------------------------------------------------------
        revno: 1810.3935.12
        committer: Ignacio Galarza <iggy@mysql.com>
        branch nick: mysql-5.0-bugteam_27535
        timestamp: Thu 2009-08-06 10:24:28 -0400
        message:
          Bug #27535 Installing Windows service with --defaults-file option - quotation marks issues
          - Remove offensive quotes.
        ------------------------------------------------------------
        revno: 1810.3935.11
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-08-04 10:47:18 -0300
        message:
          Merge from mysql-5.0.
    ------------------------------------------------------------
    revno: 2555.502.38
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-45816
    timestamp: Thu 2009-08-06 17:01:26 +0530
    message:
      Fix for BUG#45816 - assertion failure with index containing double 
                          column on partitioned table
            
            
      An assertion 'ASSERT_COULUMN_MARKED_FOR_READ' is failed if the query 
      is executed with index containing double column on partitioned table.
      The problem is that assertion expects all the fields which are read,
      to be in the read_set.
            
      In this query only the field 'a' is in the readset as the tables in
      the query are joined by the field 'a' and so the assertion fails 
      expecting other field 'b'.
            
      Since the function cmp() is just comparison of two parameters passed, 
      the assertion is not required.
            
      Fixed by removing the assertion in the double fields comparision
      function and also fixed the index initialization to do ordered
      index scan with RW LOCK which ensures all the fields from a key are in
      the read_set.
       
      
      Note: this bug is not reproducible with other datatypes because the
            assertion doesn't exist in comparision function for other 
            datatypes.
    ------------------------------------------------------------
    revno: 2555.502.37
    committer: <Dao-Gang.Qu@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-08-06 11:07:09 +0800
    message:
      Bug #45630  	rpl_trigger.test causes valgrind failures within nptl_pthread_exit_hack_handler
      
      The server shutdown and start code triggered the valgrind failures 
      within nptl_pthread_exit_hack_handler on Ubuntu 9.04, x86 (but not amd64) 
      in rpl_trigger.test file.
      
      For fixing the bug, suppress valgrind failures within nptl_pthread_exit_hack_handler 
      on Ubuntu 9.04, x86 (but not amd64). Because the server shutdown and start
      code has been heavily used in mysql test set.
    ------------------------------------------------------------
    revno: 2555.502.36
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-08-05 13:30:14 -0700
    message:
      Merge approved bug fix
        ------------------------------------------------------------
        revno: 2555.519.2
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1-fixes
        timestamp: Fri 2009-07-31 17:46:04 -0700
        message:
          Not all of the necessary tests for multi-byte support in readline
          were included in the configure tests. (Bug #46310)
    ------------------------------------------------------------
    revno: 2555.502.35
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-08-04 10:50:20 -0300
    message:
      Merge from mysql-5.1.
        ------------------------------------------------------------
        revno: 2555.471.12
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Thu 2009-07-30 17:24:09 +0200
        message:
          Merge the fix for bug#42213 up into 5.1-build:
             Check for "stack overrun" doesn't work, server crashes
            ------------------------------------------------------------
            revno: 1810.3927.6
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Thu 2009-07-30 17:03:54 +0200
            message:
              Merge the fix for bug#42213 into 5.0-build.
            ------------------------------------------------------------
            revno: 1810.3944.1
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: bug42213-5.0
            timestamp: Thu 2009-07-30 16:12:26 +0200
            message:
              Our autoconf function "MYSQL_STACK_DIRECTION" will not work
              correctly if the compiler optimizes too clever.
              
              This has happaned on HP-UX 11.23 (IA64) at optimization
              level "+O2", causing bug#42213:
                 Check for "stack overrun" doesn't work, server crashes
              
              Fix it by adding a pragma that prevents this optimization.
              As a result, it should be safe to use "+O2" on this platform
              (unless there is some other, optimizer-related, bug which
              is just currently masked because we use resudec optimization).
        ------------------------------------------------------------
        revno: 2555.471.11
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Tue 2009-07-28 21:39:07 +0200
        message:
          Upmerge of a merge changeset from 5.0-build to 5.1-build,
          no code change.
            ------------------------------------------------------------
            revno: 1810.3927.5
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Tue 2009-07-21 19:37:28 +0200
            message:
              Merge the bug fix for 37808 ("make_binary_distribution.sh")
              into 5.0-build.
        ------------------------------------------------------------
        revno: 2555.471.10
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Tue 2009-07-21 18:49:42 +0200
        message:
          Merge the fix for bug#37808 into 5.1-build.
            ------------------------------------------------------------
            revno: 2555.521.1
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: bug37808-5.1
            timestamp: Tue 2009-07-21 09:36:43 +0200
            message:
              Upmerge a bug fix from 5.0 to 5.1:
              
              bug#37808
              "make_binary_distribution" does not always generate correct names
              
              Successfully tested on 5.1 sources.
            ------------------------------------------------------------
            revno: 1810.3943.1
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: bug37808-5.0
            timestamp: Fri 2009-06-26 11:58:19 +0200
            message:
              This is a fix for bug#37808
                 "make_binary_distribution" does not always generate correct names
              
              Originally, we solved deficiencies of the predefined "autoconf" macros
              (at least on OS X 10.5, they do not correctly differ between "x86" and
              "x86_64") by providing explicit "--platform" arguments.
              
              With this patch, "make_binary_distribution" evaluates CFLAGS, so it
              "just works" because CFLAGS contains information about the target CPU.
              
              This patch is accompanied by a change in our build tools that drops the
              setting of "--platform" arguments.
        ------------------------------------------------------------
        revno: 2555.471.9
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Tue 2009-07-21 18:25:38 +0200
        message:
          Merge 5.0-build up into 5.1-build.
          This is just about a merge changeset, no code changes.
            ------------------------------------------------------------
            revno: 1810.3927.4
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Thu 2009-07-16 13:00:31 +0200
            message:
              Merge main 5.0 into 5.0-build
        ------------------------------------------------------------
        revno: 2555.471.8
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Thu 2009-07-16 09:13:19 +0200
        message:
          Merge main 5.1 into 5.1-build.
        ------------------------------------------------------------
        revno: 2555.471.7
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Mon 2009-07-13 12:03:45 +0200
        message:
          Merge some merge changesets from main 5.1 into 5.1-build.
          
          The base changes were backports from later 5.1 into 5.1.34sp1,
          so there are no code changes associated with this merge.
        ------------------------------------------------------------
        revno: 2555.471.6
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Mon 2009-07-13 11:38:33 +0200
        message:
          Merge a merge changeset from 5.0-build into 5.1-build,
          all code changes are already present.
            ------------------------------------------------------------
            revno: 1810.3927.3
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Thu 2009-07-09 23:10:50 +0200
            message:
              Merge main 5.0 into 5.0-build.
        ------------------------------------------------------------
        revno: 2555.471.5
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Mon 2009-07-13 10:25:12 +0200
        message:
          Merge main 5.1 into 5.1-build.
        ------------------------------------------------------------
        revno: 2555.471.4
        committer: Daniel Fischer <df@sun.com>
        branch nick: mysql-5.1-build
        timestamp: Fri 2009-07-03 14:12:35 +0200
        message:
          merge fix
            ------------------------------------------------------------
            revno: 1810.3927.2
            committer: Daniel Fischer <df@sun.com>
            branch nick: mysql-5.0-build
            timestamp: Fri 2009-07-03 13:48:08 +0200
            message:
              Bug#44647 - fix file permissions.
        ------------------------------------------------------------
        revno: 2555.471.3
        committer: Daniel Fischer <df@sun.com>
        branch nick: mysql-5.1-build
        timestamp: Thu 2009-07-02 15:18:12 +0200
        message:
          merge patch for bug#31785
    ------------------------------------------------------------
    revno: 2555.502.34
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 45017-5.1
    timestamp: Thu 2009-07-30 21:28:43 -0300
    message:
      Bug#45017: Failure to connect if hostname maps to multiple addresses
      
      The problem is that the C API function mysql_real_connect
      only attempts to connect to the first IP address returned
      for a hostname. This can be a problem if a hostname maps
      to multiple IP address and the server is not bound to the
      first one that is returned.
      
      The solution is to augment mysql_real_connect so that it
      attempts to connect to all IPv4 addresses that a domain
      name maps to. The function goes over the list of address
      until a successful connection is established.
      
      No test case is provided as its not possible to test this
      automatically with the current testing infrastructure.
    ------------------------------------------------------------
    revno: 2555.502.33
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Tue 2009-08-04 11:34:14 +0530
    message:
      merge from mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.520.2
        committer: Gleb Shchepa <gshchepa@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-08-04 00:22:28 +0500
        message:
          Additional post-commit fix (bug #30946): server version
          in a conditional commentary at the new SELECT ... INTO
          OUTFILE ... CHARACTER SET syntax has been updated to 5.1.38.
        ------------------------------------------------------------
        revno: 2555.520.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-new-push
        timestamp: Mon 2009-08-03 16:24:38 +0100
        message:
          auto-merge mysq-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.516.17
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-push
        timestamp: Mon 2009-08-03 16:01:06 +0100
        message:
          null-merge mysql-5.0-bugteam --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3935.10
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.0-bugteam-push
        timestamp: Mon 2009-08-03 14:37:50 +0100
        message:
          Post-fix for BUG#43264
          
          Install procedure does not copy *.inc files located under the mysql-test/t directory.
          Therefore, this patch moves the rpl_trigger.inc to the mysql-test/include directory.
    ------------------------------------------------------------
    revno: 2555.502.32
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Mon 2009-08-03 18:36:50 +0530
    message:
      Remove the 'single' space character after include/lock0iter.h in file
      storage/innobase/Makefile.am
    ------------------------------------------------------------
    revno: 2555.502.31
    committer: Mikael Ronstrom <mikael@mysql.com>
    branch nick: mysql-5.1-bugteam-bug46354
    timestamp: Mon 2009-08-03 12:14:48 +0200
    message:
      Auto-merge
        ------------------------------------------------------------
        revno: 2555.516.16
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-push
        timestamp: Mon 2009-08-03 10:47:45 +0100
        message:
          null-merge mysql-5.0-bugteam --> mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 1810.3935.9
            committer: Alfranio Correia <alfranio.correia@sun.com>
            branch nick: mysql-5.0-bugteam-push
            timestamp: Mon 2009-08-03 10:43:20 +0100
            message:
              auto-merge mysql-5.0-bugteam (local) --> mysql-5.0-bugteam
            ------------------------------------------------------------
            revno: 1810.3942.1
            committer: Alfranio Correia <alfranio.correia@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Sun 2009-08-02 23:58:43 +0100
            message:
              BUG#43264 Test rpl_trigger is failing randomly w/ use of copy_file in 5.0
              
              The test case fails sporadically on Windows while trying to overwrite an unused
              binary log. The problem stems from the fact that MySQL on Windows does not
              immediately unlock/release a file while the process that opened and closed it is
              still running. In BUG 38603, this issue was circumvented by stopping the MySQL
              process, copying the file and then restarting the MySQL process. 
              
              Unfortunately, such facilities are not available in the 5.0.  Other approaches
              such as stopping the slave and issuing change master do not work because the relay
              log file and index are not closed when a slave is stopped. So to fix the problem,
              we simply don't run on windows the part of the test that was failing.
        ------------------------------------------------------------
        revno: 2555.516.15
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Sat 2009-08-01 18:24:20 -0300
        message:
          Backport Tomas Ulin fix for a spurious failure on PushBuild:
          
          http://lists.mysql.com/commits/53569
        ------------------------------------------------------------
        revno: 2555.516.14
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-31 16:53:44 -0700
        message:
          Merge fix to test results
            ------------------------------------------------------------
            revno: 2555.519.1
            committer: Jim Winstead <jimw@mysql.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-07-31 16:43:46 -0700
            message:
              Fix incorrectly-committed changes to mysql.result
        ------------------------------------------------------------
        revno: 2555.516.13
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-31 20:39:26 -0300
        message:
          Test case clean up: Move test cases that depend on the CSV storage
          engine to the partition_csv test. Also remove test case that was
          duplicated. Fix connection procedure with the embedded server.
        ------------------------------------------------------------
        revno: 2555.516.12
        committer: Ignacio Galarza <iggy@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-31 16:33:09 -0400
        message:
          Auto-merge
            ------------------------------------------------------------
            revno: 2555.518.2
            committer: Tatiana A. Nurnberg <azundris@mysql.com>
            branch nick: 51-40281f
            timestamp: Fri 2009-07-31 21:58:40 +0200
            message:
              auto-merge
            ------------------------------------------------------------
            revno: 2555.518.1
            committer: Tatiana A. Nurnberg <azundris@mysql.com>
            branch nick: 51-40281f
            timestamp: Fri 2009-07-31 14:38:18 +0200
            message:
              Bug#40281, partitioning the general log table crashes the server
              
              We disallow the partitioning of a log table. You could however
              partition a table first, and then point logging to it. This is
              not only against the docs, it also crashes the server.
              
              We catch this case now.
        ------------------------------------------------------------
        revno: 2555.516.11
        committer: Ignacio Galarza <iggy@mysql.com>
        branch nick: mysql-5.1-bugteam_17270
        timestamp: Fri 2009-07-31 15:28:15 -0400
        message:
          Auto-merge
            ------------------------------------------------------------
            revno: 1810.3935.8
            committer: Ignacio Galarza <iggy@mysql.com>
            branch nick: mysql-5.0-bugteam_17270
            timestamp: Fri 2009-07-31 15:22:02 -0400
            message:
              Bug#17270 - mysql client tool could not find ../share/charsets folder and fails.
              - Define and pass compile time path variables as pre-processor definitions to 
                mimic the makefile build.
              - Set new CMake version and policy requirements explicitly.
              - Changed DATADIR to MYSQL_DATADIR to avoid conflicting definition in 
                Platform SDK header ObjIdl.h which also defines DATADIR.
        ------------------------------------------------------------
        revno: 2555.516.10
        committer: Gleb Shchepa <gshchepa@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-31 22:14:52 +0500
        message:
          Bug# 30946: mysqldump silently ignores --default-character-set
                      when used with --tab
          
          1) New syntax: added CHARACTER SET clause to the
            SELECT ... INTO OUTFILE (to complement the same clause in
            LOAD DATA INFILE).
            mysqldump is updated to use this in --tab mode.
          
          2) ESCAPED BY/ENCLOSED BY field parameters are documented as
             accepting CHAR argument, however SELECT .. INTO OUTFILE
             silently ignored rests of multisymbol arguments.
             For the symmetrical behavior with LOAD DATA INFILE the
             server has been modified to fail with the same error:
          
               ERROR 42000: Field separator argument is not what is
                            expected; check the manual
          
          3) Current LOAD DATA INFILE recognizes field/line separators
             "as is" without converting from client charset to data
             file charset. So, it is supposed, that input file of
             LOAD DATA INFILE consists of data in one charset and
             separators in other charset. For the compatibility with
             that [buggy] behaviour SELECT INTO OUTFILE implementation
             has been saved "as is" too, but the new warning message
             has been added:
          
               Non-ASCII separator arguments are not fully supported
          
             This message warns on field/line separators that contain
             non-ASCII symbols.
        ------------------------------------------------------------
        revno: 2555.516.9
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 46265-5.1
        timestamp: Fri 2009-07-31 10:00:35 -0300
        message:
          Bug#46265: Can not disable warning about unsafe statements for binary logging
          
          If using statement based replication (SBR), repeatedly calling
          statements which are unsafe for SBR will cause a warning message
          to be written to the error for each statement. This might lead
          to filling up the error log and there is no way to disable this
          behavior.
          
          The solution is to only log these message (about statements unsafe
          for statement based replication) if the log_warnings option is set.
          
          For example:
          
          SET GLOBAL LOG_WARNINGS = 0;
          INSERT INTO t1 VALUES(UUID());
          SET GLOBAL LOG_WARNINGS = 1;
          INSERT INTO t1 VALUES(UUID());
          
          In this case the message will be printed only once:
          
          [Warning] Statement may not be safe to log in statement format.
                    Statement: INSERT INTO t1 VALUES(UUID())
        ------------------------------------------------------------
        revno: 2555.516.8
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 43435-5.1
        timestamp: Thu 2009-07-30 17:52:42 -0300
        message:
          Bug#43435: LOCK_open does not use MY_MUTEX_INIT_FAST
          
          Initialize LOCK_open as a adapative mutex on platforms where the
          PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP macro is available. The flag
          indicates that a thread should spin (busy wait) for some time on a
          locked adaptive mutex before blocking (sleeping). It's intended to
          to alleviate performance problems due to LOCK_open being a highly
          contended mutex.
        ------------------------------------------------------------
        revno: 2555.516.7
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-45800-2
        timestamp: Fri 2009-07-31 09:24:43 +0530
        message:
          merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.517.4
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-45800-1
            timestamp: Thu 2009-07-30 16:04:41 +0530
            message:
              Bug#45800 crash when replacing into a merge table and there is a duplicate
                    
              A REPLACE in the MERGE engine is actually a REPLACE
              into one (FIRST or LAST) of the underlying MyISAM
              tables. So in effect the server works on the meta
              data of the MERGE table, while the real insert happens
              in the MyISAM table.
              
              The MERGE table has no index, while MyISAM has a
              unique index. When a REPLACE into a MERGE table (
              and the REPLACE conflicts with a duplicate in a
              child table) is done, we try to access the duplicate
              key information for the MERGE table. This information
              actually does not exist, hence this results in a crash.
              
              The problem can be resolved by modifying the MERGE
              engine to provide us the duplicate key information
              directly, instead of just returning the MyISAM index
              number as the error key. Then the SQL layer (or "the
              server") does not try to access the key_info of the
              MERGE table, which does not exist.
              
              The current patch modifies the MERGE engine to provide
              the position for a record where a unique key violation
              occurs.
        ------------------------------------------------------------
        revno: 2555.516.6
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-07-30 17:51:25 -0700
        message:
          Merge bug fix.
            ------------------------------------------------------------
            revno: 2555.421.23
            committer: Jim Winstead <jimw@mysql.com>
            branch nick: mysql-5.1
            timestamp: Tue 2009-07-14 17:03:51 -0700
            message:
              The handling of NUL bytes in column data in the various output formats
              supported by the mysql client was inconsistent. (Bug #28203)
        ------------------------------------------------------------
        revno: 2555.516.5
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-44493x
        timestamp: Thu 2009-07-30 21:47:38 +0200
        message:
          Merge 5.0 -> 5.1, no conflicts, no modification of files
            ------------------------------------------------------------
            revno: 1810.3935.7
            committer: Matthias Leich <Matthias.Leich@sun.com>
            branch nick: mysql-5.0-bugteam-44493x
            timestamp: Thu 2009-07-30 21:38:17 +0200
            message:
              Merge latest changes into local tree, no conflicts
        ------------------------------------------------------------
        revno: 2555.516.4
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-07-30 16:11:39 -0300
        message:
          Manual merge.
            ------------------------------------------------------------
            revno: 1810.3941.1
            committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
            branch nick: 46385-5.0
            timestamp: Mon 2009-07-27 20:31:48 -0300
            message:
              Bug#46385: [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted t
              
              The maximum value of the max_join_size variable is set by converting
              a signed type (long int) with negative value (-1) to a wider unsigned
              type (unsigned long long), which yields the largest possible value of
              the wider unsigned type -- as per the language conversion rules. But,
              depending on build options, the type of the max_join_size might be a
              shorter type (ha_rows - unsigned long) which causes the warning to be
              thrown once the large value is truncated to fit.
              
              The solution is to ensure that the maximum value of the variable is
              always set to the maximum value of integer type of max_join_size.
              
              Furthermore, it would be interesting to always have a fixed type for
              this variable, but this would incur in a change of behavior which is
              not acceptable for a GA version. See Bug#35346.
        ------------------------------------------------------------
        revno: 2555.516.3
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-44493x
        timestamp: Thu 2009-07-30 17:01:08 +0200
        message:
          Merge latest changes into GCA tree, no conflicts
            ------------------------------------------------------------
            revno: 2555.517.3
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Thu 2009-07-30 00:44:04 +0200
            message:
              Bug#44521 Prepared Statement: CALL p() - crashes: `! thd->main_da.is_sent' failed et.al.
              
              Fixed wrong prototype declaration which cased build failure on solaris.
            ------------------------------------------------------------
            revno: 2555.517.2
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Wed 2009-07-29 22:27:43 +0200
            message:
              auto-merge
            ------------------------------------------------------------
            revno: 2555.517.1
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Wed 2009-07-29 22:07:08 +0200
            message:
              Bug#44521 Executing a stored procedure as a prepared statement can sometimes cause
                        an assertion in a debug build.
              
              The reason is that the C API doesn't support multiple result sets for prepared
              statements and attempting to execute a stored routine which returns multiple result
              sets sometimes lead to a network error. The network error sets the diagnostic area
              prematurely which later leads to the assert when an attempt is made to set a second
              server state.
              
              This patch fixes the issue by changing the scope of the error code returned by
              sp_instr_stmt::execute() to include any error which happened during the execution.
              To assure that Diagnostic_area::is_sent really mean that the message was sent all
              network related functions are checked for return status.
        ------------------------------------------------------------
        revno: 2555.516.2
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-44493x
        timestamp: Thu 2009-07-30 16:31:45 +0200
        message:
          Merge 5.0 -> 5.1 of fix for bug 44493
        ------------------------------------------------------------
        revno: 1810.3935.6
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-44493x
        timestamp: Thu 2009-07-30 16:24:01 +0200
        message:
          Merge of fix for bug 44493 into GCA tree
        ------------------------------------------------------------
        revno: 1810.3940.1
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-44493
        timestamp: Wed 2009-05-06 17:11:08 +0200
        message:
          Fix for Bug#44493 Fix InnoDB owned 5.0 tests with imperfect cleanup
            Details:
            innodb-autoinc-optimize
               Add DROP TABLE which is missing (Backport of fix from 5.1)
            innodb_notembedded
               Take care that the disconnects of additional sessions
               are completed.
          
            Note:
               The merge 5.0 -> 5.1 for innodb-autoinc-optimize
               should be a "null" merge = no changes in 5.1.
    ------------------------------------------------------------
    revno: 2555.502.30
    committer: Mikael Ronstrom <mikael@mysql.com>
    branch nick: mysql-5.1-bugteam-bug46354
    timestamp: Mon 2009-08-03 12:12:36 +0200
    message:
      Fixed two test cases for extended partitioning tests
    ------------------------------------------------------------
    revno: 2555.502.29
    committer: Mikael Ronstrom <mikael@mysql.com>
    branch nick: mysql-5.1-bugteam-bug46354
    timestamp: Wed 2009-07-29 17:58:27 +0200
    message:
      Auto-merge latest changes from mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.516.1
        committer: Guilhem Bichot <guilhem@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-07-29 16:58:31 +0200
        message:
          removing unused array (compiler warning)
    ------------------------------------------------------------
    revno: 2555.502.28
    committer: Mikael Ronstrom <mikael@mysql.com>
    branch nick: mysql-5.1-bugteam-bug46354
    timestamp: Wed 2009-07-29 17:56:32 +0200
    message:
      Bug#46354, when defining partitions without subpartition definition after defining it with the first partition and using list partition caused crash, fixed by more error checks in parser
    ------------------------------------------------------------
    revno: 2555.502.27
    committer: Guilhem Bichot <guilhem@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-29 10:54:20 +0200
    message:
      Bug#45829 "CREATE TABLE TRANSACTIONAL PAGE_CHECKSUM ROW_FORMAT=PAGE accepted, does nothing":
      those keywords do nothing in 5.1 (they are meant for future versions, for example featuring the Maria engine)
      so they are here removed from the syntax. Adding those keywords to future versions when needed is:
      - WL#5034 "Add TRANSACTIONA=0|1 and PAGE_CHECKSUM=0|1 clauses to CREATE TABLE"
      - WL#5037 "New ROW_FORMAT value for CREATE TABLE: PAGE"
    ------------------------------------------------------------
    revno: 2555.502.26
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Tue 2009-07-28 23:39:58 +0100
    message:
      auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.515.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-07-28 18:44:38 +0100
        message:
          BUG#41166 stored function requires "deterministic" if binlog_format is "statement"
          
          If the log_bin_trust_function_creators option is not defined, creating a stored
          function requires either one of the modifiers DETERMINISTIC, NO SQL, or READS
          SQL DATA. Executing a stored function should also follows the same rules if in
          STATEMENT mode. However, this was not happening and a wrong error was being
          printed out: ER_BINLOG_ROW_RBR_TO_SBR.
          
          The patch makes the creation and execution compatible and prints out the correct
          error ER_BINLOG_UNSAFE_ROUTINE when a stored function without one of the modifiers
          above is executed in STATEMENT mode.
    ------------------------------------------------------------
    revno: 2555.502.25
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-07-28 16:59:38 -0300
    message:
      If running the mysql_upgrade test case with Valgrind, the resource
      consumption (CPU) for upgrading a large log table can be intense.
      Therefore, truncate the general_log table beforehand if running
      mysql_upgrade test with Valgrind.
    ------------------------------------------------------------
    revno: 2555.502.24
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-07-28 23:15:52 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3935.5
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-07-28 23:14:04 +0400
        message:
          Automerge.
    ------------------------------------------------------------
    revno: 2555.502.23
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-07-28 23:14:24 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.514.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my51-bug45031
        timestamp: Tue 2009-07-28 22:44:28 +0400
        message:
          Manual merge.
        ------------------------------------------------------------
        revno: 1810.3939.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my50-bug45031
        timestamp: Tue 2009-07-28 22:35:55 +0400
        message:
          Bug #45031: invalid memory reads in my_real_read using protocol 
                      compression 
           
          Since uint3korr() may read 4 bytes depending on build flags and 
          platform, allocate 1 extra "safety" byte in the network buffer 
          for cases when uint3korr() in my_real_read() is called to read
          last 3 bytes in the buffer. 
           
          It is practically hard to construct a reliable and reasonably 
          small test case for this bug as that would require constructing 
          input stream such that a certain sequence of bytes in a 
          compressed packet happens to be the last 3 bytes of the network 
          buffer. 
    ------------------------------------------------------------
    revno: 2555.502.22
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-07-27 16:03:48 -0300
    message:
      Post-merge fix for Bug#43587: Handle failures to execute a statement
      during bootstrap on a embedded server.
    ------------------------------------------------------------
    revno: 2555.502.21
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-07-27 15:24:43 -0300
    message:
      Merge from mysql-5.0-bugteam.
        ------------------------------------------------------------
        revno: 1810.3935.4
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0-bugteam
        timestamp: Mon 2009-07-27 12:31:28 -0300
        message:
          Bug#20023: mysql_change_user() resets the value of SQL_BIG_SELECTS
          
          Post-merge fix: test case could fail due to a conversion of the
          max_join_size value to a integer. Fixed by preserving the value
          as a string for comparison purposes.
    ------------------------------------------------------------
    revno: 2555.502.20
    committer: Anurag Shekhar <anurag.shekhar@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-07-27 16:50:43 +0530
    message:
      Bug #30102 rename table does corrupt tables with partition files on failure.
      
      One of the tests introduced for this bug was failing 
      because of path size restriction in windows.
      Moved the test case to a new test which is disabled under windows.
    ------------------------------------------------------------
    revno: 2555.502.19
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-18828
    timestamp: Mon 2009-07-27 11:54:29 +0530
    message:
      merge mysql-5.0-bugteam to mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3935.3
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.0-bugteam-18828
        timestamp: Mon 2009-07-27 11:49:28 +0530
        message:
          merging with mysql-5.0-bugteam
    ------------------------------------------------------------
    revno: 2555.502.18
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-18828
    timestamp: Mon 2009-07-27 11:50:13 +0530
    message:
      merging with mysql-5.1-bugteam branch
        ------------------------------------------------------------
        revno: 2555.509.8
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: mysql-5.1-bugteam-to-push
        timestamp: Sun 2009-07-26 22:48:24 +0100
        message:
          BUG#43046: mixed mode switch to row format with temp table lead
                     to wrong result
                
          When using MIXED mode and issuing 'CREATE TEMPORARY TABLE t_tmp',
          the statement is logged if the current binlogging mode is
          STATEMENT. This causes the slave to replay the instruction and
          create the temporary table as well. If there is no switch to ROW
          mode, and later on a 'DROP TEMPORARY TABLE t_tmp' is issued, then
          this statement will also be logged and the slave will
          remove/close the temporary table.
                
          However, if there is a switch to ROW mode between the CREATE and
          DROP TEMPORARY table, the DROP statement will not be logged,
          leaving the slave with a dangling temporary table.
                
          This patch addresses this, by always logging a DROP TEMPORARY
          TABLE IF EXISTS when in mixed mode and a drop statement is issued
          for temporary table(s).
        ------------------------------------------------------------
        revno: 2555.509.7
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 43587-5.1
        timestamp: Fri 2009-07-24 15:45:42 -0300
        message:
          Bug#43587: Putting event_scheduler=1 in init SQL file crashes
          mysqld
          
          The problem was that enabling the event scheduler inside a init
          file caused the server to crash upon start-up. The crash occurred
          because the event scheduler wasn't being initialized before the
          commands in the init-file are processed.
          
          The solution is to initialize the event scheduler before the init
          file is read. The patch also disables the event scheduler during
          bootstrap and makes the bootstrap operation robust in the
          presence of background threads.
            ------------------------------------------------------------
            revno: 2555.513.1
            committer: Konstantin Osipov <kostja@sun.com>
            branch nick: 5.1-bugteam
            timestamp: Fri 2009-07-24 20:20:46 +0400
            message:
              Code review for Bug#43587 Putting event_scheduler=1 in init SQL file crashes 
              mysqld
        ------------------------------------------------------------
        revno: 2555.509.6
        committer: Gleb Shchepa <gshchepa@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-24 21:04:55 +0500
        message:
          Merge from 5.0
          ******
          manual merge 5.0-bugteam --> 5.1-bugteam (bug 38816)
            ------------------------------------------------------------
            revno: 1810.3933.12
            committer: Gleb Shchepa <gshchepa@mysql.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-07-24 20:58:58 +0500
            message:
              Bug #38816: kill + flush tables with read lock + stored
                          procedures causes crashes!
              
              The problem of that bugreport was mostly fixed by the
              patch for bug 38691.
              However, attached test case focused on another crash or
              valgrind warning problem: SHOW PROCESSLIST query accesses
              freed memory of SP instruction that run in a parallel
              connection.
              
              Changes of thd->query/thd->query_length in dangerous
              places have been guarded with the per-thread
              LOCK_thd_data mutex (the THD::LOCK_delete mutex has been
              renamed to THD::LOCK_thd_data).
        ------------------------------------------------------------
        revno: 2555.509.5
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-24 16:15:56 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 1810.3933.11
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-07-24 16:13:31 +0400
            message:
              Automerge.
            ------------------------------------------------------------
            revno: 1810.3933.10
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.0-bugteam-43572-4
            timestamp: Fri 2009-07-24 12:28:17 +0530
            message:
              merging with mysql-5.0-bugteam
        ------------------------------------------------------------
        revno: 2555.509.4
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-24 16:14:14 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 2555.512.1
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: my51-bug46075
            timestamp: Fri 2009-07-24 16:09:35 +0400
            message:
              Manual merge.
            ------------------------------------------------------------
            revno: 1810.3938.1
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: my50-bug46075
            timestamp: Fri 2009-07-24 15:50:45 +0400
            message:
              Bug #46075: Assertion failed: 0, file .\protocol.cc, line 416 
              
              In create_myisam_from_heap() mark all errors as fatal except 
              HA_ERR_RECORD_FILE_FULL for a HEAP table.
              
              Not doing so could lead to problems, e.g. in a case when a
              temporary MyISAM table gets overrun due to its MAX_ROWS limit
              while executing INSERT/REPLACE IGNORE ... SELECT. 
              The SELECT execution was aborted, but the error was 
              converted to a warning due to IGNORE clause, so neither 'ok' 
              nor 'error' packet could be sent back to the client. This 
              condition led to hanging client when using 5.0 server, or 
              assertion failure in 5.1.
        ------------------------------------------------------------
        revno: 2555.509.3
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-24 16:02:17 +0530
        message:
          merging with local branch.
            ------------------------------------------------------------
            revno: 2555.511.1
            committer: Anurag Shekhar <anurag.shekhar@sun.com>
            branch nick: mysql-5.1-bugteam-30102
            timestamp: Fri 2009-07-24 15:41:23 +0530
            message:
              Bug#30102: Rename table does corrupt tables with partition files on failure
              
              Problem was that a failing rename just left the partitions at the state
              it was at the failure.
              
              Solution was to try to revert the started rename if a failure occured.
        ------------------------------------------------------------
        revno: 2555.509.2
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-43572-6
        timestamp: Fri 2009-07-24 12:56:27 +0530
        message:
          merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.510.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-43572-5
            timestamp: Fri 2009-07-17 14:25:09 +0530
            message:
              merging with mysql-5.0-bugteam
            ------------------------------------------------------------
            revno: 1810.3937.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.0-bugteam-43572-3
            timestamp: Fri 2009-07-17 13:10:22 +0530
            message:
              merging with mysql-5.0-bugteam
            ------------------------------------------------------------
            revno: 1810.3936.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.0-bugteam-43572-2
            timestamp: Sun 2009-07-12 11:18:53 +0530
            message:
              Bug#43572 Handle failures from hash_init
              
              This patch is a follow up to http://lists.mysql.com/commits/76678.
              When an allocation failure occurs for the buffer in the dynamic
              array, an error condition was being set. The dynamic array is
              usable even if the memory allocation fails. Since in most cases
              the thread can continue to work without any problems the error
              condition should not be set here.
              
              This patch adds logic to remove the error condition from being set
              when the memory allocation for the buffer in dynamic array fails.
        ------------------------------------------------------------
        revno: 2555.509.1
        committer: Alexander Barkov <bar@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-24 11:27:23 +0500
        message:
          Backporting "WL#3332 Korean Enhancements" and
          "WL#4584 New euckr characters" from 5.4.
          (as agreed on ServerPT meeting on July 8).
    ------------------------------------------------------------
    revno: 2555.502.17
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-18828
    timestamp: Fri 2009-07-24 12:15:06 +0530
    message:
      merge 5.0-bugteam to 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3935.2
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.0-bugteam-18828
        timestamp: Fri 2009-07-24 11:15:31 +0530
        message:
          merge to mysql-5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3935.1
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.0-bugteam-18828
        timestamp: Fri 2009-07-17 14:13:53 +0530
        message:
          Fix for BUG#18828 - If InnoDB runs out of undo slots, 
                              it returns misleading 'table is full'
          
          Innodb returns a misleading error message "table is full" 
          when the number of active concurrent transactions is greater
          than 1024.
          
          Fixed by adding errorcode "ER_TOO_MANY_CONCURRENT_TRXS" to the
          error codes. Innodb should return HA_TOO_MANY_CONCURRENT_TRXS
          to mysql which is then mapped to ER_TOO_MANY_CONCURRENT_TRXS
          
          
          Note: testcase is not written as this was reproducible only by
                changing innodb code.
    ------------------------------------------------------------
    revno: 2555.502.16
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 45770-51
    timestamp: Thu 2009-07-23 13:53:28 +0200
    message:
      Merge from 5.0
        ------------------------------------------------------------
        revno: 1810.3933.9
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 45770-50
        timestamp: Thu 2009-07-23 13:38:11 +0200
        message:
          Bug #45770 errors reading server SSL files are printed, but
          not logged
                  
          Errors encountered during initialization of the SSL subsystem
          are printed to stderr, rather than to the error log.
                  
          This patch adds a parameter to several SSL init functions to
          report the error (if any) out to the caller. The function
          init_ssl() in mysqld.cc is moved after the initialization of
          the log subsystem, so that any error messages can be logged to
          the error log. Printing of messages to stderr has been 
          retained to get diagnostic output in a client context.
    ------------------------------------------------------------
    revno: 2555.502.15
    committer: Konstantin Osipov <kostja@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Wed 2009-07-22 13:44:19 +0400
    message:
      Add a comment for thd->proc_info.
    ------------------------------------------------------------
    revno: 2555.502.14
    committer: Evgeny Potemkin <epotemkin@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Sun 2009-07-19 16:58:02 +0400
    message:
      auto-merge mysql-5.1-bugteam (local) -> mysql-5.1-bugteam.
        ------------------------------------------------------------
        revno: 2555.508.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-push
        timestamp: Sun 2009-07-19 09:19:15 +0100
        message:
          auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam 
        ------------------------------------------------------------
        revno: 2555.506.5
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Sat 2009-07-18 21:07:56 +0100
        message:
          BUG#46129 Failing mixed stm (with trans and non-trans tables) causes wrong seq in
          binlog
                
          The fix for BUG 43929 introduced a regression issue. In a nutshell, when a
          statement that changes a non-transactional table fails, it is written to the
          binary log with the error code appended. Unfortunately, after BUG 43929, this
          failure was flushing the transactional chace causing mismatch between execution
          and logging histories. To fix this issue, we avoid flushing the transactional
          cache when a commit or rollback is not issued.
    ------------------------------------------------------------
    revno: 2555.502.13
    committer: Evgeny Potemkin <epotemkin@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Sun 2009-07-19 16:49:40 +0400
    message:
      Merged fix for the bug#46051.
        ------------------------------------------------------------
        revno: 1810.3933.8
        committer: Evgeny Potemkin <epotemkin@mysql.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Sat 2009-07-18 18:11:33 +0400
        message:
          Merged corrected fix for the bug#46051.
            ------------------------------------------------------------
            revno: 1810.3934.2
            committer: Evgeny Potemkin <epotemkin@mysql.com>
            branch nick: 45061-bug-5.0-bugteam
            timestamp: Sat 2009-07-18 18:09:56 +0400
            message:
              Bug#46051: Incorrectly market field caused wrong result.
              When during the optimization an item is moved to the upper select
              the item's context left unchanged. This caused wrong result in the 
              PS/SP mode.
              The Item_ident::remove_dependence_processor now sets the context
              of the select to which the item is moved to.
        ------------------------------------------------------------
        revno: 1810.3933.7
        committer: Evgeny Potemkin <epotemkin@mysql.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-07-17 18:45:32 +0400
        message:
          Merged fix for the bug#46051.
        ------------------------------------------------------------
        revno: 1810.3934.1
        committer: Evgeny Potemkin <epotemkin@mysql.com>
        branch nick: 45061-bug-5.0-bugteam
        timestamp: Thu 2009-07-16 19:43:46 +0400
        message:
          Bug#46051: Incorrectly market field caused wrong result.
          
          In a subselect all fields from outer selects are marked as dependent on
          selects they are belong to. In some cases optimizer substitutes it for an
          equivalent expression. For example "a_field IN (SELECT outer_field)" is
          substituted with "a_field = outer_field". As we moved the outer_field to the
          upper select it's not really outer anymore. But it was left marked as outer.
          If exists an index over a_field optimizer choose wrong execution plan and thus
          return wrong result.
          
          Now the Item_in_subselect::single_value_transformer function removes dependent
          marking from fields when a subselect is optimized away.
    ------------------------------------------------------------
    revno: 2555.502.12
    committer: <Dao-Gang.Qu@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Fri 2009-07-17 13:07:43 +0800
    message:
      Bug #45214  get_master_version_and_clock does not report error when queries fail
      
      Append the patch for resolving the problems, which have been brought by commiting bug#45214.
    ------------------------------------------------------------
    revno: 2555.502.11
    committer: <Dao-Gang.Qu@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Fri 2009-07-17 10:59:17 +0800
    message:
      Auto merge
        ------------------------------------------------------------
        revno: 2555.506.4
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: fixvg-5.1-bugteam
        timestamp: Thu 2009-07-16 16:17:47 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3933.6
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: fixvg-5.0-bugteam
            timestamp: Thu 2009-07-16 16:13:26 +0300
            message:
              Bug #46042: backported the fix for the valgrind warning from 5.1
            ------------------------------------------------------------
            revno: 1810.3933.5
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: fixvg-5.0-bugteam
            timestamp: Thu 2009-07-16 15:19:22 +0300
            message:
              Bug #46003 and bug #46034: backported the fixes from azalea.
            ------------------------------------------------------------
            revno: 1810.3933.4
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: fixvg-5.0-bugteam
            timestamp: Wed 2009-07-08 16:50:17 +0300
            message:
              fixed check-cpu to correctly recognize mac CPUs
        ------------------------------------------------------------
        revno: 2555.506.3
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-07-16 15:43:17 +0300
        message:
          null merge the second round of fixes of bug #45287 to 5.1-bugteam.
            ------------------------------------------------------------
            revno: 1810.3933.3
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45287-5.0-bugteam
            timestamp: Thu 2009-07-16 15:37:38 +0300
            message:
              Bug #45287: phase 2 : 5.0 64 bit compilation warnings
                     
              Fixed various compilation warnings when compiling on a 
               64 bit windows.
        ------------------------------------------------------------
        revno: 2555.506.2
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-07-16 10:03:51 +0200
        message:
          Automerge
            ------------------------------------------------------------
            revno: 2555.507.2
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45287-5.1-bugteam
            timestamp: Thu 2009-07-16 10:33:13 +0300
            message:
              automerge
            ------------------------------------------------------------
            revno: 2555.507.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45287-5.1-bugteam
            timestamp: Thu 2009-07-16 10:31:00 +0300
            message:
              automerge
            ------------------------------------------------------------
            revno: 1810.3933.2
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45287-5.0-bugteam
            timestamp: Wed 2009-07-15 17:00:26 +0300
            message:
              automerge
            ------------------------------------------------------------
            revno: 1810.3933.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45287-5.0-bugteam
            timestamp: Wed 2009-07-15 16:46:25 +0300
            message:
              Bug #45287: phase 1 : 32 bit compilation warnings
              
              Fixed the following problems:
              1. cmake 2.6 warning because of a changed default on
              how the dependencies to libraries with a specified 
              path are resolved.
              Fixed by requiring cmake 2.6.
              2. Removed an obsolete pre-NT4 hack including defining
              Windows system defines to alter the behavior of windows.h.
              3. Disabled warning C4065 on compiling sql_yacc.cc because
              of a know incompatibility in some of the newer bison binaries.
        ------------------------------------------------------------
        revno: 2555.506.1
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: 51-bug45781-2
        timestamp: Thu 2009-07-16 01:23:57 +0200
        message:
          Bug#45781 infinite hang/crash in "opening tables" after handler tries to open merge
                    table
          
          The MERGE table storage engine does not support the HA_CAN_SQL_HANDLE feature
          and any attempt to open the merge table will fail with ER_ILLEGAL_HA.
          
          After an error occurred the tables that was opened must be closed again
          or they will be left in an inconsistent state. However, the assumption
          made in the code for closing and register handler tables was that only
          one table will be opened, and this is not true for MERGE tables which
          will cause multiple tables to open.
          
          The next time a SELECT operation was issued on the merge table it
          caused the system to freeze.
          
          This patch fixes this issue by making sure that all tables which
          are opened also are closed in the event of an error.
    ------------------------------------------------------------
    revno: 2555.502.10
    committer: <Dao-Gang.Qu@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Thu 2009-07-16 14:56:43 +0800
    message:
      Bug #45214  get_master_version_and_clock does not report error when queries fail
              
      The "get_master_version_and_clock(...)" function in sql/slave.cc ignores 
      error and passes directly when queries fail, or queries succeed 
      but the result retrieved is empty.
        
      The "get_master_version_and_clock(...)" function should try to reconnect master
      if queries fail because of transient network problems, and fail otherwise.
      The I/O thread should print a warning if the some system variables do not 
      exist on master (very old master)
    ------------------------------------------------------------
    revno: 2555.502.9
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 44495-5.1
    timestamp: Wed 2009-07-15 15:22:50 -0300
    message:
      Bug#44495: Prepared Statement: CALL p(<x>) - `thd->protocol == &thd->protocol_text' failed
      
      Merge Konstantin's patch and add a test case.
        ------------------------------------------------------------
        revno: 2555.505.1
        committer: Konstantin Osipov <kostja@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-07-15 21:00:34 +0400
        message:
          A fix for Bug#44495 "Prepared Statement: CALL p(<x>) - `thd->protocol == &thd->protocol_text' 
          failed"
          
          Do not assume that SQL prepared statements always run in text protocol.
          When invoked from a stored procedure, which is itself invoked
          by means of prepared CALL statement, the protocol may be binary.
          Juggle with the protocol only when we want to change it
          to binary in COM_STMT_EXECUTE, COM_STMT_PREPARE.
          
          This is a backport from 5.4/6.0, where the bug was fixed
          as part of WL#4264 "Backup: Stabilize Service Interface" 
    ------------------------------------------------------------
    revno: 2555.502.8
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-15 15:25:44 +0500
    message:
      Addition to #45998 fix, result adjusted.
    ------------------------------------------------------------
    revno: 2555.502.7
    committer: Anurag Shekhar <anurag.shekhar@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-15 15:43:45 +0530
    message:
      merging with 5.0 bugteam tree
        ------------------------------------------------------------
        revno: 1810.3932.3
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.0-bugteam-37740
        timestamp: Wed 2009-07-15 15:00:58 +0530
        message:
          Bug#37740 Server crashes on execute statement with full text search and 
                    match against.
          
          
          Server crashes when executing prepared statement with duplicating
          MATCH() function calls in SELECT and ORDER BY expressions, e.g.:
          SELECT MATCH(a) AGAINST('test') FROM t1 ORDER BY MATCH(a) AGAINST('test')
          
          This query gets optimized by the server, so the value returned
          by MATCH() from the SELECT list is reused for ORDER BY purposes.
          To make this optimization server is comparing items from
          SELECT and ORDER BY lists. We were getting server crash because
          comparision function for MATCH() item is not intended to be called
          at this point of execution.
          
          In 5.0 and 5.1 this problem is workarounded by resetting MATCH()
          item to the state as it was during PREPARE.
          
          In 6.0 correct comparision function will be implemented and
          duplicating MATCH() items from the ORDER BY list will be
          optimized.
    ------------------------------------------------------------
    revno: 2555.502.6
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-15 08:49:58 +0500
    message:
      Auto-merge
        ------------------------------------------------------------
        revno: 2555.503.2
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: b45998-5.1-bugteam
        timestamp: Tue 2009-07-14 20:07:29 +0500
        message:
          Fix for bug#45998: database crashes when running
          "create as select" (innodb table)
          
          Problem: code constructing "CREATE TABLE..." statement
          doesn't take into account that current database is not set
          in some cases. That may lead to a server crash.
          
          Fix: check if current database is set.
    ------------------------------------------------------------
    revno: 2555.502.5
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-07-14 10:08:38 -0700
    message:
      Merge in bug fixes for client tools
        ------------------------------------------------------------
        revno: 2555.421.22
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Wed 2009-05-20 18:31:10 -0700
        message:
          mysqlcheck failed to fix table names when using the --fix-table-names
          and --all-in-1 options together. (Bug #31821)
        ------------------------------------------------------------
        revno: 2555.421.21
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Wed 2009-05-20 17:25:10 -0700
        message:
          mysqladmin --count=X --sleep=Y would always delay Y seconds after the last
          iteration before exiting. (Bug #42639)
        ------------------------------------------------------------
        revno: 2555.421.20
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Wed 2009-05-20 17:04:44 -0700
        message:
          The mysql command-line client would include superfluous spaces at the end of
          some result set lines. (Bug #29622)
        ------------------------------------------------------------
        revno: 2555.421.19
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Wed 2009-05-20 12:58:01 -0700
        message:
          Fix warning in use of strlen().
        ------------------------------------------------------------
        revno: 2555.421.18
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-19 15:26:57 -0700
        message:
          Table identifiers and file names were not quoted and escaped correctly by
          mysqlimport. (Bug #28071)
        ------------------------------------------------------------
        revno: 2555.421.17
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-19 10:39:03 -0700
        message:
          mysql_upgrade ignored the --basedir and --datadir arguments as it has no use
          for them, but it did so silently. (Bug #36558)
        ------------------------------------------------------------
        revno: 2555.421.16
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-19 10:17:05 -0700
        message:
          The mysql command-line client didn't implement the readline magic-space
          command, which bash does, which could result in a user accidentally disabling
          the use of the space key in the mysql command-line client. (Bug #27439)
        ------------------------------------------------------------
        revno: 2555.421.15
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Mon 2009-05-18 18:23:43 -0700
        message:
          mysqlslap didn't correctly handle --csv with no argument. (Bug #44412)
        ------------------------------------------------------------
        revno: 2555.421.14
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Mon 2009-05-18 14:19:18 -0700
        message:
          mysqladmin did not have enough space allocated for tracking all variables
          when using --vertical or --relative with extended-status. (Bug #40395)
          
            This patch simply increases the buffer size and adds an assert to
            check that it is big enough -- a more comprehensive fix would dynamically
            allocate the appropriate buffers.
        ------------------------------------------------------------
        revno: 2555.421.13
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Mon 2009-05-18 12:52:51 -0700
        message:
          The output of mysqldump --tab for views included a DROP TABLE statement
          without the IF EXISTS qualifier even though no temporary table is created
          as for all-in-one dumps including views. (Bug #37377)
    ------------------------------------------------------------
    revno: 2555.502.4
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B40113-5.1-bugteam
    timestamp: Tue 2009-07-14 12:02:37 +0300
    message:
      merge 5.1-main -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.504.1
        author: timothy.smith@sun.com
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1
        timestamp: Mon 2009-07-13 22:43:31 +0200
        message:
          Raise version number after cloning 5.1.37
    ------------------------------------------------------------
    revno: 2555.502.3
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B40113-5.1-bugteam
    timestamp: Tue 2009-07-14 12:00:35 +0300
    message:
      merge 5.0-bugteam -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3932.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B40113-5.0-bugteam
        timestamp: Tue 2009-07-14 11:47:22 +0300
        message:
          automerge
    ------------------------------------------------------------
    revno: 2555.502.2
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B40113-5.1-bugteam
    timestamp: Tue 2009-07-14 11:59:17 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.503.1
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-07-13 12:11:16 -0700
        message:
          Merge bug fixes
        ------------------------------------------------------------
        revno: 2555.421.12
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Fri 2009-05-15 13:25:22 -0700
        message:
          Add usage for --base64-output=DECODE-ROWS and note that UNSPEC is
          intentionally unmentioned (it is just a placeholder). (Bug #41403)
        ------------------------------------------------------------
        revno: 2555.421.11
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Fri 2009-05-15 13:12:20 -0700
        message:
          Remove out-of-date and unnecessary comment in source code about what versions
          are supported. (Bug #42021)
        ------------------------------------------------------------
        revno: 2555.421.10
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Fri 2009-05-15 12:24:45 -0700
        message:
          Fix test case, table name needs to be upper-case.
        ------------------------------------------------------------
        revno: 2555.421.9
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-12 10:45:40 -0700
        message:
          mysqlimport was not always compiled correctly to allow thread support,
          required for the --use-threads option. (Bug #32991)
        ------------------------------------------------------------
        revno: 2555.421.8
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-12 10:38:14 -0700
        message:
          mysqldump would not dump the INFORMATION_SCHEMA even when it was explicitly
          requested. (Bug #33762)
    ------------------------------------------------------------
    revno: 2555.502.1
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B40113-5.1-bugteam
    timestamp: Mon 2009-07-13 20:36:54 +0300
    message:
      Merge of the fix for bug #40113 to 5.1.
    ------------------------------------------------------------
    revno: 1810.3932.1
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B40113-5.0-bugteam
    timestamp: Mon 2009-07-13 18:11:16 +0300
    message:
      Bug #40113: Embedded SELECT inside UPDATE or DELETE can timeout 
      without error
      
      When using quick access methods for searching rows in UPDATE or 
      DELETE there was no check if a fatal error was not already sent 
      to the client while evaluating the quick condition.
      As a result a false OK (following the error) was sent to the 
      client and the error was thus transformed into a warning.
      
      Fixed by checking for errors sent to the client during 
      SQL_SELECT::check_quick() and treating them as real errors.
      
      Fixed a wrong test case in group_min_max.test
      Fixed a wrong return code in mysql_update() and mysql_delete()
------------------------------------------------------------
revno: 3059
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Wed 2009-09-30 11:31:34 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.53
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Wed 2009-09-30 11:22:15 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.65.14
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Wed 2009-09-30 11:17:20 +0100
    message:
      Attempt to fix Windows testcase output issue
------------------------------------------------------------
revno: 3058
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-09-30 11:37:41 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.52
    committer: mysqldev <mysqldev@production.mysql.com>
    branch nick: mysql-5.1.37-ndb-6.3.27
    timestamp: Wed 2009-09-30 11:32:52 +0200
    message:
      ndb - dummy commit to force tag
------------------------------------------------------------
revno: 3057
committer: mysqldev <mysqldev@production.mysql.com>
branch nick: mysql-5.1.37-ndb-7.0.8
timestamp: Wed 2009-09-30 11:29:52 +0200
message:
  ndb - dummy commit to force tag
------------------------------------------------------------
revno: 3056
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Wed 2009-09-30 09:59:42 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.51
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-09-30 09:07:41 +0200
    message:
      ndb - fix "bug" where transaction is closed, and error code is retreived afterwards
    ------------------------------------------------------------
    revno: 2585.100.50
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-09-30 09:03:58 +0200
    message:
      ndb - fix "bugs" where objects are accessed after they've been released
    ------------------------------------------------------------
    revno: 2585.100.49
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Wed 2009-09-30 08:58:07 +0200
    message:
      ndb - improve valgrind "precision" by not pooling any object, instead doing new/delete
------------------------------------------------------------
revno: 3055
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Tue 2009-09-29 16:43:20 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.48
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Tue 2009-09-29 16:26:43 +0100
    message:
      bug#47323 merge fix, as ndb_log_update* vars become visible in 6.3+, and DELETE logs all columns in 6.3+ when log_update_only=OFF
------------------------------------------------------------
revno: 3054
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-7.0
timestamp: Tue 2009-09-29 15:32:39 +0100
message:
  Merge 6.3->7.0
    ------------------------------------------------------------
    revno: 2585.100.47
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.3
    timestamp: Tue 2009-09-29 15:30:46 +0100
    message:
      Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.65.13
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-29 15:25:03 +0100
    message:
      Bug#47323 : mysqlbinlog --verbose displays bad output when events contain subset of columns
------------------------------------------------------------
revno: 3053
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 16:02:31 +0200
message:
  ndb - merge bug#47715
    ------------------------------------------------------------
    revno: 2585.100.46
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-29 15:59:23 +0200
    message:
      ndb - bug#47715 - ensure LQH_TRANSREQ is serialized correcttly wrt to NODE_FAILREP
------------------------------------------------------------
revno: 3052
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 15:46:21 +0200
message:
  ndb - Fix so LqhProxy also crashes on 5008
    (since EMPTY_LCPREQ) is not actually sent to Dblqh,
    when running multi-threaded
------------------------------------------------------------
revno: 3051
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 15:25:18 +0200
message:
  merge 70-main
    ------------------------------------------------------------
    revno: 3047.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 7.0
    timestamp: Mon 2009-09-28 15:32:09 +0200
    message:
      Merge bug#42805
------------------------------------------------------------
revno: 3050
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 15:20:56 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.45
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-29 15:16:06 +0200
    message:
      ndb - dump version to 6.3.28
------------------------------------------------------------
revno: 3049
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 15:19:31 +0200
message:
  ndb - dump version to 7.0.9
------------------------------------------------------------
revno: 3048
tags: mysql-5.1.37-ndb-7.0.8, clone-mysql-5.1.37-ndb-7.0.8-src-build
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.4
timestamp: Tue 2009-09-29 15:13:18 +0200
message:
  merge 63 to 70
    ------------------------------------------------------------
    revno: 2585.100.44
    tags: mysql-5.1.37-ndb-6.3.27, clone-mysql-5.1.37-ndb-6.3.27-src-build
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-29 14:35:35 +0200
    message:
      ndb - fix some incorrect assertions, in debug-mode only
    ------------------------------------------------------------
    revno: 2585.100.43
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-29 14:32:13 +0200
    message:
      ndb - improve back-off on temporary errors in scan...hopefully fixes testScan -n ScanRead488_Mixed
    ------------------------------------------------------------
    revno: 2585.100.42
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Mon 2009-09-28 15:26:30 +0200
    message:
      Merge bug#42850 to 6.3
    ------------------------------------------------------------
    revno: 2572.65.12
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Mon 2009-09-28 14:48:14 +0200
    message:
      Merge bug#42850 to 6.2
