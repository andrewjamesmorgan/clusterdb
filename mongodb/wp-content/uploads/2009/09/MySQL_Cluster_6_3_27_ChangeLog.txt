------------------------------------------------------------
revno: 3071
tags: clone-mysql-5.1.37-ndb-6.3.27-src-build
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-09-29 14:35:35 +0200
message:
  ndb - fix some incorrect assertions, in debug-mode only
------------------------------------------------------------
revno: 3070
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-09-29 14:32:13 +0200
message:
  ndb - improve back-off on temporary errors in scan...hopefully fixes testScan -n ScanRead488_Mixed
------------------------------------------------------------
revno: 3069
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Mon 2009-09-28 15:26:30 +0200
message:
  Merge bug#42850 to 6.3
    ------------------------------------------------------------
    revno: 2572.65.12
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Mon 2009-09-28 14:48:14 +0200
    message:
      Merge bug#42850 to 6.2
------------------------------------------------------------
revno: 3068
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-25 15:11:39 +0200
message:
  ndb - 5 more warnings...that I missed
------------------------------------------------------------
revno: 3067
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-25 14:49:37 +0200
message:
  ndb - fix warnings...now showing in the club
------------------------------------------------------------
revno: 3066
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-25 13:17:18 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.65.11
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Fri 2009-09-25 13:07:16 +0200
    message:
      ndb - silence a few forte warnings
------------------------------------------------------------
revno: 3065
committer: Bernhard Ocklin <bernhard.ocklin@sun.com>
branch nick: mysql-5.1-telco-6.3-bug47223
timestamp: Thu 2009-09-24 20:56:22 +0200
message:
  bug#47223 fixing makefiles to allow proper --with-zlib-dir=<dir> usage
------------------------------------------------------------
revno: 3064
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Thu 2009-09-24 19:39:50 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.65.10
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Thu 2009-09-24 19:37:39 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2555.413.151
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: bug47612
    timestamp: Thu 2009-09-24 16:09:11 +0200
    message:
      Bug#47612 mtr - improving the report for valgrind erorrs
       - Improve the report produced when a valgrind error is detected
------------------------------------------------------------
revno: 3063
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Thu 2009-09-24 19:21:42 +0200
message:
  ndb - decrease runtime of some autotest testcases, on >2 node clusters
------------------------------------------------------------
revno: 3062
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Thu 2009-09-24 15:54:21 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.65.9
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-09-24 15:32:40 +0100
    message:
      Bug#45754 MySQL Cluster : Internal blob read buffer size calculation incorrect on scans.  Ensure that required blob buffer size is reset for each row in scan
    ------------------------------------------------------------
    revno: 2572.65.8
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-09-24 15:22:10 +0100
    message:
      Bug#47573 MySQL Cluster : Internal blob read buffer not always freed correctly.  Fix buffer release code and rename some vars to aid understanding
    ------------------------------------------------------------
    revno: 2572.65.7
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-09-24 15:10:29 +0100
    message:
      Bug#47572 Multi-exec txns accessing Blobs have high memory usage.  Allow periodic resource release for Blob transactions
------------------------------------------------------------
revno: 3061
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Thu 2009-09-24 09:23:45 +0200
message:
  ndb - bug#47572 - commit/push for club
------------------------------------------------------------
revno: 3060
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-09-22 16:26:26 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.65.6
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-09-22 15:04:32 +0200
    message:
      ndb - bug#44065
        Don't set OP_INSERT_IS_DONE when starting a new INSERT following a DELETE
          in startNext, cause if DELETE succeeded, then there must have been an 
          row to begin with and hence no insert will be done.
        
          This is different from in startNew in which a new transaction is started.
          (which should perform a new insert)
------------------------------------------------------------
revno: 3059
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-09-22 09:39:17 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.65.5
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-09-22 09:32:29 +0200
    message:
      ndb - bug#47505 - make sure to init tcconnectrecord used for COPY_FRAGREQ, so that it will always be found by LQH_TRANSREQ
    ------------------------------------------------------------
    revno: 2572.65.4
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-22 08:40:48 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3058
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-22 08:32:06 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3056.1.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Mon 2009-09-21 14:11:14 +0200
    message:
      ndb - fix bug in previous bug-fix, make sure to reset dynTabDescriptor to RNIL after release
------------------------------------------------------------
revno: 3057
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Mon 2009-09-21 15:53:09 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.65.3
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-21 13:15:35 +0200
    message:
      Backported ndb enabled version from mysql-5.1-telco-7.0
    ------------------------------------------------------------
    revno: 2572.65.2
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-09-18 15:59:24 +0200
    message:
      bug#39268  No transaction hints used to update SYSTAB_0 for autoincrement and PK-less table
    ------------------------------------------------------------
    revno: 2572.65.1
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Thu 2009-09-17 15:53:38 +0200
    message:
      bug#42614 Mysql auto locate databases can overwrite frm data: checking for local tables in ndbcluster_discover, added test case
------------------------------------------------------------
revno: 3056
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Mon 2009-09-21 11:12:10 +0200
message:
  ndb - adjust #loops run in testNodeRestart, so that >=2-node doesnt take forever
------------------------------------------------------------
revno: 3055
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Mon 2009-09-21 10:30:42 +0200
message:
  ndb - bug#37688 - fix race condition between TAKE_OVERTCCONF and NODE_FAILREP by introducing a generic route-facility
------------------------------------------------------------
revno: 3054
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Mon 2009-09-21 09:24:31 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.64.6
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Mon 2009-09-21 09:23:37 +0200
    message:
      ndb - store atrt-host in autotest-result-tarball
------------------------------------------------------------
revno: 3053
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Thu 2009-09-17 00:26:49 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.64.5
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Wed 2009-09-16 17:04:14 +0100
    message:
      Ensure all attached binlogging MySQLDs are logging schema ops before testcases runs.  Also move include files to /suite/rpl_ndb/t/
    ------------------------------------------------------------
    revno: 2572.64.4
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-15 23:09:31 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3052
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Wed 2009-09-16 12:52:41 +0200
message:
  ndb - bug#47364 - cleanup abort of online add column wrt to table-descriptors in TUP
------------------------------------------------------------
revno: 3051
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-15 23:05:01 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3049.1.4
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-15 22:01:07 +0200
    message:
      add conf-ndb07.cnf to install-files
    ------------------------------------------------------------
    revno: 3049.1.3
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-15 21:03:46 +0200
    message:
      ndb - add cnf file for autotest on ndb07
    ------------------------------------------------------------
    revno: 3049.1.2
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-15 18:57:10 +0200
    message:
      merge 62 to 63
        ------------------------------------------------------------
        revno: 2572.59.70
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Tue 2009-09-15 18:52:04 +0200
        message:
          ndb - bug#47329 - release unusable NdbTransaction-object on closeTransaction
    ------------------------------------------------------------
    revno: 3049.1.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Tue 2009-09-15 14:02:04 +0200
    message:
      ndb - fix testNodeRestart -n RestartNodeDuringLCP
        which was accidently broken by fix for bug46412
        (too agressivly added error-inserts)
------------------------------------------------------------
revno: 3050
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-15 15:42:29 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.64.3
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-15 14:28:15 +0200
    message:
      Merge
    ------------------------------------------------------------
    revno: 2572.64.2
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-15 14:26:48 +0200
    message:
      bug#44695  ALTER TABLE during START BACKUP crashes mysqld: Informing mysqld properly about encountered errors
    ------------------------------------------------------------
    revno: 2572.64.1
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-14 10:33:38 +0200
    message:
      bug#44695 ALTER TABLE during START BACKUP crashes mysqld: Adding test case
------------------------------------------------------------
revno: 3049
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-09-15 12:07:34 +0200
message:
  ndb merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.69
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-09-15 12:03:14 +0200
    message:
      ndb - move from daily-devel to daily-basic
------------------------------------------------------------
revno: 3048
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Mon 2009-09-14 13:51:36 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.68
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-14 13:48:22 +0100
    message:
      Fix duplicate use of ERROR_INSERT 8050
    ------------------------------------------------------------
    revno: 2572.59.67
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-14 13:45:19 +0100
    message:
      Improve rpl_ndb_slave_lsu determinism.  Connect to all servers and reset master logs with implication that all servers must be fully started, and logging schema changes, before test commences
------------------------------------------------------------
revno: 3047
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Mon 2009-09-14 11:39:27 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.66
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-14 11:33:19 +0100
    message:
      Fix Windows table name case insensitivity on rpl_ndb_slave_lsu testcase
------------------------------------------------------------
revno: 3046
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Fri 2009-09-11 16:40:57 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.65
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-09-11 16:39:22 +0100
    message:
      Improve determinism of binlog contents in rpl_ndb_circular
------------------------------------------------------------
revno: 3045
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Fri 2009-09-11 12:03:19 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.64
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Fri 2009-09-11 11:34:36 +0100
    message:
      Bug#45756 : DDL statements not always in binary logs of other SQL Nodes on slave cluster
      
      - Modify source-server-id mechanism for DDL propagation within cluster to allow Binlog Injector to differentiate between local-cluster-sourced and replication-slave-sourced DDL changes.
      - Modify Binlog Injector to generate DDL Binlog entries for replication-slave-sourced DDL changes iff log-slave-updates is On.
      
      Impact
      - Binlogging of DDL on MySQLDs attached to slave cluster is independent of log-bin and log-slave-updates setting on active slave MySQLD
        This aligns DDL handling behaviour with DML handling behaviour
      - Source server-id for DDL Binlog entries is set to the server-id of the first MySQLD to Binlog the change.
        This aligns DDL handling behaviour with DML handling behaviour
      
      Risks
      - Online upgrade of Binlogging MySQLDs
        DDL applied by non-upgraded MySQLDs will not be logged by upgraded MySQLDs unless the upgraded MySQLDs have log-slave-updates on.
        This is because the upgraded MySQLDs will think that the DDL sourced by locally-attached non-upgraded MySQLDs has been applied by a slave applier.
      
        Workarounds :
        1) Do not perform DDL during online upgrade of attached MySQLDs
           or
        2) Upgrade binlogging MySQLD node last
           or
        3) Reconfigure binlogging MySQLD nodes to set log-slave-updates=On before upgrade
           This may have other effects in circular replication scenarios. 
------------------------------------------------------------
revno: 3044
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-11 09:38:50 +0200
message:
  ndb - bug#47171
    ndbd could crash on MaxNoOfOpenFiles during REDO invalidation
      due to careless opening of files
------------------------------------------------------------
revno: 3043
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Wed 2009-09-09 14:07:16 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.63
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Wed 2009-09-09 13:51:09 +0200
    message:
      ndb - bug#42789
        reintroduce ndbouts_fileoutputstream allocated statically (but initialized by ndb_init)
        to avoid memory leak (as reported by valgrind)
      
        also, while i'm at it, create a NdbOut_Init() so that ndb_init() doesnt have to be so contaminated with NdbOut internals
------------------------------------------------------------
revno: 3042
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Wed 2009-09-09 11:08:34 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.62
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Wed 2009-09-09 11:01:45 +0200
    message:
      ndb - bug#47166
        Fix correct default value of StringMemory (25) in ConfigInfo
        to avoid confusion
    ------------------------------------------------------------
    revno: 2572.59.61
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Wed 2009-09-09 10:57:13 +0200
    message:
      ndb - bug#47170
        Calculation of StringMemory could overflow for big values 
          of MaxNoOfTables/Attributes
    ------------------------------------------------------------
    revno: 2572.59.60
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2-bug35751
    timestamp: Tue 2009-09-08 20:38:30 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3041
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Wed 2009-09-09 10:20:02 +0200
message:
  Bug#46113 ndbd fails to start when built with gcc-4.4.0 (e.g Fedora 11)
   - Avoid unintentional zero-initializartion of TakeOverRecord using
     default constructor 
------------------------------------------------------------
revno: 3040
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Tue 2009-09-08 20:39:12 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3035.1.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.3
    timestamp: Tue 2009-09-08 14:23:44 +0200
    message:
      Merge 6.2 to 6.3
    ------------------------------------------------------------
    revno: 2572.63.1
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2-bug35751
    timestamp: Tue 2009-09-08 11:53:00 +0200
    message:
      Bug#35751 ndb_mgm and other mgmapi clients hang on OS X 10.5 intel
       - Change NdbThread_Create function so that when 0 is specified as\
         thread_stack_size, our default value of 64k is used.
       - Change all threads (except ndbfs threads (and some tests)) to request default stack size 
------------------------------------------------------------
revno: 3039
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Tue 2009-09-08 20:08:34 +0200
message:
  Merge 6.2 to 6.3
    ------------------------------------------------------------
    revno: 2572.59.59
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Tue 2009-09-08 20:05:08 +0200
    message:
      Bug#42789 ndb test programs crash on Solaris
       - move NdbOut creation to ndb_init_internal since mysqld
         calls only that function
------------------------------------------------------------
revno: 3038
committer: Jorgen Austvik <jorgen.austvik@sun.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-08 15:38:58 +0200
message:
  merge 6.2 to 6.3
    ------------------------------------------------------------
    revno: 2572.62.1
    committer: Jorgen Austvik <jorgen.austvik@sun.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 14:58:50 +0200
    message:
      bug#42789: initialize ndbout
    ------------------------------------------------------------
    revno: 2572.59.58
    committer: Jorgen Austvik <jorgen.austvik@sun.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 15:37:36 +0200
    message:
      bug#42789: initialize ndbout
------------------------------------------------------------
revno: 3037
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-08 13:39:51 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.59.57
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 13:24:03 +0200
    message:
      Bug#40428  core dumped when restore backup log file(redo log): modified test cases to redirect output
------------------------------------------------------------
revno: 3036
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-08 13:24:40 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.59.56
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 13:02:48 +0200
    message:
      Bug#36701 memory leak in mysqld when executing simple join on clustered tables
    ------------------------------------------------------------
    revno: 2572.59.55
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 12:59:55 +0200
    message:
      Bug#40428  core dumped when restore backup log file(redo log): added test case
    ------------------------------------------------------------
    revno: 2572.59.54
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Tue 2009-09-08 12:38:53 +0200
    message:
      Bug#40428 core dumped when restore backup log file(redo log): set the correct length of log attribute when restore with '--print'
------------------------------------------------------------
revno: 3035
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Mon 2009-09-07 12:02:18 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.53
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2
    timestamp: Mon 2009-09-07 12:00:31 +0100
    message:
      Fix issue with testNdbApi -n ApiFailReqBehaviour
------------------------------------------------------------
revno: 3034
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Mon 2009-09-07 08:55:30 +0200
message:
  ndb - testSystemRestart -n to - prevent flooding of logfiles
------------------------------------------------------------
revno: 3033
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-04 17:22:44 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.52
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Fri 2009-09-04 17:19:41 +0200
    message:
      ndb - fix windows warning
------------------------------------------------------------
revno: 3032
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-04 13:01:23 +0200
message:
  ndb - bug#47131 - add pseudo columns for extent space/free space
------------------------------------------------------------
revno: 3031
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-04 12:36:34 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.51
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Fri 2009-09-04 12:32:57 +0200
    message:
      ndb - fix windoze warning
------------------------------------------------------------
revno: 3030
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Fri 2009-09-04 12:35:16 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.50
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Fri 2009-09-04 12:15:28 +0200
    message:
      ndb - bug#47072
        Incorrect extent free space accounting
        Which could lead to suboptimal selection of extents for inserts
        (and maybe maybe also crash during restart)
    ------------------------------------------------------------
    revno: 2572.59.49
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2_main
    timestamp: Thu 2009-09-03 14:50:16 +0200
    message:
      Merge
------------------------------------------------------------
revno: 3029
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3_orig
timestamp: Thu 2009-09-03 13:50:20 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 3027.1.3
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-09-03 11:14:28 +0200
    message:
      ndb - fix windoze compile error...on stat()
    ------------------------------------------------------------
    revno: 3027.1.2
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-09-03 10:16:34 +0200
    message:
      merge 62 to 63
        ------------------------------------------------------------
        revno: 2572.61.1
        committer: Jonas Oreland <jonas@mysql.com>
        branch nick: telco-6.2
        timestamp: Thu 2009-09-03 09:43:49 +0200
        message:
          ndb - add loop over serveral suites, so we don't always need to rebuild
    ------------------------------------------------------------
    revno: 3027.1.1
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.3
    timestamp: Thu 2009-09-03 10:15:17 +0200
    message:
      ndb - ndbd_redo_log_reader - adopt to configurable sized log-files
------------------------------------------------------------
revno: 3028
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3_orig
timestamp: Thu 2009-09-03 11:13:50 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.59.48
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2_main
    timestamp: Thu 2009-09-03 09:50:51 +0200
    message:
      Bug#38034: last_insert_id() value not shown in table with trigger, added test case.
    ------------------------------------------------------------
    revno: 2572.59.47
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2_main
    timestamp: Thu 2009-09-03 09:49:50 +0200
    message:
      Bug #46712 Auto_increment work incorrectly when using triggers and NDB Cluster, added test case.
    ------------------------------------------------------------
    revno: 2572.59.46
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2_main
    timestamp: Thu 2009-09-03 09:35:29 +0200
    message:
      Bug #46712 Auto_increment work incorrectly when using triggers and NDB Cluster, defining m_rows_to_insert=1 as default, even when start_bulk_insert is nor called, simplified code in get_auto_increment.
------------------------------------------------------------
revno: 3027
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-01 13:28:53 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.45
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2-copy
    timestamp: Tue 2009-09-01 13:27:40 +0100
    message:
      Fix PB break
------------------------------------------------------------
revno: 3026
committer: Frazer Clement <frazer@mysql.com>
branch nick: mysql-5.1-telco-6.3
timestamp: Tue 2009-09-01 12:07:11 +0100
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.44
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2-copy
    timestamp: Tue 2009-09-01 12:04:11 +0100
    message:
      Bug#47039 : Signals from failed API node received after API_FAILREQ.  Move test to daily-basic
    ------------------------------------------------------------
    revno: 2572.59.43
    committer: Frazer Clement <frazer@mysql.com>
    branch nick: mysql-5.1-telco-6.2-copy
    timestamp: Tue 2009-09-01 11:50:11 +0100
    message:
      Bug#47039 : Signals from failed API node received after API_FAILREQ
------------------------------------------------------------
revno: 3025
committer: Martin Skold <Martin.Skold@mysql.com>
branch nick: mysql-5.1-telco-6.3_orig
timestamp: Mon 2009-08-31 14:52:10 +0200
message:
  Merge
    ------------------------------------------------------------
    revno: 2572.59.42
    committer: Martin Skold <Martin.Skold@mysql.com>
    branch nick: mysql-5.1-telco-6.2_orig
    timestamp: Mon 2009-08-31 14:29:38 +0200
    message:
      Fixed compilation error
------------------------------------------------------------
revno: 3024
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Thu 2009-08-27 17:40:13 +0200
message:
  Merge 6.2->6.3
    ------------------------------------------------------------
    revno: 2572.59.41
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Thu 2009-08-27 17:38:45 +0200
    message:
      Don't count experimental tests in the final result if test suite passed or not.
------------------------------------------------------------
revno: 3023
committer: Magnus Bl?udd <magnus.blaudd@sun.com>
branch nick: 6.3
timestamp: Thu 2009-08-27 14:57:20 +0200
message:
  Merge 6.2 -> 6.3
    ------------------------------------------------------------
    revno: 2572.59.40
    committer: Magnus Bl?udd <magnus.blaudd@sun.com>
    branch nick: 6.2
    timestamp: Thu 2009-08-27 14:53:50 +0200
    message:
      Add default.experimental as default for --experimental
------------------------------------------------------------
revno: 3022
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Thu 2009-08-27 09:25:52 +0200
message:
  merge 62 to 63
    ------------------------------------------------------------
    revno: 2572.59.39
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Thu 2009-08-27 09:24:27 +0200
    message:
      fix compiler warnings brought in by merge from 5.1.37
------------------------------------------------------------
revno: 3021
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Wed 2009-08-26 21:18:01 +0200
message:
  merge error causing suite/ndb_team to be installed twice
------------------------------------------------------------
revno: 3020
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Wed 2009-08-26 12:59:55 +0200
message:
  ndb - merge mysql-5.1.37 into 63
    ------------------------------------------------------------
    revno: 2572.59.38
    committer: Jonas Oreland <jonas@mysql.com>
    branch nick: telco-6.2
    timestamp: Tue 2009-08-25 21:44:04 +0200
    message:
      ndb - merge mysql-5.1.37
    ------------------------------------------------------------
    revno: 2555.413.150
    tags: clone-5.1.37-build, mysql-5.1.37
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-13 20:45:43 +0300
    message:
      merge tree name change
        ------------------------------------------------------------
        revno: 1810.3929.16
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-13 20:39:58 +0300
        message:
          tree name changed
    ------------------------------------------------------------
    revno: 2555.413.149
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-13 20:41:43 +0300
    message:
      merge 5.1-main -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.499.2
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1
        timestamp: Sat 2009-07-11 01:12:13 +0200
        message:
          NULL MERGE of mysql-5.1.34sp1-release branch
        ------------------------------------------------------------
        revno: 2555.501.11
        tags: mysql-5.1.34sp1
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Thu 2009-06-25 00:15:51 +0200
        message:
          bump version to 5.1.34sp1
        ------------------------------------------------------------
        revno: 2555.501.10
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:34:19 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2871.4.1
          > revision-id: vvaintroub@mysql.com-20090429115110-1ye4700m8it5tyc5
          > parent: staale.smedseng@sun.com-20090428161955-3vnku1igwt0knpfu
          > committer: Vladislav Vaintroub <vvaintroub@mysql.com>
          > branch nick: mysql-5.1-bugteam
          > timestamp: Wed 2009-04-29 13:51:10 +0200
          > message:
          >   Bug#43932 myisam index corruption with large index and large 
          >   key_buffer_size.
          >   
          >   The cause of corruption was number overflow when multiplying 
          >   two ulong values, number of used keycache blocks with size
          >   of a single block. The result of multiplication exceeded ulong 
          >   range (4G) and this lead to incorrectly calculated  buffer offset
          >   in the key cache.
          >   
          >   The fix is to use size_t for multiplication result.
          >   
          >   This patch also fixes pointless cast in safemalloc 
          >   (size of allocated block to uint), that creates lot of false
          >   alarm warnings when using big keycache (> 4GB) in debug mode.
        ------------------------------------------------------------
        revno: 2555.501.9
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:24:13 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2857.1.8
          > revision-id: sergey.glukhov@sun.com-20090417084627-yvt63k51vvvjbx9j
          > parent: anurag.shekhar@sun.com-20090417055354-7vw80v1rwn0z1tt4
          > parent: sergey.glukhov@sun.com-20090417074115-dv9h5ijalj2hgq3r
          > committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
          > branch nick: mysql-5.1-bugteam
          > timestamp: Fri 2009-04-17 13:46:27 +0500
          > message:
          >   5.0-bugteam->5.1-bugteam merge
          >     ------------------------------------------------------------
          >     revno: 1810.3882.12
          >     revision-id: sergey.glukhov@sun.com-20090417074115-dv9h5ijalj2hgq3r
          >     parent: patrick.crews@sun.com-20090416174744-u9fxu6ophud91a1h
          >     committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
          >     branch nick: mysql-5.0-bugteam
          >     timestamp: Fri 2009-04-17 12:41:15 +0500
          >     message:
          >       Bug#44151 using handler commands on information_schema tables crashes server
          >       information schema tables are based on internal tmp tables which are removed
          >       after each statement execution. So HANDLER comands can not be used with
          >       information schema.
        ------------------------------------------------------------
        revno: 2555.501.8
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:19:45 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2857.1.1
          > revision-id: satya.bn@sun.com-20090415114608-26b21dtx3doeidcc
          > parent: davi.arnaut@sun.com-20090414120532-9a34lwlk105z8log
          > committer: Satya B <satya.bn@sun.com>
          > branch nick: mysql-5.1-bugteam-innodb
          > timestamp: Wed 2009-04-15 17:16:08 +0530
          > message:
          >   Applying InnoDB snashot 5.1-ss4699, part 1. Fixes BUG#39320 and other
          >   problems
          >   
          >   1) BUG#39320 - innodb crash in file btr/btr0pcur.c line 217 with 
          >                  innodb_locks_unsafe_for_binlog
          >   
          >   2) Fixes bug in multi-table semi consistent reads.
          >   
          >   3) Fixes email address from dev@innodb.com to innodb_dev_ww@oracle.com
          >   
          >   4) Fixes warning message generated by main.innodb test
          >   
          >   
          >   Detailed revision comments:
          >   
          >   r4399 | marko | 2009-03-12 09:38:05 +0200 (Thu, 12 Mar 2009) | 5 lines
          >   branches/5.1: row_sel_get_clust_rec_for_mysql(): Store the cursor position
          >   also for unlock_row().  (Bug #39320)
          >   
          >   rb://96 approved by Heikki Tuuri.
          >   
          >   r4400 | marko | 2009-03-12 10:06:44 +0200 (Thu, 12 Mar 2009) | 8 lines
          >   branches/5.1: Fix a bug in multi-table semi-consistent reads.
          >   Remember the acquired record locks per table handle (row_prebuilt_t)
          >   rather than per transaction (trx_t), so that unlock_row should successfully
          >   unlock all non-matching rows in multi-table operations.
          >   This deficiency was found while investigating Bug #39320.
          >   
          >   rb://94 approved by Heikki Tuuri.
          >   
          >   r4481 | marko | 2009-03-19 15:01:48 +0200 (Thu, 19 Mar 2009) | 6 lines
          >   branches/5.1: row_unlock_for_mysql(): Do not unlock records that were
          >   modified by the current transaction.  This bug was introduced or unmasked
          >   in r4400.
          >   
          >   rb://97 approved by Heikki Tuuri
          >   
          >   r4573 | vasil | 2009-03-30 14:17:13 +0300 (Mon, 30 Mar 2009) | 4 lines
          >   branches/5.1:
          >   
          >   Fix email address from dev@innodb.com to innodb_dev_ww@oracle.com
          >   
          >   r4574 | vasil | 2009-03-30 14:27:08 +0300 (Mon, 30 Mar 2009) | 38 lines
          >   branches/5.1:
          >   
          >   Restore the state of INNODB_THREAD_CONCURRENCY to silence this warning:
          >   
          >     TEST                                      RESULT   TIME (ms)
          >     ------------------------------------------------------------
          >     
          >     worker[1] Using MTR_BUILD_THREAD 250, with reserved ports 12500..12509
          >     main.innodb                              [ pass ]   8803
          >     
          >     MTR's internal check of the test case 'main.innodb' failed.
          >     This means that the test case does not preserve the state that existed
          >     before the test case was executed.  Most likely the test case did not
          >     do a proper clean-up.
          >     This is the diff of the states of the servers before and after the
          >     test case was executed:
          >     mysqltest: Logging to '/tmp/autotest.sh-20090330_033000-5.1.5Hg8CY/mysql-5.1/mysql-test/var/tmp/check-mysqld_1.log'.
          >     mysqltest: Results saved in '/tmp/autotest.sh-20090330_033000-5.1.5Hg8CY/mysql-5.1/mysql-test/var/tmp/check-mysqld_1.result'.
          >     mysqltest: Connecting to server localhost:12500 (socket /tmp/autotest.sh-20090330_033000-5.1.5Hg8CY/mysql-5.1/mysql-test/var/tmp/mysqld.1.sock) as 'root', connection 'default', attempt 0 ...
          >     mysqltest: ... Connected.
          >     mysqltest: Start processing test commands from './include/check-testcase.test' ...
          >     mysqltest: ... Done processing test commands.
          >     --- /tmp/autotest.sh-20090330_033000-5.1.5Hg8CY/mysql-5.1/mysql-test/var/tmp/check-mysqld_1.result	2009-03-30 14:12:31.000000000 +0300
          >     +++ /tmp/autotest.sh-20090330_033000-5.1.5Hg8CY/mysql-5.1/mysql-test/var/tmp/check-mysqld_1.reject	2009-03-30 14:12:41.000000000 +0300
          >     @@ -99,7 +99,7 @@
          >      INNODB_SUPPORT_XA	ON
          >      INNODB_SYNC_SPIN_LOOPS	20
          >      INNODB_TABLE_LOCKS	ON
          >     -INNODB_THREAD_CONCURRENCY	8
          >     +INNODB_THREAD_CONCURRENCY	16
          >      INNODB_THREAD_SLEEP_DELAY	10000
          >      INSERT_ID	0
          >      INTERACTIVE_TIMEOUT	28800
          >     
          >     mysqltest: Result content mismatch
          >     
          >     not ok
          >   
          >   r4576 | vasil | 2009-03-30 16:25:10 +0300 (Mon, 30 Mar 2009) | 4 lines
          >   branches/5.1:
          >   
          >   Revert a change to Makefile.am that I committed accidentally in c4574.
        ------------------------------------------------------------
        revno: 2555.501.7
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:17:12 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2852.2.3
          > revision-id: davi.arnaut@sun.com-20090403194600-60ufn0tz1gx1kl0l
          > parent: gni@mysql.com-20090403184200-vnjtpsv4an79w8bu
          > parent: davi.arnaut@sun.com-20090403191154-0ho2nai3chjsmpof
          > committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
          > branch nick: 43230-5.1
          > timestamp: Fri 2009-04-03 16:46:00 -0300
          > message:
          >   Merge Bug#43230 into mysql-5.1-bugteam
          >     ------------------------------------------------------------
          >     revno: 1810.3855.16
          >     revision-id: davi.arnaut@sun.com-20090403191154-0ho2nai3chjsmpof
          >     parent: chad@mysql.com-20090402152928-3ld60a56h86njcpg
          >     committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
          >     branch nick: 43230-5.0
          >     timestamp: Fri 2009-04-03 16:11:54 -0300
          >     message:
          >       Bug#43230: SELECT ... FOR UPDATE can hang with FLUSH TABLES WITH READ LOCK indefinitely
          >       
          >       The problem is that a SELECT .. FOR UPDATE statement might open
          >       a table and later wait for a impeding global read lock without
          >       noticing whether it is holding a table that is being waited upon
          >       the the flush phase of the process that took the global read
          >       lock.
          >       
          >       The same problem also affected the following statements:
          >       
          >       LOCK TABLES .. WRITE
          >       UPDATE .. SET (update and multi-table update)
          >       TRUNCATE TABLE ..
          >       LOAD DATA ..
          >       
          >       The solution is to make the above statements wait for a impending
          >       global read lock before opening the tables. If there is no
          >       impending global read lock, the statement raises a temporary
          >       protection against global read locks and progresses smoothly
          >       towards completion.
          >       
          >       Important notice: the patch does not try to address all possible
          >       cases, only those which are common and can be fixed unintrusively
          >       enough for 5.0.
        ------------------------------------------------------------
        revno: 2555.501.6
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:16:32 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2852.2.1
          > revision-id: gni@mysql.com-20090403182157-de6ecrtzlgvpl5mk
          > parent: timothy.smith@sun.com-20090402083720-b7i3jr4dmvwjakcj
          > committer: Guangbao Ni <gni@mysql.com>
          > branch nick: bugteam-5.1-bug42640
          > timestamp: Fri 2009-04-03 18:21:57 +0000
          > message:
          >   BUG#42640 mysqld crashes when unsafe statements are executed (STRICT_TRANS_TABLESmode)
          >   
          >   Mysql server crashes because unsafe statements warning is wrongly elevated to error,
          >   which is set the error status of Diagnostics_area of the thread in THD::binlog_query().
          >   Yet the caller believes that binary logging shouldn't touch the status, so it will
          >   set the status also later by my_ok(), my_error() or my_message() seperately
          >   according to the execution result of the statement or transaction.
          >   But the status of Diagnostics_area of the thread is allowed to set only once.
          >   
          >   Fixed to clear the error wrongly set by binary logging, but keep the warning message.
        ------------------------------------------------------------
        revno: 2555.501.5
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:15:43 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2852.12.6
          > tags: clone-5.1.35-build, mysql-5.1.35
          > revision-id: gshchepa@mysql.com-20090513075139-g50shsfjaf1dstdn
          > parent: joerg@mysql.com-20090508190407-ymqxmp6daeta6fdj
          > committer: Gleb Shchepa <gshchepa@mysql.com>
          > branch nick: mysql-5.1
          > timestamp: Wed 2009-05-13 12:51:39 +0500
          > message:
          >   Bug #44290: explain crashes for subquery with distinct in
          >               SQL_SELECT::test_quick_select
          >   
          >   The crash was caused by an incomplete cleanup of JOIN_TAB::select
          >   during the filesort of rows for GROUP BY clause inside a subquery.
          >   Queries where a quick index access is replaced with filesort was
          >   was affected. For example:
          >   
          >     SELECT 1 FROM
          >       (SELECT COUNT(DISTINCT c1) FROM t1
          >          WHERE c2 IN (1, 1) AND c3 = 2 GROUP BY c2) x
          >   
          >   Quick index access related data in the SQL_SELECT::test_quick_select
          >   function was inconsistent after an incomplete cleanup.
          >   This function has been completed to prevent crashes in the
          >   SQL_SELECT::test_quick_select function.
        ------------------------------------------------------------
        revno: 2555.501.4
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:14:47 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2852.1.15
          > revision-id: davi.arnaut@sun.com-20090409152525-b4vnj9atidmjh0mf
          > parent: luis.soares@sun.com-20090409113044-2072kufy5efeohpp
          > committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
          > branch nick: 43706-5.1
          > timestamp: Thu 2009-04-09 12:25:25 -0300
          > message:
          >   Bug#43706: libmysqld segfaults when re-intialised
          >   Bug#44091: libmysqld gets stuck waiting on mutex on initialization
          >   
          >   The problem was that libmysqld wasn't enforcing a certain
          >   initialization and deinitialization order for the mysys
          >   library. Another problem was that the global object used
          >   for management of log event handlers (aka LOGGER) wasn't
          >   being prepared for a possible reutilization.
          >   
          >   What leads to the hang/crash reported is that a failure
          >   to load the language file triggers a double call of the
          >   cleanup functions, causing an already destroyed mutex to
          >   be used.
          >   
          >   The solution is enforce a order on the initialization and
          >   deinitialization of the mysys library within the libmysqld
          >   library and to ensure that the global LOGGER object reset
          >   it's internal state during cleanup.
        ------------------------------------------------------------
        revno: 2555.501.3
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:13:50 +0200
        message:
          Backport into build-200906240007-5.1.34sp1
          
          > ------------------------------------------------------------
          > revno: 2852.1.10
          > revision-id: sergey.glukhov@sun.com-20090409093850-z3vgmz8fqogv8o1o
          > parent: v.narayanan@sun.com-20090409081823-zsw611isjcorl63b
          > parent: sergey.glukhov@sun.com-20090409091931-2zhtgonllfmsxjex
          > committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
          > branch nick: mysql-5.1-bugteam
          > timestamp: Thu 2009-04-09 14:38:50 +0500
          > message:
          >   5.0-bugteam->5.1-bugteam merge
          >     ------------------------------------------------------------
          >     revno: 1810.3882.6
          >     revision-id: sergey.glukhov@sun.com-20090409091931-2zhtgonllfmsxjex
          >     parent: anurag.shekhar@sun.com-20090409080004-xvxy663jan45tb3c
          >     committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
          >     branch nick: mysql-5.0-bugteam
          >     timestamp: Thu 2009-04-09 14:19:31 +0500
          >     message:
          >       Bug#43833 Simple INSERT crashes the server
          >       The crash happens due to wrong 'digits' variable value(0),
          >       'digits' can not be 0, so the fix is use 1 as min allowed value.
        ------------------------------------------------------------
        revno: 2555.501.2
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:11:06 +0200
        message:
          Backport into mysql-5.1.34sp1-release
          
          > ------------------------------------------------------------
          > revno: 2841.1.1
          > revision-id: sergey.glukhov@sun.com-20090401084033-161k4f8qucafy6mj
          > parent: ramil@mysql.com-20090401053459-07x8z2pw2ev94xck
          > committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
          > branch nick: mysql-5.1-bugteam
          > timestamp: Wed 2009-04-01 13:40:33 +0500
          > message:
          >   Bug#43183 ExctractValue() brings result list in missorder
          >   The problem is that XML functions(items) do not reset null_value
          >   before their execution and further item excution may use
          >   null_value value of the previous result.
          >   The fix is to reset null_value.
        ------------------------------------------------------------
        revno: 2555.501.1
        committer: MySQL Build Team <build@mysql.com>
        branch nick: mysql-5.1.34sp1-release
        timestamp: Wed 2009-06-24 19:00:58 +0200
        message:
          Backport into mysql-5.1.34sp1-release
          
          > ------------------------------------------------------------
          > revno: 1810.3885.1
          > revision-id: holyfoot@mysql.com-20090428094726-i4j7z985mxr43jym
          > parent: gshchepa@mysql.com-20090428001913-plzojd1pwplior44
          > committer: Alexey Botchkov <holyfoot@mysql.com>
          > branch nick: 50mrg
          > timestamp: Tue 2009-04-28 14:47:26 +0500
          > message:
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >      the Point() and Linestring() functions create WKB representation of an
          >      object instead of an real geometry object.
          >      That produced bugs when these were inserted into tables.
          >   
          >      GIS tests fixed accordingly.
          >               
          >   per-file messages:
          >     mysql-test/r/gis-rtree.result
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >       test result
          >     mysql-test/r/gis.result
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >       test result
          >     mysql-test/t/gis-rtree.test
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >       test fixed - GeomFromWKB invocations removed
          >     mysql-test/t/gis.test
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >       test fixed - AsWKB invocations added
          >     sql/item_geofunc.cc
          >   Bug#38990 Arbitrary data input plus GIS functions causes mysql server crash 
          >        Point() and similar functions to create a proper object
    ------------------------------------------------------------
    revno: 2555.413.148
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: fix-5.1-bugteam
    timestamp: Mon 2009-07-13 14:34:23 +0300
    message:
      merge 5.0-bugteam -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3929.15
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: fix-5.0-bugteam
        timestamp: Mon 2009-07-13 14:17:14 +0300
        message:
          Addendum to the fix for bug #46080: fixed the error handling
    ------------------------------------------------------------
    revno: 2555.413.147
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Sun 2009-07-12 20:56:43 +0600
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.500.1
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my51-bug45796
        timestamp: Fri 2009-07-10 17:34:03 +0600
        message:
          Bug #45796: invalid memory reads and writes when altering merge 
                      and base tables 
          
          myrg_attach_children() could reuse a buffer that was allocated 
          previously based on a definition of a child table. The problem 
          was that the child's definition might have been changed, so 
          reusing the buffer could lead to crashes or valgrind errors 
          under some circumstances. 
           
          Fixed by changing myrg_attach_children() so that the 
          rec_per_key_part buffer is reused only when the child table
          have not changed, and reallocated otherwise (the old buffer is 
          deallocated if necessary).
    ------------------------------------------------------------
    revno: 2555.413.146
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Sat 2009-07-11 23:44:29 +0500
    message:
      Bug #41156: List of derived tables acts like a chain of
                  mutually-nested subqueries
      
      Queries of the form
      
        SELECT * FROM (SELECT 1) AS t1,
                      (SELECT 2) AS t2,...
                      (SELECT 32) AS t32
      
      caused the "Too high level of nesting for select" error
      as if the query has a form
      
        SELECT * FROM (SELECT 1 FROM (SELECT 2 FROM (SELECT 3 FROM...
      
      
      The table_factor parser rule has been modified to adjust
      the LEX::nest_level variable value after every derived table.
    ------------------------------------------------------------
    revno: 2555.413.145
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 43397-51
    timestamp: Fri 2009-07-10 17:19:30 +0200
    message:
      Merge from 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.495.14
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Fri 2009-07-10 17:07:36 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3929.14
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B46080-5.0-bugteam
            timestamp: Fri 2009-07-10 17:03:09 +0300
            message:
              Addendum to the fix for bug #46080: fixed the test case
        ------------------------------------------------------------
        revno: 2555.495.13
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Fri 2009-07-10 17:04:58 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3929.13
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B46080-5.0-bugteam
            timestamp: Fri 2009-07-10 15:00:34 +0300
            message:
              Bug #46080: group_concat(... order by) crashes server when
                sort_buffer_size cannot allocate
              
              The NULL return from tree_insert() (on low memory) was not
              checked for in Item_func_group_concat::add(). As a result
              on low memory conditions a crash happens.
              
              Fixed by properly checking the return code.
        ------------------------------------------------------------
        revno: 2555.495.12
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Fri 2009-07-10 16:07:38 +0300
        message:
          merge 5.1-main -> 5.1
            ------------------------------------------------------------
            revno: 2555.499.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.1-bugteam
            timestamp: Wed 2009-07-08 16:11:16 +0300
            message:
              automerge
        ------------------------------------------------------------
        revno: 2555.495.11
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Fri 2009-07-10 16:04:40 +0300
        message:
          merged 5.0-bugteam->5.1-bugteam
            ------------------------------------------------------------
            revno: 1810.3929.12
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-07-10 16:00:17 +0300
            message:
              fixed the CPU checking code.
            ------------------------------------------------------------
            revno: 1810.3929.11
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-07-10 15:58:38 +0300
            message:
              merge 5.0-main -> 5.0-bugteam
            ------------------------------------------------------------
            revno: 1810.3931.2
            author: sunanda.menon@sun.com
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0
            timestamp: Tue 2009-07-07 11:47:23 +0200
            message:
              Raise version number after cloning 5.0.84
            ------------------------------------------------------------
            revno: 1810.3931.1
            tags: clone-5.0.84-build, mysql-5.0.84
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Tue 2009-07-07 10:49:38 +0300
            message:
              tree name change
        ------------------------------------------------------------
        revno: 2555.495.10
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-10 09:19:19 -0300
        message:
          Bug#21704: Renaming column does not update FK definition
          
          Remove commented-out test case. It has been moved to innodb_bug21704.test
        ------------------------------------------------------------
        revno: 2555.495.9
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-10 17:05:53 +0530
        message:
          Applying InnoDB snapshot 5.1-ss5488,part 4. Fixes BUG#21704
          
          1. BUG#21704 - Renaming column does not update FK definition
          
          2. Changes in mysql-test/include/mtr_warnings.sql so that the testcase
             for BUG#21704 doesn't fail because of the warnings generated.
          
          Detailed revision comments:
          
          r5488 | vasil | 2009-07-09 19:16:44 +0300 (Thu, 09 Jul 2009) | 13 lines
          branches/5.1:
          
          Fix Bug#21704 Renaming column does not update FK definition
          
          by checking whether a column that participates in a FK definition is being
          renamed and denying the ALTER in this case.
          
          The patch was originally developed by Davi Arnaut <Davi.Arnaut@Sun.COM>:
          http://lists.mysql.com/commits/77714
          and was later adjusted to conform to InnoDB coding style by me (Vasil),
          I also added some more comments and moved the bug specific mysql-test to
          a separate file to make it more manageable and flexible.
        ------------------------------------------------------------
        revno: 2555.495.8
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-10 16:10:31 +0530
        message:
          Applying InnoDB snapshot 5.1-ss5488 part3,Fixes BUG#45814
          
          Detailed revision comments:
          
          r5440 | vasil | 2009-06-30 13:04:29 +0300 (Tue, 30 Jun 2009) | 8 lines
          branches/5.1:
          
          Fix Bug#45814 URL reference in InnoDB server errors needs adjusting to match documentation
          
          by changing the URL from
          http://dev.mysql.com/doc/refman/5.1/en/innodb-troubleshooting.html to
          http://dev.mysql.com/doc/refman/5.1/en/innodb-troubleshooting-datadict.html
        ------------------------------------------------------------
        revno: 2555.495.7
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-10 16:06:07 +0530
        message:
          Applying InnoDB snapshot 5.1-ss5488,part 2. Fixes BUG#45749
          
          BUG#45749 - Race condition in SET GLOBAL innodb_commit_concurrency=DEFAULT
          
          Detailed revision comments:
          
          r5419 | marko | 2009-06-25 16:11:57 +0300 (Thu, 25 Jun 2009) | 18 lines
          branches/5.1: Merge r5418 from branches/zip:
          
            ------------------------------------------------------------------------
            r5418 | marko | 2009-06-25 15:55:52 +0300 (Thu, 25 Jun 2009) | 5 lines
            Changed paths:
               M /branches/zip/ChangeLog
               M /branches/zip/handler/ha_innodb.cc
               M /branches/zip/mysql-test/innodb_bug42101-nonzero.result
               M /branches/zip/mysql-test/innodb_bug42101-nonzero.test
               M /branches/zip/mysql-test/innodb_bug42101.result
               M /branches/zip/mysql-test/innodb_bug42101.test
            
            branches/zip: Fix a race condition caused by
            SET GLOBAL innodb_commit_concurrency=DEFAULT. (Bug #45749)
            When innodb_commit_concurrency is initially set nonzero,
            DEFAULT would change it back to 0, triggering Bug #42101.
            rb://139 approved by Heikki Tuuri.
            ------------------------------------------------------------------------
        ------------------------------------------------------------
        revno: 2555.495.6
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-07-10 15:55:08 +0530
        message:
          Applying InnoDB snashot 5.1-ss5488, part 1
          
          1. Fixes build warnings caused by applying snapshot 5.1-ss5282
          
          2. Fix the Makefile.am in storage/innobase to remove the header file
             'fsp0types.h' which was added twice to fix build warning generated 
             after applying the 5.1-ss5282 snapshot
          
          Detailed revision comments:
          
          r5410 | marko | 2009-06-24 22:26:34 +0300 (Wed, 24 Jun 2009) | 2 lines
          branches/5.1: Add missing #include "mtr0log.h" to avoid warnings
          when compiling with -DUNIV_MUST_NOT_INLINE.
        ------------------------------------------------------------
        revno: 2555.495.5
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45828-5.1-bugteam
        timestamp: Tue 2009-07-07 15:52:34 +0300
        message:
          Bug #36259 (Optimizing with ORDER BY) and bug#45828 (Optimizer won't 
          use partial primary key if another index can prevent filesort
          
          The fix for bug #28404 causes the covering ordering indexes to be 
          preferred unconditionally over non-covering and ref indexes.
          
          Fixed by comparing the cost of using a covering index to the cost of
          using a ref index even for covering ordering indexes.
          Added an assertion to clarify the condition the local variables should
          be in.
        ------------------------------------------------------------
        revno: 2555.495.4
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-45983-4
        timestamp: Thu 2009-07-09 16:04:06 +0530
        message:
          merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.498.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-45983-2
            timestamp: Thu 2009-07-09 12:22:56 +0530
            message:
              merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.497.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-45983
            timestamp: Wed 2009-07-08 14:40:01 +0530
            message:
              Bug#45983 ibmdb2i_create_index_option=1 not working for primary key
              
              With ibmdb2i_create_index_option set to 1, creating an IBMDB2I table
              with a primary key should produce an additional index that uses EBCDIC
              hexadecimal sorting. However, this does not work. Adding indexes that
              are not primary keys does work. The ibmdb2i_create_index_option should
              be honoured when creating a table with a primary key.
              
              This patch adds code to the create() function to check for the value
              of the ibmdb2i_create_index_option variable and, when appropriate, to 
              generate a *HEX-based shadow index in DB2 for the primary key. Previously 
              this behavior was limited to secondary indexes.
              
              Additionally, this patch restricts the creation of shadow indexes to
              cases in which a non-*HEX sort sequence is used, as the documentation
              for ibmdb2i_create_index_option describes. Previously, the shadow index
              would in some cases be created even when the MySQL-specific index used
              *HEX sorting, leading to redundant indexes.
              
              Finally, the code used to generate the list of fields for indexes 
              and the code used to generate the SQL statement for the shadow
              indexes has been refactored into individual functions.
        ------------------------------------------------------------
        revno: 2555.495.3
        committer: Andrei Elkin <aelkin@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-07-09 10:28:38 +0300
        message:
          Bug #44115 purge_relay_logs doesn't return an error when count_relay_log_space fails
          
          purge_relay_logs() did not propagate an error happend in count_relay_log_space().
          
          Fixed with the suggestesd setting the error= true.
          Note, propagation generally out of purge_relay_logs() was fixed for Bug #44179,
          and the issue does not exist in 6.0 thanks to a patch for WL#2775.
        ------------------------------------------------------------
        revno: 2555.495.2
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-35111
        timestamp: Thu 2009-07-09 12:14:47 +0530
        message:
          merge to mysql-5.1-bugteam branch
            ------------------------------------------------------------
            revno: 2555.496.1
            committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
            branch nick: mysql-5.1-bugteam
            timestamp: Wed 2009-07-08 09:31:22 -0300
            message:
              Fix warnings generated by SunStudio and GCC.
              
              Based upon patch contributed by Stewart Smith
        ------------------------------------------------------------
        revno: 2555.495.1
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-35111
        timestamp: Wed 2009-07-08 17:41:34 +0530
        message:
          Bug#35111 - Truncate a MyISAM partitioned table does not reset
          the auto_increment value
                
          This is an alternative patch that instead of allowing RECREATE TABLE
          on TRUNCATE TABLE it implements reset_auto_increment that is called
          after delete_all_rows.
          
          Note: this bug was fixed by Mattias Jonsson:
          Pusing this patch: http://lists.mysql.com/commits/70370
    ------------------------------------------------------------
    revno: 2555.413.144
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 43397-51
    timestamp: Wed 2009-07-08 16:49:45 +0200
    message:
      Bug #43397 mysql headers redefine pthread_mutex_init
      unnecessarily
            
      The problem is that libmysqlclient.so is built with THREAD
      undefined, while a client compiling against the same header
      files will see THREAD as defined and definitions in
      my_pthread.h will be included, possibly resulting in undefined
      symbols that cannot be resolved with libmysqlclient.so.
            
      The suggested solution is to require that clients wanting to
      link with libmysqlclient.so should be built with
      MYSQL_CLIENT_NO_THREADS defined. This requires a documentation
      change, and more details for this will be supplied if this
      patch is approved.
            
      The MYSQL_CLIENT_NO_THREADS define was renamed from
      UNDEF_THREADS_HACK, to get a more suitable (less suspicious)
      name for the define. (The UNDEF_THREADS_HACK is retained for
      backwards compatibility, though.)
            
      This patch is also in anticipation of WL#4958, which will
      remove this problem altogether by dropping the building of
      libmysqlclient.
    ------------------------------------------------------------
    revno: 2555.413.143
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Wed 2009-07-08 13:12:27 +0300
    message:
      Addendum to the fix for bug 45807 : initialize a member needed in
      Item_field::fix_fields()
    ------------------------------------------------------------
    revno: 2555.413.142
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Wed 2009-07-08 10:31:49 +0300
    message:
      Bug#38998, Bug#46029, Bug#45243, Bug#46030 making tests experimental
    ------------------------------------------------------------
    revno: 2555.413.141
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 17:44:19 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.494.3
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-07-07 10:27:42 -0400
        message:
          merge
        ------------------------------------------------------------
        revno: 2555.494.2
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-07-07 10:19:38 -0400
        message:
          Bug#37746: Arithmetic range ("int") is smaller than expected
          
          Added code to the .test file to skip this test on Win64 for PB2 stability.
          Please remove this code when the bug is fixed.
        ------------------------------------------------------------
        revno: 2555.494.1
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-07-06 18:20:17 -0400
        message:
          Bug#44920: MTR2 is not processing master.opt input properly on Windows.
          
          Had attempted to disable this test on Windows only, but the nature of this bug
          does not allow for this.  The master.opt file is processed before anything in 
          in the actual test.  As a result, we must use disabled.def files to ensure
          these tests are skipped on the problematic platforms.
          
          Removed Windows-only code and updated the proper disabled.def files accordingly.
    ------------------------------------------------------------
    revno: 2555.413.140
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 17:41:34 +0300
    message:
      Bug #40796 : adding the tests to the experimental pb2 set.
    ------------------------------------------------------------
    revno: 2555.413.139
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 17:18:44 +0300
    message:
      revert of hiding of the error exposed by this suite.
    ------------------------------------------------------------
    revno: 2555.413.138
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 17:15:53 +0300
    message:
      merge of making bug 45578, 46010 and 45576 experimental in pb2.
    ------------------------------------------------------------
    revno: 2555.413.137
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 17:14:21 +0300
    message:
      atuomerge
        ------------------------------------------------------------
        revno: 2555.493.1
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-45803-2
        timestamp: Tue 2009-07-07 12:06:35 +0530
        message:
          merging with mysql-5.1-bugteam.
        ------------------------------------------------------------
        revno: 2555.492.2
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-45803-1
        timestamp: Mon 2009-07-06 14:19:32 +0530
        message:
          Bug#45803 Inaccurate estimates for partial key values with IBMDB2I
          
          Some collations were causing IBMDB2I to report
          inaccurate key range estimations to the optimizer
          for LIKE clauses that select substrings. This can
          be seen by running EXPLAIN. This problem primarily
          affects multi-byte and unicode character sets.
          
          This patch involves substantial changes to several
          modules. There are a number of problems with the
          character set and collation handling. These problems
          have been or are being fixed,  and a comprehensive
          test has been included which should provide much
          better coverage than there was before. This test
          is enabled only for IBM i 6.1, because that version
          has support for the greatest number of collations.
    ------------------------------------------------------------
    revno: 2555.413.136
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 16:11:46 +0300
    message:
      fixed compilation warnings on macosx
    ------------------------------------------------------------
    revno: 2555.413.135
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Tue 2009-07-07 16:09:06 +0300
    message:
      fixed a failing test ctype_gbk_binlog : Table 't2' already exists
    ------------------------------------------------------------
    revno: 2555.413.134
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 20:02:56 +0300
    message:
      null merged the disablement : problem is not present in 5.1
        ------------------------------------------------------------
        revno: 1810.3929.10
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 20:00:43 +0300
        message:
          disable ndb_autodiscover2 : dependent on the disabled ndb_autodiscover
    ------------------------------------------------------------
    revno: 2555.413.133
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 18:17:39 +0300
    message:
      Bug #45974: disable test case in 5.1-bugteam
    ------------------------------------------------------------
    revno: 2555.413.132
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 17:47:51 +0300
    message:
      null-merged the test case disablement in bug 45972  to 5.1
        ------------------------------------------------------------
        revno: 1810.3929.9
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 17:44:25 +0300
        message:
          Bug#45972: disable the test case in 5.0
    ------------------------------------------------------------
    revno: 2555.413.131
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 13:36:09 +0300
    message:
      null-merged the disabled test cases.
        ------------------------------------------------------------
        revno: 1810.3929.8
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 13:27:19 +0300
        message:
          Bug #35148: ndb_autodiscover3 disabled
        ------------------------------------------------------------
        revno: 1810.3929.7
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 13:23:35 +0300
        message:
          Bug #35148: disabled testcase loaddata_autocom_ndb
        ------------------------------------------------------------
        revno: 1810.3929.6
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 13:20:41 +0300
        message:
          Bug #45521: disabled the test case
    ------------------------------------------------------------
    revno: 2555.413.130
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 13:30:25 +0300
    message:
      null-merge the mark of bug #38499 to big_test : it's running faster on 5.1
        ------------------------------------------------------------
        revno: 1810.3929.5
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 13:15:40 +0300
        message:
          Bug #38499 : test marked as a big test : takes approx 275 secs on a P4 2.4
          GHz.
    ------------------------------------------------------------
    revno: 2555.413.129
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 13:07:38 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.492.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-merge-push
        timestamp: Mon 2009-07-06 09:19:36 +0100
        message:
          auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.491.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam-push
        timestamp: Mon 2009-07-06 09:02:14 +0100
        message:
          BUG#44581 Slave stops when transaction with non-transactional table gets lock wait
          timeout
                      
          In STMT and MIXED modes, a statement that changes both non-transactional and
          transactional tables must be written to the binary log whenever there are
          changes to non-transactional tables. This means that the statement gets into the
          binary log even when the changes to the transactional tables fail. In particular
          , in the presence of a failure such statement is annotated with the error number
          and wrapped in a begin/rollback. On the slave, while applying the statement, it
          is expected the same failure and the rollback prevents the transactional changes
          to be persisted.
                      
          Unfortunately, statements that fail due to concurrency issues (e.g. deadlocks,
          timeouts) are logged in the same way causing the slave to stop as the statements
          are applied sequentially by the SQL Thread. To fix this bug, we automatically
          ignore concurrency failures on the slave. Specifically, the following failures
          are ignored: ER_LOCK_WAIT_TIMEOUT, ER_LOCK_DEADLOCK and ER_XA_RBDEADLOCK.
    ------------------------------------------------------------
    revno: 2555.413.128
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-07-06 12:07:29 +0300
    message:
      null-merged test cases disablement
        ------------------------------------------------------------
        revno: 1810.3929.4
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Mon 2009-07-06 12:01:56 +0300
        message:
          Bug#38315 and Bug#35148: disabled sporadically failing NDB tests 
    ------------------------------------------------------------
    revno: 2555.413.127
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-07-06 11:55:53 +0500
    message:
      Fix for bug#42364 reverted.
    ------------------------------------------------------------
    revno: 2555.413.126
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-07-03 20:49:30 +0200
    message:
      5.0-bugteam -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.489.3
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-07-03 13:55:45 +0200
        message:
          Bug#37274 client 'status' command doesn't print all info after losing connection to
                    server
          
          If the server connection was lost during repeated status commands,
          the client would fail to detect this and the client output would be inconsistent.
          
          This patch fixes this issue by making sure that the server is online
          before the client attempts to execute the status command.
    ------------------------------------------------------------
    revno: 2555.413.125
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-07-03 14:43:54 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.490.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my51-bug45262
        timestamp: Fri 2009-07-03 14:36:04 +0400
        message:
          Manual merge.
        ------------------------------------------------------------
        revno: 1810.3930.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my50-bug45262
        timestamp: Fri 2009-07-03 11:41:19 +0400
        message:
          Bug #45262: Bad effects with CREATE TABLE and DECIMAL 
           
          Using DECIMAL constants with more than 65 digits in CREATE 
          TABLE ... SELECT led to bogus errors in release builds or 
          assertion failures in debug builds. 
           
          The problem was in inconsistency in how DECIMAL constants and 
          fields are handled internally. We allow arbitrarily long 
          DECIMAL constants, whereas DECIMAL(M,D) columns are limited to 
          M<=65 and D<=30. my_decimal_precision_to_length() was used in 
          both Item and Field code and truncated precision to 
          DECIMAL_MAX_PRECISION when calculating value length without 
          adjusting precision and decimals. As a result, a DECIMAL 
          constant with more than 65 digits ended up having length less 
          than precision or decimals which led to assertion failures. 
           
          Fixed by modifying my_decimal_precision_to_length() so that 
          precision is truncated to DECIMAL_MAX_PRECISION only for Field 
          object which is indicated by the new 'truncate' parameter. 
           
          Another inconsistency fixed by this patch is how DECIMAL 
          constants and expressions are handled for CREATE ... SELECT. 
          create_tmp_field_from_item() (which is used for constants) was 
          changed as a part of the bugfix for bug #24907 to handle long 
          DECIMAL constants gracefully. Item_func::tmp_table_field() 
          (which is used for expressions) on the other hand was still 
          using a simplistic approach when creating a Field_new_decimal 
          from a DECIMAL expression. 
    ------------------------------------------------------------
    revno: 2555.413.124
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-07-03 13:39:22 +0500
    message:
      5.0-bugteam->5.1-bugteam merge
        ------------------------------------------------------------
        revno: 1810.3929.3
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-07-03 13:35:00 +0500
        message:
          Bug#45806 crash when replacing into a view with a join!
          The crash happend because for views which are joins
          we have table_list->table == 0 and 
          table_list->table->'any method' call leads to crash.
          The fix is to perform table_list->table->file->extra()
          method for all tables belonging to view.
        ------------------------------------------------------------
        revno: 1810.3929.2
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.0-bugteam
        timestamp: Fri 2009-07-03 10:36:10 +0200
        message:
          Prepare for push
    ------------------------------------------------------------
    revno: 2555.413.123
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-07-03 13:22:06 +0500
    message:
      Bug#42364 SHOW ERRORS returns empty resultset after dropping non existent table
      enabled message storing into error message list
      for 'drop table' command
    ------------------------------------------------------------
    revno: 2555.413.122
    committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Fri 2009-07-03 10:33:34 +0200
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.489.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45807-5.1-bugteam
        timestamp: Thu 2009-07-02 17:42:00 +0300
        message:
          Bug #45807: crash accessing partitioned table and sql_mode
          contains ONLY_FULL_GROUP_BY
          
          The partitioning code needs to issue a Item::fix_fields()
          on the partitioning expression in order to prepare 
          it for being evaluated.
          It does this by creating a special table and a table list 
          for the scope of the partitioning expression.
          But when checking ONLY_FULL_GROUP_BY the 
          Item_field::fix_fields() was relying that there always be
          cached_table set and was trying to use it to get the 
          select_lex of the SELECT the field's table is in.
          But the cached_table was not set by the partitioning code
          that creates the artificial TABLE_LIST used to resolve the
          partitioning expression and this resulted in a crash.
           
          Fixed by rectifying the following errors :
          1. Item_field::fix_fields() : the code that check for 
          ONLY_FULL_GROUP_BY relies on having tables with 
          cacheable_table set. This is mostly true, the only 
          two exceptions being the partitioning context table
          and the trigger context table.
          Fixed by taking the current parsing context if no pointer
          to the TABLE_LIST instance is present in the cached_table.
          
          2. fix_fields_part_func() : 
          
          2a. The code that adds the table being created to the 
          scope for the partitioning expression is mostly a copy 
          of the add_table_to_list and friends with one exception :
          it was not marking the table as cacheable (something that
          normal add_table_to_list is doing). This caused the 
          problem in the check for ONLY_FULL_GROUP_BY in 
          Item_field::fix_fields() to appear.
          Fixed by setting the correct members to make the table
          cacheable.
          The ideal structural fix for this is to use a unified 
          interface for adding a table to a table list 
          (add_table_to_list?) : noted in a TODO comment
          
          2b. The Item::fix_fields() was called with a NULL destination
          pointer. This causes uninitalized memory reads in the 
          overloaded ::fix_fields() function (namely 
          Item_field::fix_fields()) as it expects a non-zero pointer 
          there. Fixed by passing the source pointer similarly to how 
          it's done in JOIN::prepare().
        ------------------------------------------------------------
        revno: 2555.489.1
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-45902
        timestamp: Thu 2009-07-02 15:40:27 +0200
        message:
          Merge 5.0 -> 5.1 of fix for bug 45902
        ------------------------------------------------------------
        revno: 1810.3929.1
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-work
        timestamp: Thu 2009-07-02 13:22:12 +0200
        message:
          Fix for Bug#45902 rpl_sp fails sporadically in check testcases
          Details:
          - Add "sync_slave_with_master" at test end
          - Restore the initial value of log_bin_trust_function_creators
    ------------------------------------------------------------
    revno: 2555.413.121
    committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Fri 2009-07-03 10:32:17 +0200
    message:
      Prepare for push
        ------------------------------------------------------------
        revno: 2555.488.1
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.1-gca
        timestamp: Fri 2009-07-03 10:23:16 +0200
        message:
          Bug#15866 Prepared for push on 5.1
        ------------------------------------------------------------
        revno: 1810.3920.18
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.0-gca
        timestamp: Fri 2009-07-03 10:19:32 +0200
        message:
          Bug#15866 Prepared for push on 5.0
    ------------------------------------------------------------
    revno: 2555.413.120
    committer: V Narayanan<v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-45793-1
    timestamp: Thu 2009-07-02 13:34:23 +0530
    message:
      Bug#45793 macce charset causes error with IBMDB2I
      
      Creating an IBMDB2I table with the macce character set
      is successful, but any attempt to insert data into the
      table was failing.
      
      This was happening because the character set name "macce"
      is not a valid iconv descriptor for IBM i PASE. This patch
      adds an override to convertTextDesc to use the equivalent
      valid iconv descriptor "IBM-1282" instead.
    ------------------------------------------------------------
    revno: 2555.413.119
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 45790-51
    timestamp: Wed 2009-07-01 14:32:04 +0200
    message:
      Merge from 5.0
        ------------------------------------------------------------
        revno: 1810.3920.17
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 45790-50
        timestamp: Wed 2009-07-01 14:09:44 +0200
        message:
          Bug #45790 Potential DoS vector: Writing of user input to log
          without proper formatting
                
          The problem is that a suitably crafted database identifier
          supplied to COM_CREATE_DB or COM_DROP_DB can cause a SIGSEGV,
          and thereby a denial of service. The database name is printed
          to the log without using a format string, so potential
          attackers can control the behavior of my_b_vprintf() by
          supplying their own format string. A CREATE or DROP privilege
          would be required.
                
          This patch supplies a format string to the printing of the
          database name. A test case is added to mysql_client_test.
    ------------------------------------------------------------
    revno: 2555.413.118
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-01 11:07:02 +0530
    message:
      merge to 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.486.2
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.1-bt-to-push
        timestamp: Tue 2009-06-30 19:40:38 +0100
        message:
          merge: 5.1-bt bug branch --> 5.1-bt latest
            ------------------------------------------------------------
            revno: 2555.487.1
            committer: Luis Soares <luis.soares@sun.com>
            branch nick: 5.1-bt
            timestamp: Sun 2009-06-07 23:28:08 +0100
            message:
              BUG#42941: --database paramater to mysqlbinlog fails with RBR
                          
              mysqlbinlog --database parameter was being ignored when processing
              row events. As such no event filtering would take place.
                          
              This patch addresses this by deploying a call to shall_skip_database
              when table_map_events are handled (as these contain also the name of
              the database). All other rows events referencing the table id for the
              filtered map event, will also be skipped.
        ------------------------------------------------------------
        revno: 2555.486.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-06-30 15:29:10 -0300
        message:
          Post-merge fix for Innodb snapshot.
          Add new header to Makefile.am so it gets bundled.
    ------------------------------------------------------------
    revno: 2555.413.117
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-07-01 11:06:05 +0530
    message:
      Fix build failure after applying Innodb snapshot 5.1-ss5282
      
      After applying Innodb snapshot 5.1-ss5282, build was broken
      because of missing header file. 
      
      Adding the header file to Makefile.am after informing the 
      innodb developers.
    ------------------------------------------------------------
    revno: 2555.413.116
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 43414-51
    timestamp: Mon 2009-06-29 16:00:47 +0200
    message:
      Merge from 5.0
        ------------------------------------------------------------
        revno: 1810.3920.16
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-50
        timestamp: Mon 2009-06-29 15:17:01 +0200
        message:
          Merge from 5.0-bt
    ------------------------------------------------------------
    revno: 2555.413.115
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-29 18:38:19 +0530
    message:
      merge to mysql-5.1-bugteam branch
        ------------------------------------------------------------
        revno: 2555.485.3
        committer: Christoffer Hall <hall@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-29 14:56:41 +0200
        message:
          Merge from team tree
        ------------------------------------------------------------
        revno: 2555.485.2
        committer: Christoffer Hall <hall@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-29 14:55:22 +0200
        message:
          Merge from main branch
        ------------------------------------------------------------
        revno: 2555.485.1
        committer: Christoffer Hall <hall@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-22 14:43:19 +0200
        message:
          BUG#42721 configure.in invokes 'nm' directly
          
          A hardcoded use of nm and libc was put into configure.in. This broke
          cross-compiling and is bad practice. Fitting variables now used. 
    ------------------------------------------------------------
    revno: 2555.413.114
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-29 18:33:11 +0530
    message:
      merge to mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.484.3
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-innodb
        timestamp: Thu 2009-06-11 18:42:25 +0530
        message:
          Applying InnoDB snashot 5.1-ss5282, Add TestCase for BUG#40565
          
          Merge the test case from 5.0 to 5.1 for BUG#40565
          
          Detailed revision comments:
          
          r5233 | marko | 2009-06-03 15:12:44 +0300 (Wed, 03 Jun 2009) | 11 lines
          branches/5.1: Merge the test case from r5232 from branches/5.0:
            ------------------------------------------------------------------------
            r5232 | marko | 2009-06-03 14:31:04 +0300 (Wed, 03 Jun 2009) | 21 lines
          
            branches/5.0: Merge r3590 from branches/5.1 in order to fix Bug #40565
            (Update Query Results in "1 Row Affected" But Should Be "Zero Rows").
          
            Also, add a test case for Bug #40565.
          
            rb://128 approved by Heikki Tuuri
            ------------------------------------------------------------------------
        ------------------------------------------------------------
        revno: 2555.484.2
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-innodb
        timestamp: Thu 2009-06-11 18:35:12 +0530
        message:
          Applying InnoDB snashot 5.1-ss5282, Fix for BUG#45097
          
          BUG#45097 - Hang during recovery, redo logs for doublewrite buffer pages 
          
          Detailed revision comments:
          
          r5128 | vasil | 2009-05-26 17:26:37 +0300 (Tue, 26 May 2009) | 7 lines
          branches/5.1:
          
          Fix Bug#45097 Hang during recovery, redo logs for doublewrite buffer pages
          
          Do not write redo log for the pages in the doublewrite buffer. Also, do not
          make a dummy change to the page because this is not needed.
          
          r5150 | vasil | 2009-05-27 18:56:03 +0300 (Wed, 27 May 2009) | 4 lines
          branches/5.1:
          
          Whitespace fixup.
        ------------------------------------------------------------
        revno: 2555.484.1
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-innodb
        timestamp: Thu 2009-06-11 18:21:54 +0530
        message:
          Applying InnoDB snashot 5.1-ss5282, PRE-Fix for BUG#45097
          
          BUG#45097 - Hang during recovery, redo logs for doublewrite buffer pages 
          
          Detailed revision comments:
          
          r5126 | vasil | 2009-05-26 16:57:12 +0300 (Tue, 26 May 2009) | 9 lines
          branches/5.1:
          
          Preparation for the fix of
          Bug#45097 Hang during recovery, redo logs for doublewrite buffer pages 
          
          Non-functional change: move FSP_* macros from fsp0fsp.h to a new file
          fsp0types.h. This is needed in order to be able to use FSP_EXTENT_SIZE 
          in mtr0log.ic.
          
          r5127 | vasil | 2009-05-26 17:05:43 +0300 (Tue, 26 May 2009) | 9 lines
          branches/5.1:
          
          Preparation for the fix of
          Bug#45097 Hang during recovery, redo logs for doublewrite buffer pages
          
          Do not include unnecessary headers mtr0log.h and fut0lst.h in trx0sys.h
          and include fsp0fsp.h just before it is needed. This is needed in order
          to be able to use TRX_SYS_SPACE in mtr0log.ic.
    ------------------------------------------------------------
    revno: 2555.413.113
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-29 17:59:44 +0530
    message:
      Null merge mysql-5.0-bugteam to mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3920.15
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Mon 2009-06-29 17:57:22 +0530
        message:
          Additional Fix for BUG#40565 - Update Query Results in "1 Row Affected" 
                                         But Should Be "Zero Rows"
          
          
          After applying the innodb snapshot 5.0-ss5406 for bug#40565, the windows push build
          tests failed because of the missing cast of void * pointer in row0sel.c file
          
          Informed the innodb developers and received patch by email.
    ------------------------------------------------------------
    revno: 2555.413.112
    committer: Luis Soares <luis.soares@sun.com>
    branch nick: 5.1-bt-to-push
    timestamp: Mon 2009-06-29 12:00:58 +0100
    message:
      merge: 5.1-bt bug branch --> 5.1-bt latest
        ------------------------------------------------------------
        revno: 2555.483.1
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.1-bt-push
        timestamp: Sat 2009-06-27 14:18:47 +0100
        message:
          BUG#42851: Spurious "Statement is not safe to log in statement
                     format." warnings
                
          Despite the fact that a statement would be filtered out from binlog, a
          warning would still be thrown if it was issued with the LIMIT.
                
          This patch addresses this issue by checking the filtering rules before
          printing out the warning.
    ------------------------------------------------------------
    revno: 2555.413.111
    committer: V Narayanan<v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-45196-1
    timestamp: Mon 2009-06-29 07:32:17 +0530
    message:
      Bug#45196  Some collations do not sort correctly with IBMDB2I
      
      Some collations--including cp1250_czech_cs,latin2_czech_cs,
      ucs2/utf8_czech_ci, ucs2/utf8_danish_ci--are not being
      sorted correctly by the IBMDB2I storage engine. This
      was being caused because the sort order used by DB2 is
      incompatible with the order expected by MySQL.
      
      This patch removes support for the cp1250_czech_cs and
      latin2_czech_cs collations because it has been determined
      that the sort order used by DB2 is incompatible with the
      order expected by MySQL. Users needing a czech collation
      with IBMDB2I are encouraged to use a Unicode-based collation 
      instead of these single-byte collations. This patch also
      modifies the DB2 sort sequence used for ucs2/utf8_czech_ci
      and ucs2/utf8_danish_ci collations to better match the
      sorting expected by MySQL. This will only affect indexes
      or tables that are newly created through the IBMDB2I storage
      engine. Existing IBMDB2I tables will retain the old sort
      sequence until recreated.
    ------------------------------------------------------------
    revno: 2555.413.110
    committer: Evgeny Potemkin <epotemkin@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-26 19:59:41 +0000
    message:
      Merged bug#45266.
        ------------------------------------------------------------
        revno: 2555.482.1
        committer: Evgeny Potemkin <epotemkin@mysql.com>
        branch nick: 45782-bug-5.1-bugteam
        timestamp: Fri 2009-06-26 19:57:42 +0000
        message:
          Bug#45266: Uninitialized variable lead to an empty result.
          
          The TABLE::reginfo.impossible_range is used by the optimizer to indicate
          that the condition applied to the table is impossible. It wasn't initialized
          at table opening and this might lead to an empty result on complex queries:
          a query might set the impossible_range flag on a table and when the query finishes,
          all tables are returned back to the table cache. The next query that uses the table
          with the impossible_range flag set and an index over the table will see the flag
          and thus return an empty result.
          
          The open_table function now initializes the TABLE::reginfo.impossible_range
          variable.
    ------------------------------------------------------------
    revno: 2555.413.109
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 45548-5.1
    timestamp: Thu 2009-06-25 12:25:23 -0300
    message:
      Bug#45548: XA transaction without access to InnoDB tables crashes the server
      
      The problem is that the one phase commit function failed to
      properly end a empty transaction. The solution is to ensure
      that the transaction cleanup procedure is invoked even for
      empty transactions.
    ------------------------------------------------------------
    revno: 2555.413.108
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-26 18:00:40 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3920.14
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-06-26 17:59:43 +0400
        message:
          Automerge.
    ------------------------------------------------------------
    revno: 2555.413.107
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-26 17:59:52 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.481.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my51-bug41710
        timestamp: Fri 2009-06-26 17:52:44 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 1810.3928.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my50-bug41710
        timestamp: Thu 2009-06-18 17:11:47 +0400
        message:
          Bug #41710: MySQL 5.1.30 crashes on the latest OpenSolaris 10 
           
          Change the default optimization level for Sun Studio to "-O1". 
          This is a workaround for a Sun Studio bug (see bug #41710 
          comments for details): 
           
          1. Use $GCC instead of $ac_cv_prog_gcc to check for gcc, since 
          the first one is the only documented way to do it. 
           
          2. Use $GXX instead of $ac_cv_prog_cxx_g to check for g++, 
          since the latter is set to "yes" when the C++ compiler accepts 
          "-g" which is the case for both g++ and CC. 
           
          3. When building with Sun Studio, set the default values for 
          CFLAGS/CXXFLAGS to "-O1", since unlike GCC, Sun Studio 
          interprets "-O" as "-xO3" (see the manual pages for cc and CC). 
    ------------------------------------------------------------
    revno: 2555.413.106
    committer: Luis Soares <luis.soares@sun.com>
    branch nick: 5.1-bt-post-push-fix
    timestamp: Fri 2009-06-26 12:18:50 +0100
    message:
      local merge: 5.1-bt bug branch --> 5.1-bt latest
        ------------------------------------------------------------
        revno: 2555.476.8
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.1-bt-push
        timestamp: Fri 2009-06-26 12:05:56 +0100
        message:
          BUG#44270: Post-push fix
          
          The test case added failed sporadically on PB. This is due to the
          fact that the user thread in some cases is waiting for slave IO
          to stop and then check the error number. Thence, sometimes the
          user thread would race for the error number with IO thread.
          
          This post push fix addresses this by replacing the wait for slave
          io to stop with a wait for slave io error (as it seems it was
          added in 6.0 also after patch on which this is based was
          pushed). This implied backporting wait_for_slave_io_error.inc
          from 6.0 also.
    ------------------------------------------------------------
    revno: 2555.413.105
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-26 13:32:56 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.480.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my51-bug45309
        timestamp: Tue 2009-06-23 10:15:27 +0400
        message:
          Bug #45309: InnoDB does not rollback for delete and update 
                      queries if query was killed 
           
          Since we rely on thd->is_error() to decide whether we should 
          COMMIT or ROLLBACK after a query execution, check the query 
          'killed' state and throw an error before calling 
          ha_autocommit_or_rollback(), not after. 
           
          The patch was tested manually. For reliable results, the test 
          case would have to KILL QUERY while a DELETE/UPDATE query in 
          another thread is still running. I don't see a way to achieve 
          this kind of synchronization in our test suite (no debug_sync 
          in 5.1).
    ------------------------------------------------------------
    revno: 2555.413.104
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 34002-51
    timestamp: Fri 2009-06-26 10:46:21 +0200
    message:
      Merge from 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.476.7
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.1-bt-push
        timestamp: Fri 2009-06-26 00:20:14 +0100
        message:
          local merge: 5.1-bt bug branch --> 5.1-bt latest
            ------------------------------------------------------------
            revno: 2555.479.1
            committer: Luis Soares <luis.soares@sun.com>
            branch nick: 5.1-bt
            timestamp: Wed 2009-06-03 15:14:18 +0100
            message:
              BUG#44270: RESET SLAVE does not reset Last_IO_Error or Last_IO_Errno
              
              The server was not cleaning the last IO error and error number when
              resetting slave.
              
              This patch addresses this issue by backporting into 5.1 part of the
              patch in BUG 34654. A fix for this issue had already been pushed into
              6.0 as part of the aforementioned bug, however the patch also included
              some refactoring. The fix for 5.1 does not take into account the
              refactoring part.
        ------------------------------------------------------------
        revno: 2555.476.6
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-25 15:58:59 +0200
        message:
          Automerge
            ------------------------------------------------------------
            revno: 2555.478.1
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: 51-bug45336
            timestamp: Thu 2009-06-25 15:55:26 +0200
            message:
              Bug#45336 --enable-foobar doesn't work for any plugin foobar.
              
              Because of a regression introduced by bug#19027 the option --enable-foobar
              doesn't work anymore for any plugin 'foobar'. The reason is that plugin
              names are tristate options variables with optional parameters and integer
              values are not accepted. Since the 'enable' prefix attempts to assign '1'
              to the option the operation fails.
              
              This patch translates any number n assigned to a plugin variable of type ENUM
              to be the corresponding enumerated item. As a side effect --enable-foobar and
              --disable-foobar will also start working again.
        ------------------------------------------------------------
        revno: 2555.476.5
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-25 15:52:50 +0500
        message:
          Bug#45412 SHOW CREATE TRIGGER does not require privileges to disclose trigger data
          Added privilege checking to SHOW CREATE TRIGGER code.
        ------------------------------------------------------------
        revno: 2555.476.4
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-25 14:23:21 +0500
        message:
          automerge
            ------------------------------------------------------------
            revno: 2555.477.1
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Thu 2009-06-25 15:22:46 +0530
            message:
              NULL MERGE of innodb snapshot 5.0-ss5406 into 5.1 branch
            ------------------------------------------------------------
            revno: 1810.3920.13
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Thu 2009-06-25 15:20:26 +0530
            message:
              Applying InnoDB snashot 5.0-ss5406, part 2. Fixes BUG#40565
              
              BUG#40565 - Update Query Results in "1 Row Affected" But Should Be "Zero Rows"
              
              Detailed revision comments:
              
              r5232 | marko | 2009-06-03 14:31:04 +0300 (Wed, 03 Jun 2009) | 21 lines
              branches/5.0: Merge r3590 from branches/5.1 in order to fix Bug #40565
              (Update Query Results in "1 Row Affected" But Should Be "Zero Rows").
              
              Also, add a test case for Bug #40565.
              
              rb://128 approved by Heikki Tuuri
                ------------------------------------------------------------------------
                r3590 | marko | 2008-12-18 15:33:36 +0200 (Thu, 18 Dec 2008) | 11 lines
              
                branches/5.1: When converting a record to MySQL format, copy the default
                column values for columns that are SQL NULL.  This addresses failures in
                row-based replication (Bug #39648).
              
                row_prebuilt_t: Add default_rec, for the default values of the columns in
                MySQL format.
              
                row_sel_store_mysql_rec(): Use prebuilt->default_rec instead of
                padding columns.
              
                rb://64 approved by Heikki Tuuri
                ------------------------------------------------------------------------
            ------------------------------------------------------------
            revno: 1810.3920.12
            committer: Satya B <satya.bn@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Thu 2009-06-25 15:06:12 +0530
            message:
              Applying InnoDB snashot 5.0-ss5406, part 1. Fixes BUG#38479
              
              BUG#38479 - valgrind warnings in show table status for innodb tables
              
              Detailed revision comments:
              
              r5080 | vasil | 2009-05-22 14:45:34 +0300 (Fri, 22 May 2009) | 6 lines
              branches/5.0:
              
              Fix Bug#38479 valgrind warnings in show table status for innodb tables
              
              by initializing prebuilt->hint_need_to_fetch_extra_cols.
        ------------------------------------------------------------
        revno: 2555.476.3
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-25 13:44:50 +0500
        message:
          test case fix
        ------------------------------------------------------------
        revno: 2555.476.2
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-25 11:22:39 +0500
        message:
          Bug#45485 replication different between master/slaver using procedure with gbk
          In Item_param::set_from_user_var
          value.cs_info.character_set_client is set
          to 'fromcs' value. It's wrong, it should be set to
          thd->variables.character_set_client.
        ------------------------------------------------------------
        revno: 2555.476.1
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-06-24 13:16:36 +0200
        message:
          Merged from gca branch
    ------------------------------------------------------------
    revno: 2555.413.103
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 34002-51
    timestamp: Thu 2009-06-25 17:41:05 +0200
    message:
      Bug #34002 uninitialized Rows_examined for some admin queries
      such as quit and shutdown
      
      Logging to slow log can produce an undetermined value for
      Rows_examined in special cases. In debug mode this manifests
      itself as any of the various marker values used to mark
      uninitialized memory on various platforms.
      
      If logging happens on a THD object that hasn't performed any
      row reads (on this or any previous connections), the
      THD::examined_row_count may be uninitialized. This patch adds
      initialization for this attribute.
      
      No automated test cases are added, as for this to be
      meaningful, we need to ensure that we're using a THD
      fulfilling the above conditions. This is hard to do in the
      mysql-test-run framework. The patch has been verified
      manually, however, by restarting mysqld and running the test
      included with the bug report.
    ------------------------------------------------------------
    revno: 2555.413.102
    committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
    branch nick: 5.1-gca
    timestamp: Wed 2009-06-24 12:55:53 +0200
    message:
      Bug#45293 Prepared on 5.1 gca branch
        ------------------------------------------------------------
        revno: 2555.475.1
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Tue 2009-06-23 14:32:14 +0200
        message:
          Bug#45293 Supressed some warnings
    ------------------------------------------------------------
    revno: 2555.413.101
    committer: Andrei Elkin <aelkin@mysql.com>
    branch nick: 5.1-bt-bug38240-mi_is_zero
    timestamp: Tue 2009-06-23 12:10:04 +0300
    message:
      Bug #38240 Crash in safe_mutex_lock () thr_mutex.c line 97 on rotate_relay_log 
                  
      The reason for the crash was rotate_relay_log (mi=0x0) did not verify
      the passed value of active_mi.  There are more cases where active_mi
      is supposed to be non-zero e.g change_master(), stop_slave(), and it's
      reasonable to protect from a similar crash all of them with common
      fixes.
                  
      Fixed with spliting end_slave() in slave threads release and slave
      data clean-up parts (a new close_active_mi()). The new function is
      invoked at the very end of close_connections() so that all users of
      active_mi are proven to have left.
    ------------------------------------------------------------
    revno: 2555.413.100
    committer: Martin Hansson <martin.hansson@sun.com>
    branch nick: 5.1bt
    timestamp: Mon 2009-06-22 16:01:42 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2555.474.1
        committer: Martin Hansson <martin.hansson@sun.com>
        branch nick: 5.1bt-gca-commit
        timestamp: Mon 2009-06-22 14:51:33 +0200
        message:
          
          Bug#44653: Server crash noticed when executing random queries with partitions.
          
          When opening a table, it is imperative that the flag
          TABLE::auto_increment_field_not_null be false. But if an error occured during
          the creation of a table (e.g. the table exists already) with an auto_increment
          column and a BEFORE trigger that used the INSERT ... SELECT construct, the
          flag was not reset until after error checking. Thus if an error occured,
          select_insert::send_data() returned immediately and it was not reset (see * in
          pseudocode below).  Crash happened if the table was opened again. Fixed by
          resetting the flag after error checking.
          
          nested-loops_join():
            for each row in SELECT table {
              select_insert::send_data():
                if a values is supplied for AUTO_INCREMENT column
                   table->auto_increment_field_not_null= TRUE
                 else
                   table->auto_increment_field_not_null= FALSE
                 if (error)
                   return 1; *
                 if (table->auto_increment_field_not_null == FALSE)
                   ...
                 table->auto_increment_field_not_null == FALSE 
            }
          <-- table returned to table cache and later retrieved by open_table: 
          open_table():
            assert(table->auto_increment_field_not_null)
    ------------------------------------------------------------
    revno: 2555.413.99
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-06-22 15:01:16 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 1810.3920.11
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Mon 2009-06-22 14:50:46 +0300
        message:
          automerge
    ------------------------------------------------------------
    revno: 2555.413.98
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-06-22 14:57:51 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.472.2
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-43572-3
        timestamp: Mon 2009-06-22 17:23:02 +0530
        message:
          merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.473.1
            committer: V Narayanan<v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-43572-2
            timestamp: Mon 2009-06-22 16:40:34 +0530
            message:
              Bug#43572  Handle failures from hash_init
              
              The merge from http://lists.mysql.com/commits/76678 caused the 
              growth_size parameter to the my_init_dynamic_array function to
              be ignored. This patch corrects the problem.
        ------------------------------------------------------------
        revno: 2555.472.1
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-22 16:58:00 +0530
        message:
          Applying InnoDB snashot 5.1-ss5343, Fixes BUG#45357
          
          1. BUG#45357 - 5.1.35 crashes with Failing assertion: index->type & DICT_CLUSTERED
          
          2. Also fixes the compilation problem when the flag -DUNIV_MUST_NOT_INLINE
          
          Detailed revision comments:
          
          r5340 | marko | 2009-06-17 12:11:49 +0300 (Wed, 17 Jun 2009) | 4 lines
          branches/5.1: row_unlock_for_mysql(): When the clustered index is unknown,
          refuse to unlock the record.
          (Bug #45357, caused by the fix of Bug #39320).
          rb://132 approved by Sunny Bains.
          r5339 | marko | 2009-06-17 11:01:37 +0300 (Wed, 17 Jun 2009) | 2 lines
          branches/5.1: Add missing #include "mtr0log.h" so that the code compiles
          with -DUNIV_MUST_NOT_INLINE.
    ------------------------------------------------------------
    revno: 2555.413.97
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: merge-5.1-bugteam
    timestamp: Mon 2009-06-22 14:53:22 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.471.2
        committer: Jonathan Perkin <jperkin@sun.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-06-16 14:00:04 +0200
        message:
          Raise version number after cloning 5.1.36
        ------------------------------------------------------------
        revno: 2555.471.1
        tags: mysql-5.1.36, clone-5.1.36-build
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: fix-5.1-bugteam
        timestamp: Tue 2009-06-16 13:21:55 +0300
        message:
          version change
        ------------------------------------------------------------
        revno: 1810.3927.1
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.0-bugteam
        timestamp: Tue 2009-06-16 10:27:53 +0200
        message:
          fixed version
    ------------------------------------------------------------
    revno: 2555.413.96
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-cs_coll
    timestamp: Fri 2009-06-19 18:57:42 +0200
    message:
      Merge 5.0 -> 5.1, no conflicts, no changes
        ------------------------------------------------------------
        revno: 1810.3920.10
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-cs_coll
        timestamp: Fri 2009-06-19 18:53:10 +0200
        message:
          Merge of latest changes into local tree, no conflicts
    ------------------------------------------------------------
    revno: 2555.413.95
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-cs_coll
    timestamp: Fri 2009-06-19 18:34:49 +0200
    message:
      Merge of latest changes into local tree
        ------------------------------------------------------------
        revno: 2555.470.1
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B36654-5.1-bugteam
        timestamp: Fri 2009-06-19 18:32:10 +0300
        message:
          automerge
        ------------------------------------------------------------
        revno: 1810.3926.1
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B36654-5.0-bugteam
        timestamp: Fri 2009-06-19 15:52:20 +0300
        message:
          Bug #36654: mysqld_multi cannot start instances with different versions 
          occasionally.
          
          mysql_multi can call mysqld_safe. In doing this it's not changing the 
          current working directory. This may cause confusion in the case where 
          mysqld_multi is handling instances of servers of different versions 
          and the current working directory is the installation directory of one 
          of these servers.
          
          Fixed by enhancing the meaning of basedir in [mysqldN] sections of 
          mysqld_multi. If specified, mysqld_multi will change the current 
          working directory to the basedir directory before starting the server 
          in mysqld_multi ... start ... and then change it back to what it was.
    ------------------------------------------------------------
    revno: 2555.413.94
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-cs_coll
    timestamp: Fri 2009-06-19 17:44:29 +0200
    message:
      Merge 5.0 -> 5.1 of fixes for various funcs_1 related bugs
        ------------------------------------------------------------
        revno: 1810.3920.9
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-cs_coll
        timestamp: Fri 2009-06-19 17:21:20 +0200
        message:
          Merge of fix for bug 40545, 40209, 40618, 38346 into tree
        ------------------------------------------------------------
        revno: 1810.3925.1
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.0-bugteam-ccs
        timestamp: Fri 2009-06-19 17:04:25 +0200
        message:
          Fix for Bug#40545, Bug#40209, Bug#40618, Bug#38346
          
            Details:
            - Limit the queries to character sets and collations
              which are most probably available in all build types.
              But try to preserve the intention of the tests.
            - Remove the variants adjusted to some build types.
          
            Note:
            1. The results of the review by Bar are included.
            2. I am not able to check the correctness of this patch
               on any existing build type and any MySQL version.
               So it could happen that the new test fails somewhere.
    ------------------------------------------------------------
    revno: 2555.413.93
    committer: V Narayanan<v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-43572-1
    timestamp: Fri 2009-06-19 17:58:46 +0530
    message:
      merging with mysql-5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3920.8
        committer: V Narayanan<v.narayanan@sun.com>
        branch nick: mysql-5.0-bugteam-43572-1
        timestamp: Fri 2009-06-19 17:29:21 +0530
        message:
          Bug#43572 Handle failures from hash_init
                
          Failure to allocate memory for the hash->array element,
          caused hash_init to return without initializing the other
          members of the hash. Thus although the dynamic array
          buffer may be allocated at a later point in the code, the
          incompletely initialized hash caused fatal failures.
          
          This patch moves the initialization of the other members
          of the hash above the array allocation, so that the usage
          of this hash will not result in fatal failures.
    ------------------------------------------------------------
    revno: 2555.413.92
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Fri 2009-06-19 12:27:24 +0100
    message:
      Post-fix for BUG#43929.
    ------------------------------------------------------------
    revno: 2555.413.91
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-19 14:31:09 +0500
    message:
      null merge
        ------------------------------------------------------------
        revno: 2555.469.1
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 32223n-51
        timestamp: Fri 2009-06-19 11:29:21 +0200
        message:
          Null-merge from 5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3920.7
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 32223n-50
        timestamp: Fri 2009-06-19 11:27:19 +0200
        message:
          Bug #32223 SETting max_allowed_packet variable
                
          Inconsistent behavior of session variable max_allowed_packet 
          (and net_buffer_length); only assignment to the global variable 
          has any effect, without this being obvious to the user.
                
          The patch for Bug#22891 is backported to 5.0, making the two
          session variables read-only. As this is a backport to GA 
          software, the error used when trying to assign to the read-
          only variable is ER_UNKNOWN_ERROR. The error message is the 
          same as in 5.1+.
    ------------------------------------------------------------
    revno: 2555.413.90
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-06-19 13:24:43 +0500
    message:
      Bug#44834 strxnmov is expected to behave as you'd expect
      The problem: described in the bug report.
      The fix:
      --increase buffers where it's necessary
        (buffers which are used in stxnmov)
      --decrease buffer lengths which are used
    ------------------------------------------------------------
    revno: 2555.413.89
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 42599-5.1
    timestamp: Thu 2009-06-18 20:21:47 -0300
    message:
      Bug#42599: error: `pthread_setschedprio' was not declared in this scope
      
      The problem was that a pthread.h header used by gcc did not
      declare the pthread_setscheprio, yet the function is implemented
      by the function is implemented, causing a autoconf check to pass
      and compilation with C++ to fail. The solution is to add a
      autoconf check to ensure that the function is properly declared.
    ------------------------------------------------------------
    revno: 2555.413.88
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Thu 2009-06-18 19:25:14 +0100
    message:
      auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.468.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-06-16 16:04:30 +0100
        message:
          BUG#45511 rpl.rpl_binlog_corruption fails with warning messages in Valgrind
          
          This is a backport of BUG#43076.
    ------------------------------------------------------------
    revno: 2555.413.87
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Thu 2009-06-18 18:58:56 +0100
    message:
      merge mysql-5.0-bugteam --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3920.6
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.0-bugteam-push
        timestamp: Thu 2009-06-18 18:28:47 +0100
        message:
          auto-merge mysql-5.0-bugteam (local) --> mysql-5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3924.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-06-11 02:08:40 +0100
        message:
          BUG#34687 Error in bin-log after shutdown restart binlog was not closed properly
          
          While reading a binary log that is being used by a master or was not properly
          closed, most likely due to a crash, the following warning message is being
          printed out: "Warning: this binlog was not closed properly. Most probably mysqld
          crashed writing it.". This was scaring our users as the message was not taking
          into account the possibility of the file is being just used by the master.
          
          To avoid unnecessarily scaring our users, we replace the original message by the
          following one: Warning: "this binlog is either is use or was not closed properly.".
    ------------------------------------------------------------
    revno: 2555.413.86
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Thu 2009-06-18 15:16:14 +0100
    message:
      auto-merge mysql-5.1-bugteam (local) --> mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.467.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-06-18 14:52:46 +0100
        message:
          BUG#43929 binlog corruption when max_binlog_cache_size is exceeded
          
          Large transactions and statements may corrupt the binary log if the size of the
          cache, which is set by the max_binlog_cache_size, is not enough to store the
          the changes.
          
          In a nutshell, to fix the bug, we save the position of the next character in the
          cache before starting processing a statement. If there is a problem, we simply
          restore the position thus removing any effect of the statement from the cache.
          Unfortunately, to avoid corrupting the binary log, we may end up loosing changes
          on non-transactional tables if they do not fit in the cache. In such cases, we
          store an Incident_log_event in order to stop the slave and alert users that some
          changes were not logged.
          
          Precisely, for every non-transactional changes that do not fit into the cache,
          we do the following:
            a) the statement is *not* logged
            b) an incident event is logged after committing/rolling back the transaction,
            if any. Note that if a failure happens before writing the incident event to
            the binary log, the slave will not stop and the master will not have reported
            any error.
            c) its respective statement gives an error
          
          For transactional changes that do not fit into the cache, we do the following:
            a) the statement is *not* logged
            b) its respective statement gives an error
          
          To work properly, this patch requires two additional things. Firstly, callers to
          MYSQL_BIN_LOG::write and THD::binlog_query must handle any error returned and
          take the appropriate actions such as undoing the effects of a statement. We
          already changed some calls in the sql_insert.cc, sql_update.cc and sql_insert.cc
          modules but the remaining calls spread all over the code should be handled in
          BUG#37148. Secondly, statements must be either classified as DDL or DML because
          DDLs that do not get into the cache must generate an incident event since they
          cannot be rolled back.
    ------------------------------------------------------------
    revno: 2555.413.85
    committer: Martin Hansson <mhansson@mysql.com>
    branch nick: 5.1bt
    timestamp: Thu 2009-06-18 09:25:46 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2555.466.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt-gca
        timestamp: Tue 2009-06-16 16:36:15 +0200
        message:
          Bug#45168: assertion with convert() and empty set value
                
          The assertion in String::copy was added in order to avoid
          valgrind errors when the destination was the same as the source.
          Eased restriction to allow for the case when str == NULL.
    ------------------------------------------------------------
    revno: 2555.413.84
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-17 21:03:01 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3920.5
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Wed 2009-06-17 21:00:39 +0400
        message:
          Automerge.
    ------------------------------------------------------------
    revno: 2555.413.83
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-17 20:58:46 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.464.5
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-51
        timestamp: Wed 2009-06-17 17:50:27 +0200
        message:
          Merge from 5.1-bugteam upstream
        ------------------------------------------------------------
        revno: 2555.464.4
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-51
        timestamp: Wed 2009-06-17 17:33:22 +0200
        message:
          Merge from upstream 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.464.3
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-51
        timestamp: Wed 2009-06-17 16:56:44 +0200
        message:
          Merge from 5.0-bugteam
            ------------------------------------------------------------
            revno: 1810.3923.1
            committer: Staale Smedseng <staale.smedseng@sun.com>
            branch nick: 43414-50
            timestamp: Wed 2009-06-17 15:54:01 +0200
            message:
              Bug #43414 Parenthesis (and other) warnings compiling MySQL 
              with gcc 4.3.2
                    
              Compiling MySQL with gcc 4.3.2 and later produces a number of 
              warnings, many of which are new with the recent compiler
              versions.
                                
              This bug will be resolved in more than one patch to limit the
              size of changesets. This is the second patch, fixing more
              of the warnings.
        ------------------------------------------------------------
        revno: 1810.3922.1
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-50
        timestamp: Wed 2009-06-10 16:04:07 +0200
        message:
          Bug #43414 Parenthesis (and other) warnings compiling MySQL 
          with gcc 4.3.2
          
          Compiling MySQL with gcc 4.3.2 and later produces a number of 
          warnings, many of which are new with the recent compiler
          versions.
                      
          This bug will be resolved in more than one patch to limit the
          size of changesets. This is the second patch, fixing more
          of the warnings.
    ------------------------------------------------------------
    revno: 2555.413.82
    committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-17 20:12:50 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3920.4
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Wed 2009-06-17 20:10:48 +0400
        message:
          Disabled embedded server for the test case for bug #45236.
    ------------------------------------------------------------
    revno: 2555.413.81
    committer: Martin Hansson <mhansson@mysql.com>
    branch nick: 5.1bt
    timestamp: Wed 2009-06-17 17:34:53 +0200
    message:
      Merge
        ------------------------------------------------------------
        revno: 2555.465.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt-gca
        timestamp: Wed 2009-06-17 16:58:33 +0200
        message:
          Bug#44684: valgrind reports invalid reads in 
          Item_func_spatial_collection::val_str
                  
          When the concatenation function for geometry data collections
          reads the binary data it was not rigorous in checking that there
          is data available, leading to invalid reads and crashes.
          Fixed by making checking stricter.
    ------------------------------------------------------------
    revno: 2555.413.80
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-17 17:07:20 +0200
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.464.2
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-06-17 16:38:19 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 1810.3920.3
            committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Wed 2009-06-17 16:36:45 +0400
            message:
              Automerge.
        ------------------------------------------------------------
        revno: 2555.464.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-06-17 16:37:10 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 2555.463.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my51-bug45236
        timestamp: Wed 2009-06-17 15:50:50 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 1810.3921.1
        committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
        branch nick: my50-bug45236
        timestamp: Wed 2009-06-10 11:24:47 +0400
        message:
          Bug #45236: large blob inserts from mysqldump fail, possible 
                      memory issue ? 
           
          The mysql command line client could misinterpret some character 
          sequences as commands under some circumstances. 
           
          The upper limit for internal readline buffer was raised to 1 GB 
          (the same as for server's max_allowed_packet) so that any input 
          line is processed by add_line() as a whole rather than in 
          chunks.
    ------------------------------------------------------------
    revno: 2555.413.79
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-17 16:28:11 +0200
    message:
      Bug#43758 Query cache can lock up threads in 'freeing items' state
      
      This patch corrects a misstake in the test case for bug patch 43658.
      
      There was a race in the test case when the thread id was retrieved from the processlist.
      The result was that the same thread id was signalled twice and one thread id wasn't
      signalled at all.
      
      The affected platforms appears to be limited to linux.
    ------------------------------------------------------------
    revno: 2555.413.78
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: fix-5.1-bugteam
    timestamp: Tue 2009-06-16 12:59:57 +0300
    message:
      Addendum to the fix for bug #44821: move partition dependent test 
      to a test file that guarantees the presence of partition code
    ------------------------------------------------------------
    revno: 2555.413.77
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-06-16 10:49:04 +0200
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.462.2
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt
        timestamp: Tue 2009-06-16 10:43:13 +0200
        message:
          Merge
        ------------------------------------------------------------
        revno: 2555.462.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt
        timestamp: Tue 2009-06-16 10:34:32 +0200
        message:
          Merge
        ------------------------------------------------------------
        revno: 2555.461.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt-gca-commit
        timestamp: Wed 2009-06-10 11:56:00 +0200
        message:
          Bug#44821: select distinct on partitioned table returns wrong results
          
          Range analysis did not request sorted output from the storage engine,
          which cause partitioned handlers to process one partition at a time
          while reading key prefixes in ascending order, causing values to be 
          missed. Fixed by always requesting sorted order during range analysis.
          This fix is introduced in 6.0 by the fix for bug no 41136.
    ------------------------------------------------------------
    revno: 2555.413.76
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-06-16 10:44:36 +0200
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.460.5
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.1-bugteam
        timestamp: Tue 2009-06-16 10:35:42 +0200
        message:
          automerge
        ------------------------------------------------------------
        revno: 2555.460.4
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.1-bugteam
        timestamp: Tue 2009-06-16 10:33:13 +0200
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3920.2
            committer: Georgi Kodinov <gkodinov@mysql.com>
            branch nick: merge-5.0-bugteam
            timestamp: Mon 2009-06-15 17:58:23 +0200
            message:
              automerge
        ------------------------------------------------------------
        revno: 2555.460.3
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.1-bugteam
        timestamp: Mon 2009-06-15 18:17:34 +0200
        message:
          automerge
        ------------------------------------------------------------
        revno: 2555.460.2
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.1-bugteam
        timestamp: Mon 2009-06-15 17:57:06 +0200
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3920.1
            committer: Georgi Kodinov <gkodinov@mysql.com>
            branch nick: merge-5.0-bugteam
            timestamp: Mon 2009-06-15 17:29:26 +0200
            message:
              merged 5.0-main to 5.0-bugteam
        ------------------------------------------------------------
        revno: 2555.460.1
        committer: Georgi Kodinov <gkodinov@mysql.com>
        branch nick: merge-5.1-bugteam
        timestamp: Mon 2009-06-15 17:53:45 +0200
        message:
          merged 5.1-main -> 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.459.4
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Thu 2009-06-11 18:21:32 +0200
        message:
          Merge 5.0-build up to 5.1-build
          
          This is the backmerge of 5.0.74sp1 into the main sources,
          but effectively a null-merge, because the changes in that version
          were backports of changes already present in later sources.
            ------------------------------------------------------------
            revno: 1810.3857.24
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Thu 2009-06-11 16:32:47 +0200
            message:
              Merge main 5.0 -> 5.0-build
            ------------------------------------------------------------
            revno: 1810.3918.3
            author: Joerg.Bruehe@Sun.COM
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0
            timestamp: Thu 2009-06-11 13:49:04 +0200
            message:
              Merge back mysql-5.0.74sp1-release, no changes in current files
                ------------------------------------------------------------
                revno: 1810.3801.15
                tags: clone-5.0.74sp1-build, mysql-5.0.74sp1
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 15:38:00 +0200
                message:
                  after-backport fixes
                ------------------------------------------------------------
                revno: 1810.3801.14
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 13:53:30 +0200
                message:
                  missing files for libedit
                ------------------------------------------------------------
                revno: 1810.3801.13
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 13:38:10 +0200
                message:
                  adjust version string
                ------------------------------------------------------------
                revno: 1810.3801.12
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 13:35:25 +0200
                message:
                  backport #34773, commit 61127
                ------------------------------------------------------------
                revno: 1810.3801.11
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 13:14:37 +0200
                message:
                  backport #39591, commit 59390
                ------------------------------------------------------------
                revno: 1810.3801.10
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 13:03:29 +0200
                message:
                  backport #41437, commit 62803
                ------------------------------------------------------------
                revno: 1810.3801.9
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:57:03 +0200
                message:
                  backport #41456, commit 61847
                ------------------------------------------------------------
                revno: 1810.3801.8
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:52:45 +0200
                message:
                  backport #41470, commit 62661
                ------------------------------------------------------------
                revno: 1810.3801.7
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:45:37 +0200
                message:
                  backport #42014, commit 65523
                ------------------------------------------------------------
                revno: 1810.3801.6
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:42:50 +0200
                message:
                  missing files from 42419
                ------------------------------------------------------------
                revno: 1810.3801.5
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:38:22 +0200
                message:
                  backport 42366, copying certificates from 5.0
                ------------------------------------------------------------
                revno: 1810.3801.4
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:36:18 +0200
                message:
                  backport #42419, commits 66925, 66999
                ------------------------------------------------------------
                revno: 1810.3801.3
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:16:50 +0200
                message:
                  backport #43748, applying commits 70359 and 70377
                ------------------------------------------------------------
                revno: 1810.3801.2
                committer: Daniel Fischer <df@sun.com>
                branch nick: mysql-5.0-QSP
                timestamp: Thu 2009-04-30 12:04:37 +0200
                message:
                  Backported libedit changes.
            ------------------------------------------------------------
            revno: 1810.3918.2
            author: hery.ramilison@sun.com
            committer: MySQL Build Team <build@mysql.com>
            branch nick: mysql-5.0
            timestamp: Fri 2009-05-29 19:45:32 +0200
            message:
              Raise version number after cloning 5.0.83
        ------------------------------------------------------------
        revno: 2555.459.3
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Thu 2009-06-11 17:14:15 +0200
        message:
          Merge main 5.1 -> 5.1-build
        ------------------------------------------------------------
        revno: 2555.459.2
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Fri 2009-05-29 15:40:55 +0200
        message:
          Merge up 5.0-build into 5.1-build:
          mostly just the merge changesets,
          but also a change of Perl scripts to use "/usr/bin/perl" fixed.
            ------------------------------------------------------------
            revno: 1810.3857.23
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Thu 2009-05-28 21:58:48 +0200
            message:
              Merge main 5.0 into 5.0-build
            ------------------------------------------------------------
            revno: 1810.3857.22
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Wed 2009-05-27 09:49:26 +0200
            message:
              Merge main 5.0 -> 5.0-build
              
              This is the integration of the "community" source extensions
              into build calls for Windows and for RPMs.
            ------------------------------------------------------------
            revno: 1810.3857.21
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: push-5.0
            timestamp: Fri 2009-05-15 11:54:55 +0200
            message:
              Merge main 5.0 -> 5.0-build
            ------------------------------------------------------------
            revno: 1810.3857.20
            committer: Daniel Fischer <df@sun.com>
            branch nick: mysql-5.0-build
            timestamp: Tue 2009-05-12 13:09:16 +0200
            message:
              merge bug#42888
            ------------------------------------------------------------
            revno: 1810.3857.19
            committer: Kent Boortz <kent@kent-amd64>
            branch nick: mysql-5.0-build-bug44643
            timestamp: Sat 2009-05-09 23:43:48 +0200
            message:
              Use /usr/bin/perl as standard Perl install path (bug#44643)
        ------------------------------------------------------------
        revno: 2555.459.1
        committer: Joerg Bruehe <joerg@mysql.com>
        branch nick: push-5.1
        timestamp: Fri 2009-05-29 15:20:54 +0200
        message:
          Merge main 5.1 into 5.1-build
    ------------------------------------------------------------
    revno: 2555.413.75
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-06-16 10:42:54 +0200
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.458.2
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: 51-bug43758-2
        timestamp: Tue 2009-06-16 10:34:47 +0200
        message:
          Bug#43758 Query cache can lock up threads in 'freeing items' state
          
          Early patch submitted for discussion.
          
          It is possible for more than one thread to enter the condition
          in query_cache_insert(), but the condition predicate is to
          signal one thread each time the cache status changes between
          the following states: {NO_FLUSH_IN_PROGRESS,FLUSH_IN_PROGRESS,
          TABLE_FLUSH_IN_PROGRESS}
          
          Consider three threads THD1, THD2, THD3
          
             THD2: select ... => Got a writer in ::store_query
             THD3: select ... => Got a writer in ::store_query
             THD1: flush tables => qc status= FLUSH_IN_PROGRESS;
                                new writers are blocked.
             THD2: select ... => Still got a writer and enters cond in
                                 query_cache_insert
             THD3: select ... => Still got a writer and enters cond in
                                 query_cache_insert
             THD1: flush tables => finished and signal status change.
             THD2: select ... => Wakes up and completes the insert.
             THD3: select ... => Happily waiting for better times. Why hurry?
          
          This patch is a refactoring of this lock system. It introduces four new methods:
             Query_cache::try_lock()
             Query_cache::lock()
             Query_cache::lock_and_suspend()
             Query_cache::unlock()
          
          This change also deprecates wait_while_table_flush_is_in_progress(). All threads are
          queued and put on a conditional wait. On each unlock the queue is signalled. This resolve
          the issues with left over threads. To assure that no threads are spending unnecessary
          time waiting a signal broadcast is issued every time a lock is taken before a full
          cache flush.
    ------------------------------------------------------------
    revno: 2555.413.74
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-15 20:27:27 -0300
    message:
      Post-merge fix: modify regular expression to better handle 24 hour
      times (ie: 2:16:20).
    ------------------------------------------------------------
    revno: 2555.413.73
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-15 20:02:25 -0300
    message:
      Disable session debugging after its not necessary anymore.
    ------------------------------------------------------------
    revno: 2555.413.72
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 45387-51
    timestamp: Mon 2009-06-15 18:03:25 +0200
    message:
      Bug #45387 Information about statement id for prepared 
      statements missed from general log
      
      A FLUSH LOGS is added to ensure that the log info hits
      the file before attempting to process.
    ------------------------------------------------------------
    revno: 2555.413.71
    committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Mon 2009-06-15 17:27:58 +0200
    message:
      nullmerge
        ------------------------------------------------------------
        revno: 1810.3912.18
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.0-bugteam
        timestamp: Mon 2009-06-15 17:14:00 +0200
        message:
          Bug#32357 Prepared for push on 5.0-bugteam branch
    ------------------------------------------------------------
    revno: 2555.413.70
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B44810-5.1-bugteam
    timestamp: Mon 2009-06-15 17:36:51 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 1810.3912.17
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B44810-5.0-bugteam
        timestamp: Mon 2009-06-15 16:38:15 +0300
        message:
          Bug #44810: index merge and order by with low sort_buffer_size
          crashes server!
          
          The problem affects the scenario when index merge is followed by a filesort
          and the sort buffer is not big enough for all the sort keys.
          In this case the filesort function will read the data to the end through the 
          index merge quick access method (and thus closing the cursor etc), 
          but will leave the pointer to the quick select method in place.
          It will then create a temporary file to hold the results of the filesort and
          will add it as a sort output file (in sort.io_cache).
          Note that filesort will copy the original 'sort' structure in an automatic
          variable and restore it after it's done.
          As a result at exiting filesort() we have a sort.io_cache filled in and 
          nothing else (as a result of close of the cursors at end of reading data 
          through index merge).
          Now create_sort_index() will note that there is a select and will clean it up
          (as it's been used already by filesort() reading the data in). While doing that
          a special case in the index merge destructor will clean up the sort.io_cache,
          assuming it's an output of the index merge method and is not needed anymore.
          As a result the code that tries to read the data back from the filesort output 
          will get no data in both memory and disk and will crash.
                
          Fixed similarly to how filesort() does it : by copying the sort.io_cache structure
          to a local variable, removing the pointer to the io_cache (so that it's not freed 
          by QUICK_INDEX_MERGE_SELECT::~QUICK_INDEX_MERGE_SELECT) and restoring the original 
          structure (together with the valid pointer) after the cleanup is done.
          This is a safe thing to do because all the structures are already cleaned up by
          hitting the end of the index merge's read method (QUICK_INDEX_MERGE_SELECT::get_next()) 
          and the cleanup code being written in a way that tolerates repeating cleanups.
    ------------------------------------------------------------
    revno: 2555.413.69
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 45100-5.1
    timestamp: Fri 2009-06-12 18:11:19 -0300
    message:
      Bug#45100: Incomplete DROP USER in case of SQL_MODE = 'PAD_CHAR_TO_FULL_LENGTH'
      
      The SQL-mode PAD_CHAR_TO_FULL_LENGTH could prevent a DROP USER
      statement from privileges associated with the user being dropped.
      What ocurred was that reading from the User and Host fields of
      the tables tables_priv or columns_priv would yield values padded
      with spaces, causing a failure to match a specified user or host 
      ('user' != 'user     ');
      
      The solution is to disregard the PAD_CHAR_TO_FULL_LENGTH mode
      when iterating over and matching values in the privileges tables
      for a DROP USER statement.
    ------------------------------------------------------------
    revno: 2555.413.68
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 45387-51
    timestamp: Fri 2009-06-12 16:28:10 +0200
    message:
      Bug #45387 Information about statement id for prepared 
      statements missed from general log
      
      A refinement of the test in the previous patch to avoid
      using sleep as a means to ensure that timestamps are
      added to the log entries.
    ------------------------------------------------------------
    revno: 2555.413.67
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B45386-5.1-bugteam
    timestamp: Fri 2009-06-12 17:07:47 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 1810.3912.16
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45386-5.0-bugteam
        timestamp: Fri 2009-06-12 17:06:59 +0300
        message:
          fixed the build-tags command
    ------------------------------------------------------------
    revno: 2555.413.66
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B45386-5.1-bugteam
    timestamp: Fri 2009-06-12 17:04:24 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 2555.458.1
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-06-12 14:40:02 +0100
        message:
          Bug#44920: MTR2 is not processing master.opt input properly on Windows
          
          Re-enabled tests main.init_connect and rpl.rpl_init_slave.test for non-Windows
          platforms.
          
          Please remove this code upon fixing the bug.
    ------------------------------------------------------------
    revno: 2555.413.65
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B45386-5.1-bugteam
    timestamp: Fri 2009-06-12 16:58:48 +0300
    message:
      automerge
        ------------------------------------------------------------
        revno: 1810.3912.15
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45386-5.0-bugteam
        timestamp: Fri 2009-06-12 15:38:55 +0300
        message:
          Bug #45386: Wrong query result with MIN function in field list, 
          WHERE and GROUP BY clause
          
          Loose index scan may use range conditions on the argument of 
          the MIN/MAX aggregate functions to find the beginning/end of 
          the interval that satisfies the range conditions in a single go.
          These range conditions may have open or closed minimum/maximum 
          values. When the comparison returns 0 (equal) the code should 
          check the type of the min/max values of the current interval 
          and accept or reject the row based on whether the limit is 
          open or not.
          There was a wrong composite condition on checking this and it was
          not working in all cases.
          Fixed by simplifying the conditions and reversing the logic.
    ------------------------------------------------------------
    revno: 2555.413.64
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-06-10 11:05:07 -0300
    message:
      Merge from mysql-5.0-bugteam.
        ------------------------------------------------------------
        revno: 1810.3912.14
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.0-bugteam
        timestamp: Wed 2009-06-10 10:59:59 -0300
        message:
          Bug#41190: shared memory connections do not work in Vista, if server started from cmdline
          
          Backport to MySQL 5.0/1 fix by Vladislav Vaintroub:
          
          In Vista and later and also in when using terminal services, when
          server is started from  command line, client cannot connect to it
          via shared memory protocol.
          
          This is a regression introduced when  Bug#24731 was fixed.  The
          reason is that client is trying to attach to shared memory using
          global kernel object  namespace (all kernel objects are prefixed
          with Global\). However, server started from the command line in
          Vista and later will create shared memory and events using current
          session namespace. Thus, client is unable to find the server and
          connection fails.
          
          The fix for the client is to first try to find server using "local"
          names  (omitting Global\  prefix) and only if server is not found,
          trying global namespace.
    ------------------------------------------------------------
    revno: 2555.413.63
    committer: Philip Stoev <pstoev@mysql.com>
    branch nick: 5.1-bugteam
    timestamp: Wed 2009-06-10 11:58:36 +0300
    message:
      Bug #29971 status.test fails
      
      This test uses SHOW STATUS and the like, which may be unstable in the face
      of logging to table, since the CSV handler is actively executing operations
      and thus incrementing the counters.
      
      Fixed by disabling logging to table for the duration of the test and restoring
      it afterwards. This causes various counters to properly start counting from zero
      and never advance due to CSV operations.
    ------------------------------------------------------------
    revno: 2555.413.62
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-06-09 19:32:32 -0300
    message:
      Define MASTER_MYSOCK for ndb tests.
      Needed for substitution in some tests.
    ------------------------------------------------------------
    revno: 2555.413.61
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Tue 2009-06-09 21:05:31 +0200
    message:
      Merge of latest changes into GCA tree, no conflicts
        ------------------------------------------------------------
        revno: 2555.457.8
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43414-51
        timestamp: Tue 2009-06-09 18:44:26 +0200
        message:
          Merge from 5.0-bugteam for 43414
            ------------------------------------------------------------
            revno: 1810.3919.1
            committer: Staale Smedseng <staale.smedseng@sun.com>
            branch nick: 43414-50
            timestamp: Tue 2009-06-09 14:55:30 +0200
            message:
              Bug #43414 Parenthesis (and other) warnings compiling MySQL 
              with gcc 4.3.2
              
              Compiling MySQL with gcc 4.3.2 and later produces a number of 
              warnings, many of which are new with the recent compiler
              versions.
              
              This bug will be resolved in more than one patch to limit the
              size of changesets. This is the first patch, fixing a number 
              of the warnings, predominantly "suggest using parentheses 
              around && in ||", and empty for and while bodies.
            ------------------------------------------------------------
            revno: 1810.3912.13
            committer: Staale Smedseng <staale.smedseng@sun.com>
            branch nick: 43414-50
            timestamp: Tue 2009-06-09 18:11:21 +0200
            message:
              Bug #43414 Parenthesis (and other) warnings compiling MySQL 
              with gcc 4.3.2
                    
              Compiling MySQL with gcc 4.3.2 and later produces a number of 
              warnings, many of which are new with the recent compiler
              versions.
                    
              This bug will be resolved in more than one patch to limit the
              size of changesets. This is the first patch, fixing a number 
              of the warnings, predominantly "suggest using parentheses 
              around && in ||", and empty for and while bodies.
        ------------------------------------------------------------
        revno: 2555.457.7
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-06-09 13:09:16 -0300
        message:
          Remove assignments of the $MASTER_MYSOCK variable.
          This variable is defined by default and one should not do it
          directly as the socket variable is not available on Windows.
        ------------------------------------------------------------
        revno: 2555.457.6
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-06-09 11:36:14 -0300
        message:
          Don't run funcs_1/myisam_views test case under valgrind, unless
          the --big-test flag is supplied. Test is too resource intensive
          under normal valgrind runs (takes more than 30min on powerful
          hardware).
        ------------------------------------------------------------
        revno: 2555.457.5
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-08 20:03:01 -0300
        message:
          Tag count_distinct3.test as a big test.
        ------------------------------------------------------------
        revno: 2555.457.4
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-08 19:18:31 -0300
        message:
          Test is very resource intensive under debug and valgrind runs.
          Under a debug run, the trace file grows to a few gigabytes.
          Under valgrind, takes more then 20 minutes due to the high
          number of insert statements.
        ------------------------------------------------------------
        revno: 2555.457.3
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-08 19:05:24 -0300
        message:
          Fix for a valgrind warning due to use of a uninitialized
          variable. The problem was that THD::connect_utime could be
          used without being initialized when the main thread is used
          to handle connections (--thread-handling=no-threads).
        ------------------------------------------------------------
        revno: 2555.457.2
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-08 12:51:06 -0300
        message:
          Test is very resource intensive under debug and valgrind runs.
          Under a debug run, the trace file grows to a few gigabytes.
          Under valgrind, takes more then 20 minutes due to the high
          number of insert statements.
        ------------------------------------------------------------
        revno: 2555.457.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-06-08 09:55:37 -0300
        message:
          Merge from 5.1 main.
        ------------------------------------------------------------
        revno: 2555.442.3
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: merge-51
        timestamp: Fri 2009-06-05 09:42:15 +0200
        message:
          merge from 5.1-mtr
            ------------------------------------------------------------
            revno: 2555.437.31
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: autpar-51
            timestamp: Wed 2009-06-03 12:46:04 +0200
            message:
              Bug #45256 Enable 'auto' for mtr --parallel
              Let the user specify 'auto' for parallel value
              Also set --parallel=auto in default.push so we can get this tested.
            ------------------------------------------------------------
            revno: 2555.437.30
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: abstat-51
            timestamp: Tue 2009-06-02 10:00:45 +0200
            message:
              Bug #45190 mtr should report some statistics even if aborting after too many tests fail
              Added calls to mtr_report_stats() also after timeout or too many failures
            ------------------------------------------------------------
            revno: 2555.437.29
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: merge-51
            timestamp: Fri 2009-05-29 13:10:20 +0200
            message:
              fixed .bzr-mysql/default.conf
            ------------------------------------------------------------
            revno: 2555.437.28
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: merge-51
            timestamp: Fri 2009-05-29 13:04:02 +0200
            message:
              merge from 5.1 main
            ------------------------------------------------------------
            revno: 2555.437.27
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: worker-51
            timestamp: Thu 2009-05-28 13:02:03 +0200
            message:
              Bug #43659 MTR2 should report worker data for tests when using --parallel > 1
              Adding "w# " before the test result
              Also enable --parallel=2 so this can be tested.
            ------------------------------------------------------------
            revno: 2555.437.26
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: movefile-51
            timestamp: Wed 2009-05-27 22:54:40 +0200
            message:
              cherry picking fix for Bug #39542 from 6.0-runtime
            ------------------------------------------------------------
            revno: 2555.437.25
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: ppnp-51
            timestamp: Wed 2009-05-27 10:54:59 +0200
            message:
              Bug #45120 Fix of 44922 caused regression in funcs_1.processlist_priv_no_prot
              Protected '' in connect command with ""
            ------------------------------------------------------------
            revno: 2555.437.24
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: connsp-51
            timestamp: Tue 2009-05-26 12:45:14 +0200
            message:
              Bug #44964 mysqltest: connection <connection><some spaces>; fails now
              Incorrection assumption about delimiter character in connection command
            ------------------------------------------------------------
            revno: 2555.437.23
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: qgv-51
            timestamp: Mon 2009-05-25 17:19:20 +0200
            message:
              Bug #44922 mysqltest's query_get_value function can't work with queries containing ','
              check_command_args() always looks for the first , (or whatever)
              Extended check_command_args() to let arguments be quoted
              Added test in mysqltest.test
        ------------------------------------------------------------
        revno: 2555.442.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.1-bugteam
        timestamp: Thu 2009-05-28 10:36:39 +0300
        message:
          merge 5.0-main -> 5.1-main
        ------------------------------------------------------------
        revno: 1810.3918.1
        tags: mysql-5.0.83, clone-5.0.83-build
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-5.0-bugteam
        timestamp: Thu 2009-05-28 10:35:29 +0300
        message:
          changed the version
    ------------------------------------------------------------
    revno: 2555.413.60
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-gca1
    timestamp: Tue 2009-06-09 17:01:11 +0200
    message:
      Merge of fix for bug 44949 into GCA tree, no conflicts
        ------------------------------------------------------------
        revno: 2555.432.2
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-42308
        timestamp: Tue 2009-05-19 18:43:50 +0200
        message:
          Fix for Bug#44949 funcs_1: Several tests for embedded server need maintenance
          
          Detail:
          The results for the "normal" server testcase variants
          were already adjusted to the modified information_schema
          content. Therefore just do the same for the embedded
          server variants.
    ------------------------------------------------------------
    revno: 2555.413.59
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-08 01:40:53 +0500
    message:
      Bug #44886: SIGSEGV in test_if_skip_sort_order() -
                  uninitialized variable used as subscript
      
      Grouping select from a "constant" InnoDB table (a table
      of a single row) joined with other tables caused a crash.
    ------------------------------------------------------------
    revno: 2555.413.58
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-32149
    timestamp: Sat 2009-06-06 18:41:40 +0200
    message:
      manual merge
        ------------------------------------------------------------
        revno: 1810.3912.12
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 50-32149
        timestamp: Sat 2009-06-06 18:06:42 +0200
        message:
          auto-merge
            ------------------------------------------------------------
            revno: 1810.3915.7
            committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
            branch nick: mysql-5.0-bugteam
            timestamp: Sat 2009-06-06 12:26:39 -0300
            message:
              Don't mix declarations and code (not widely portable).
        ------------------------------------------------------------
        revno: 1810.3912.11
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 50-32149
        timestamp: Fri 2009-06-05 23:29:37 +0200
        message:
          auto-merge
    ------------------------------------------------------------
    revno: 2555.413.57
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-32149
    timestamp: Sat 2009-06-06 18:05:58 +0200
    message:
      auto-merge
        ------------------------------------------------------------
        revno: 2555.456.3
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51m
        timestamp: Sat 2009-06-06 15:05:44 +0200
        message:
          Addendum to Bug #45286: backport macro name form other tree
          
          use same (slightly unwieldy) name in all trees; fix before this version goes "public".
          bless ctype to avoid upmerge conflict, le sigh.
        ------------------------------------------------------------
        revno: 2555.456.2
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51m
        timestamp: Sat 2009-06-06 13:07:35 +0200
        message:
          auto-merge
            ------------------------------------------------------------
            revno: 2555.453.10
            committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
            branch nick: 44672-5.1
            timestamp: Fri 2009-06-05 19:16:54 -0300
            message:
              Bug#44672: Assertion failed: thd->transaction.xid_state.xid.is_null()
              
              The problem is that when a optimization of read-only transactions
              (bypass 2-phase commit) was implemented, it removed the code that
              reseted the XID once a transaction wasn't active anymore:
              
              sql/sql_parse.cc:
              
              -  bzero(&thd->transaction.stmt, sizeof(thd->transaction.stmt));
              -  if (!thd->active_transaction())
              -    thd->transaction.xid_state.xid.null();
              +  thd->transaction.stmt.reset();
              
              This mostly worked fine as the transaction commit and rollback
              functions (in handler.cc) reset the XID once the transaction is
              ended. But those functions wouldn't reset the XID in case of
              a empty transaction, leading to a assertion when a new starting
              a new XA transaction.
              
              The solution is to ensure that the XID state is reset when empty
              transactions are ended (by either commit or rollback). This is
              achieved by reorganizing the code so that the transaction cleanup
              routine is invoked whenever a transaction is ended.
        ------------------------------------------------------------
        revno: 2555.456.1
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51m
        timestamp: Fri 2009-06-05 23:47:13 +0200
        message:
          automerge
    ------------------------------------------------------------
    revno: 2555.413.56
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-32149
    timestamp: Sat 2009-06-06 18:05:00 +0200
    message:
      auto-merge
        ------------------------------------------------------------
        revno: 2555.453.9
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-06-05 13:55:09 -0300
        message:
          The valgrind suppression file (valgrind.supp) must be added to
          a binary distribution of the server as the MTR valgrind option
          relies on it to silence unmeaningful warnings.
        ------------------------------------------------------------
        revno: 2555.453.8
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45286-5.1-bugteam
        timestamp: Fri 2009-06-05 19:40:36 +0300
        message:
          merged 5.0-bugteam -> 5.1-bugteam
            ------------------------------------------------------------
            revno: 1810.3915.6
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45286-5.0-bugteam
            timestamp: Fri 2009-06-05 19:27:48 +0300
            message:
              automerge
            ------------------------------------------------------------
            revno: 1810.3915.5
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45286-5.0-bugteam
            timestamp: Fri 2009-06-05 19:23:44 +0300
            message:
              Addendum to Bug #45286 : implement reviewer's remarks.
            ------------------------------------------------------------
            revno: 1810.3915.4
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45286-5.0-bugteam
            timestamp: Fri 2009-06-05 18:14:56 +0300
            message:
              Bug #45286: compilation warnings on mysql-5.0-bugteam on MacOSX
              
              Implemented a way to circumvent the always true comparison by
              having nested macros (as suggested on review).
        ------------------------------------------------------------
        revno: 2555.453.7
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45286-5.1-bugteam
        timestamp: Fri 2009-06-05 19:38:48 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 2555.455.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B43532-5.1-bugteam
            timestamp: Fri 2009-06-05 18:32:35 +0300
            message:
              null-merged 5.0 backport of 43532 to 5.1
            ------------------------------------------------------------
            revno: 1810.3917.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B43532-5.0-bugteam
            timestamp: Fri 2009-06-05 17:59:23 +0300
            message:
              Bug #43532 : backport of the 5.1 code to 5.0 mysqltest
        ------------------------------------------------------------
        revno: 2555.453.6
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45286-5.1-bugteam
        timestamp: Fri 2009-06-05 16:44:38 +0300
        message:
          Bug #45286: compilation warnings on mysql-5.0-bugteam on MacOSX
          
          Merged the 5.0 fix to 5.1 and fixed the 5.1 specific warnings.
        ------------------------------------------------------------
        revno: 2555.453.5
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B45286-5.1-bugteam
        timestamp: Fri 2009-06-05 15:30:57 +0300
        message:
          automerge
            ------------------------------------------------------------
            revno: 1810.3915.3
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B45286-5.0-bugteam
            timestamp: Fri 2009-06-05 15:05:26 +0300
            message:
              Bug #45286: compilation warnings on mysql-5.0-bugteam on MacOSX
              
              Fixed the 5.0-bugteam MacOSX warnings.
            ------------------------------------------------------------
            revno: 1810.3915.2
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.0-bugteam
            timestamp: Thu 2009-06-04 16:13:16 +0200
            message:
              Bug#15866 Split of main.sp and main.sp-fib. Merged from 5.0 gca
        ------------------------------------------------------------
        revno: 2555.453.4
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Fri 2009-06-05 13:23:58 +0200
        message:
          Merge bug#45326
            ------------------------------------------------------------
            revno: 2555.345.46
            committer: Magnus Bl?udd <magnus.blaudd@sun.com>
            branch nick: 6.2-bug45326
            timestamp: Fri 2009-06-05 13:11:55 +0200
            message:
              Bug#45326 Linker failure for libmysqld with VC++ 2008
               - Rename the  functions in mysqld that conflict with the one in the
                 external interface defined by mysql.h
        ------------------------------------------------------------
        revno: 2555.453.3
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Thu 2009-06-04 16:10:18 +0200
        message:
          Bug#15866 Split of main.sp and main.sp-fib. Merged from 5.1 gca
            ------------------------------------------------------------
            revno: 2555.454.1
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.1-gca
            timestamp: Thu 2009-06-04 13:53:15 +0200
            message:
              Bug#15866 ported from 5.0-gca
            ------------------------------------------------------------
            revno: 1810.3916.1
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.0-gca
            timestamp: Thu 2009-06-04 13:38:53 +0200
            message:
              Bug#15866 main.sp-fib split from main.sp
        ------------------------------------------------------------
        revno: 2555.453.2
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: B36995-5.1-bugteam
        timestamp: Thu 2009-06-04 13:26:18 +0300
        message:
          merged 36995 to 5.1-bugteam
            ------------------------------------------------------------
            revno: 1810.3915.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B36995-5.0-bugteam
            timestamp: Thu 2009-06-04 12:52:40 +0300
            message:
              Bug #36995: valgrind error in remove_const during subquery executions
              
              When copying the Item class one must copy its attributes as well.
        ------------------------------------------------------------
        revno: 2555.453.1
        committer: Alexander Barkov <bar@mysql.com>
        branch nick: mysql-5.1.b43827
        timestamp: Thu 2009-06-04 14:35:29 +0500
        message:
           Bug#43827 Server closes connections and restarts
          Problem:
            Crash happened with a user-defined utf8 collation,
            on attempt to insert a value longer than the column
            to store.
          Reason:
            The "ctype" member was not initialized (NULL) when
            allocating a user-defined utf8 collation, so an attempt
            to call my_ctype(cs, *str) to check if we loose any important
            data when truncating the value made the server crash.
          Fix:
            Initializing tge "ctype" member to a proper value.
          
          
          mysql-test/r/ctype_ldml.result
            Adding tests
          
          mysql-test/t/ctype_ldml.test
            Adding tests
          
          strings/ctype-uca.c
            Adding initialization of "ctype" member.
          
          modified:
            mysql-test/r/ctype_ldml.result
            mysql-test/t/ctype_ldml.test
            strings/ctype-uca.c
    ------------------------------------------------------------
    revno: 2555.413.55
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-32149
    timestamp: Fri 2009-06-05 01:30:08 +0200
    message:
      auto-merge
        ------------------------------------------------------------
        revno: 1810.3912.10
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 50-32149
        timestamp: Fri 2009-06-05 00:23:08 +0200
        message:
          Bug#32149: Long semaphore wait for adaptive hash latch
          
          Holding on to the temporary inno hash index latch is an optimization in
          many cases, but a pessimization in some others.
          
          Release temporary latches for those corner cases we (or rather, or customers,
          thanks!) have identified, that is, when we are about to do something that
          might take a really long time, like REPAIR or filesort.
    ------------------------------------------------------------
    revno: 2555.413.54
    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-06-04 10:54:23 +0500
    message:
      5.0-bugteam->5.1-bugteam merge
        ------------------------------------------------------------
        revno: 1810.3912.9
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-06-04 10:28:45 +0500
        message:
          Bug#44798 MySQL engine crashes when creating stored procedures with execute_priv=N
          The crash happens because of uninitialized
          lex->ssl_cipher, lex->x509_subject, lex->x509_issuer variables.
          The fix is to add initialization of these variables for
          stored procedures&functions.
    ------------------------------------------------------------
    revno: 2555.413.53
    committer: Alexander Nozdrin <alik@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Wed 2009-06-03 15:18:12 +0400
    message:
      Fix compilation failures: get rid of C++ specifics in C-code.
    ------------------------------------------------------------
    revno: 2555.413.52
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-10206-push
    timestamp: Tue 2009-06-02 18:11:40 +0530
    message:
      merge to 5.1-bugteam branch
        ------------------------------------------------------------
        revno: 2555.452.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: topush-51-bugteam
        timestamp: Tue 2009-06-02 13:18:30 +0200
        message:
          merge into mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.451.1
        committer: Mattias Jonsson <mattias.jonsson@sun.com>
        branch nick: b32430-51-bugteam
        timestamp: Tue 2009-06-02 11:07:17 +0200
        message:
          Bug#32430:'show innodb status' causes errors Invalid (old?) table
          or database name in logs
          
          Problem was that InnoDB used filenam_to_tablename,
          which do not handle partitions (due to the '#' in
          the filename).
          
          Solution is to add a new function for explaining
          what the filename means: explain_filename.
          It expands the database, table, partition and subpartition
          parts and uses errmsg.txt for localization.
          It also converts from my_charset_filename to system_charset_info
          (i.e. human readable form for non ascii characters).
            http://lists.mysql.com/commits/70370
          
          2773 Mattias Jonsson	2009-03-25
          
          It has three different output styles.
          
          NOTE: This is the server side ONLY part (introducing the explain_filename
          function). There will be a patch for InnoDB using this function to solve
          the bug.
    ------------------------------------------------------------
    revno: 2555.413.51
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-10206-push
    timestamp: Tue 2009-06-02 18:07:47 +0530
    message:
      Followup Fix for BUG#10206 - InnoDB: Transaction requiring Max_BinLog_Cache_size > 4GB 
                                   always rollsback.
      
      There is failure on pushbuild machines which are using old compilers complaining about
      ULLONG_MAX declaration. Changing this to ULONGLONG_MAX to solve the problem.
    ------------------------------------------------------------
    revno: 2555.413.50
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-10206-push
    timestamp: Tue 2009-06-02 14:10:21 +0530
    message:
      merge to 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.450.1
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-06-02 12:00:37 +0500
        message:
          5.0-bugteam->5.1-bugteam merge
        ------------------------------------------------------------
        revno: 1810.3912.8
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-06-02 11:38:13 +0500
        message:
          Bug#45152 crash with round() function on longtext column in a derived table
          The crash happens due to wrong max_length value which is set on
          Item_func_round::fix_length_and_dec() stage. The value is set to
          args[0]->max_length which is too big in case of LONGTEXT(LONGBLOB) fields.
          The fix is to set max_length using float_length() function.
    ------------------------------------------------------------
    revno: 2555.413.49
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-10206-push
    timestamp: Tue 2009-06-02 13:44:41 +0530
    message:
      merge to 5.1-bugteam tree
        ------------------------------------------------------------
        revno: 2555.449.1
        committer: Satya B <satya.bn@sun.com>
        branch nick: mysql-5.1-bugteam-10206
        timestamp: Fri 2009-05-15 16:33:08 +0530
        message:
          Fix for BUG#10206 - InnoDB: Transaction requiring Max_BinLog_Cache_size > 4GB
                              always rollsback.
          
          The global variable max_binlog_cache_size cannot be set more than 4GB on
          32 bit systems, limiting transactions of all storage engines to 4G of changes.
          
          The problem is max_binlog_cache_size is declared as ulong which is 4 bytes
          on 32 bit and 8 bytes on 64 bit machines.
          
          Fixed by using ulonglong for max_binlog_cache_size which is 8bytes on 32 
          and 64 bit machines.The range for max_binlog_cache_size on 32 bit and 64 bit
          systems is 4096-18446744073709547520 bytes.
    ------------------------------------------------------------
    revno: 2555.413.48
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-01 16:44:48 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3912.7
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Mon 2009-06-01 16:42:24 +0400
        message:
          Automerge.
    ------------------------------------------------------------
    revno: 2555.413.47
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-06-01 16:43:16 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.448.1
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my51-bug44767
        timestamp: Mon 2009-06-01 16:00:38 +0400
        message:
          Manual merge.
        ------------------------------------------------------------
        revno: 1810.3914.1
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my50-bug44767
        timestamp: Wed 2009-05-27 14:20:57 +0400
        message:
          Bug #44767: invalid memory reads in password() and   
                      old_password() functions   
          The PASSWORD() and OLD_PASSWORD() functions could lead to   
          memory reads outside of an internal buffer when used with BLOB   
          arguments.   
            
          String::c_ptr() assumes there is at least one extra byte  
          in the internally allocated buffer when adding the trailing  
          '\0'.  This, however, may not be the case when a String object  
          was initialized with externally allocated buffer.  
            
          The bug was fixed by adding an additional "length" argument to  
          make_scrambled_password_323() and make_scrambled_password() in  
          order to avoid String::c_ptr() calls for  
          PASSWORD()/OLD_PASSWORD().  
            
          However, since the make_scrambled_password[_323] functions are  
          a part of the client library ABI, the functions with the new  
          interfaces were implemented with the 'my_' prefix in their  
          names, with the old functions changed to be wrappers around  
          the new ones to maintain interface compatibility.  
    ------------------------------------------------------------
    revno: 2555.413.46
    committer: Narayanan V <v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-45197
    timestamp: Mon 2009-06-01 12:52:10 +0530
    message:
      Bug#45197 cp1250 character set with IBMDB2I generates 2027 error
      
      Running a SELECT query over an IBMDB2I table with a cp1250 character set
      was producing an error 2027 (ibmdb2i error 2027: Error converting single-byte
      sort sequence to UCS-2).
      
      The QMY_DESCRIBE_RANGE API was returning error 2027 to the storage engine
      because the CCSID used for a cp1250 column (870) does not match the CCSID
      used by the DB2 sort sequences associated with cp1250_* collations (1153).
      This was because the storage engine relies on a set of system APIs to
      determine which CCSID value most closely matches a particular MySQL
      character set. However, in the case of cp1250, the system is returning
      CCSID 870, which does not have a codepoint for the euro symbol, making it
      an incorrect match.
      
      This patch overrides the selection of a compatible CCSID to always return
      1153 for cp1250.
    ------------------------------------------------------------
    revno: 2555.413.45
    committer: He Zhenxing <zhenxing.he@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Sun 2009-05-31 20:16:15 +0800
    message:
      Merge 5.0-bt to 5.1-bt
        ------------------------------------------------------------
        revno: 1810.3912.6
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.0-bugteam
        timestamp: Sun 2009-05-31 20:10:59 +0800
        message:
          post fix of test result
        ------------------------------------------------------------
        revno: 1810.3912.5
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.0-bugteam
        timestamp: Sun 2009-05-31 17:16:12 +0800
        message:
          Auto merge
        ------------------------------------------------------------
        revno: 1810.3913.1
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 34309-5.0
        timestamp: Sat 2009-05-30 12:38:36 -0300
        message:
          MySQL 5.0 backport of Chad Miller's patch for Bug#34309:
          
          Bug#34309: '_PC' macro redefinition
          
          For reasons that are now a mystery, we had defined a CPP symbol to
          help ancient compilers work better (in some way that's lost to history).
          This interferes with at least one modern compiler.
          
          Now, don't define the _PC symbol.  Those other underscore-leading
          symbols are suspect also, but at least the names aren't inscrutable.
          Let's leave them for now.
    ------------------------------------------------------------
    revno: 2555.413.44
    committer: He Zhenxing <zhenxing.he@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Sun 2009-05-31 17:15:35 +0800
    message:
      Merge BUG#41948
        ------------------------------------------------------------
        revno: 2555.447.1
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Sat 2009-05-30 21:32:28 +0800
        message:
          BUG#41948 Query_log_event constructor needlessly contorted
          
          Make the caller of Query_log_event, Execute_load_log_event
          constructors and THD::binlog_query to provide the error code
          instead of having the constructors to figure out the error code.
    ------------------------------------------------------------
    revno: 2555.413.43
    committer: He Zhenxing <zhenxing.he@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Sun 2009-05-31 13:44:41 +0800
    message:
      Merge BUG#43263 from 5.0-bugteam to 5.1-bugteam
        ------------------------------------------------------------
        revno: 1810.3912.4
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.0-bugteam
        timestamp: Sun 2009-05-31 11:26:58 +0800
        message:
          BUG#43263 BEGIN skipped in some replicate-do-db cases
          
          BEGIN/COMMIT/ROLLBACK was subject to replication db rules, and
          caused the boundary of a transaction not recognized correctly 
          when these queries were ignored by the rules.
          
          Fixed the problem by skipping replication db rules for these
          statements.
    ------------------------------------------------------------
    revno: 2555.413.42
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-34861k
    timestamp: Fri 2009-05-29 18:49:35 +0200
    message:
      auto-merge
        ------------------------------------------------------------
        revno: 2555.440.3
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51-39200k
        timestamp: Fri 2009-05-29 17:58:45 +0200
        message:
          auto-merge
            ------------------------------------------------------------
            revno: 2555.444.5
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-29 17:13:08 +0200
            message:
              Automerge
            ------------------------------------------------------------
            revno: 2555.444.4
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-29 16:25:22 +0200
            message:
              Automerge
            ------------------------------------------------------------
            revno: 2555.446.1
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: 51-bug44658
            timestamp: Fri 2009-05-29 15:37:54 +0200
            message:
              Bug#44658 Create procedure makes server crash when user does not have ALL privilege
              
              MySQL crashes if a user without proper privileges attempts to create a procedure.
              
              The crash happens because more than one error state is pushed onto the Diagnostic
              area. In this particular case the user is denied to implicitly create a new user
              account with the implicitly granted privileges ALTER- and EXECUTE ROUTINE.
              
              The new account is needed if the original user account contained a host mask.
              A user account with a host mask is a distinct user account in this context.
              An alternative would be to first get the most permissive user account which
              include the current user connection and then assign privileges to that
              account. This behavior change is considered out of scope for this bug patch.
              
              The implicit assignment of privileges when a user creates a stored routine is a
              considered to be a feature for user convenience and as such it is not
              a critical operation. Any failure to complete this operation is thus considered
              non-fatal (an error becomes a warning).
              
              The patch back ports a stack implementation of the internal error handler interface.
              This enables the use of multiple error handlers so that it is possible to intercept
              and cancel errors thrown by lower layers. This is needed as a error handler already
              is used in the call stack emitting the errors which needs to be converted.
        ------------------------------------------------------------
        revno: 2555.440.2
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51-39200k
        timestamp: Fri 2009-05-29 17:24:30 +0200
        message:
          auto-merge
            ------------------------------------------------------------
            revno: 2555.441.6
            committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-29 18:08:16 +0400
            message:
              Automerge
                ------------------------------------------------------------
                revno: 2555.444.3
                committer: Narayanan V <v.narayanan@sun.com>
                branch nick: mysql-5.1-bugteam-44811-3
                timestamp: Fri 2009-05-29 18:36:58 +0530
                message:
                  merging with mysql-5.1-bugteam tree
                    ------------------------------------------------------------
                    revno: 2555.445.1
                    committer: Narayanan V <v.narayanan@sun.com>
                    branch nick: mysql-5.1-bugteam-44811
                    timestamp: Fri 2009-05-29 15:01:00 +0530
                    message:
                      Bug#44811 Tests with utf8 charset fail with ibmdb2i on 64bit MySQL
                      
                      wmemset was being used to fill the row buffers.
                      wmemset was intended  to  fill the buffer with
                      16-bit UCS2 pad values.  However,  the  64-bit
                      version of wmemset uses 32-bit wide characters
                      and thus filled the buffer incorrectly. In some
                      cases, the null  byte  map would be overwritten,
                      causing ctype_utf8.test and ibmdb2i_rir.test to
                      fail, giving the error message CPF5035.
                      
                      This patch eliminates the use of wmemset to fill
                      the row buffer. wmemset has  been  replaced with
                      memset16, which always  fills  memory with 16-bit
                      values.
                ------------------------------------------------------------
                revno: 2555.444.2
                committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
                branch nick: mysql-5.1-bugteam
                timestamp: Thu 2009-05-28 16:21:41 +0500
                message:
                  5.0-bugteam->5.1-bugteam merge
                    ------------------------------------------------------------
                    revno: 1810.3912.3
                    committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
                    branch nick: mysql-5.0-bugteam
                    timestamp: Thu 2009-05-28 16:19:49 +0500
                    message:
                      test case fix
                ------------------------------------------------------------
                revno: 2555.444.1
                committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
                branch nick: mysql-5.1-bugteam
                timestamp: Thu 2009-05-28 13:40:09 +0500
                message:
                  5.0-bugteam->5.1-bugteam merge
                ------------------------------------------------------------
                revno: 1810.3912.2
                committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
                branch nick: mysql-5.0-bugteam
                timestamp: Thu 2009-05-28 13:34:30 +0500
                message:
                  Bug#37268 'binary' character set makes CLI-internal commands case sensitive
                  The fix is to use case insensitive collation
                  for mysql client command search.
            ------------------------------------------------------------
            revno: 2555.441.5
            committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Thu 2009-05-28 09:19:26 +0400
            message:
              Automerge.
                ------------------------------------------------------------
                revno: 2555.443.1
                committer: Alexey Kopytov <Alexey.Kopytov@Sun.com>
                branch nick: my51-bug44638
                timestamp: Wed 2009-05-27 12:24:25 +0400
                message:
                  Bug #44638: mysql_upgrade, mysqlcheck output instance unclear
                  
                  Dump all connection-related arguments when running mysqlcheck
                  from mysql_upgrade.
                  
                  No test case, since the output depends on the test suite
                  configuration and platform.
            ------------------------------------------------------------
            revno: 2555.441.4
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B38159-5.1-bugteam
            timestamp: Wed 2009-05-27 18:22:57 +0300
            message:
              merged 5.1-bugteam to working tree
                ------------------------------------------------------------
                revno: 2555.442.1
                committer: Georgi Kodinov <joro@sun.com>
                branch nick: merge-5.1-bugteam
                timestamp: Wed 2009-05-27 18:14:09 +0300
                message:
                  merged 5.0-bugteam
                ------------------------------------------------------------
                revno: 1810.3912.1
                committer: Georgi Kodinov <joro@sun.com>
                branch nick: merge-5.0-bugteam
                timestamp: Wed 2009-05-27 17:09:09 +0300
                message:
                  automerge
                ------------------------------------------------------------
                revno: 1810.3870.14
                author: timothy.smith@sun.com
                committer: MySQL Build Team <build@mysql.com>
                branch nick: mysql-5.0
                timestamp: Wed 2009-05-27 00:44:58 +0200
                message:
                  Merge from mysql-5.0.82-release
                ------------------------------------------------------------
                revno: 1810.3911.1
                tags: mysql-5.0.82
                committer: MySQL Build Team <build@mysql.com>
                branch nick: mysql-5.0.82-release
                timestamp: Wed 2009-05-20 23:04:34 +0200
                message:
                  Updates to build with community features enabled for community builds.
            ------------------------------------------------------------
            revno: 2555.441.3
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B38159-5.1-bugteam
            timestamp: Wed 2009-05-27 18:19:44 +0300
            message:
              merged 5.0-bugteam to 5.1-bugteam
                ------------------------------------------------------------
                revno: 1810.3910.6
                committer: Georgi Kodinov <joro@sun.com>
                branch nick: B38159-5.0-bugteam
                timestamp: Wed 2009-05-27 16:05:29 +0300
                message:
                  Bug #38159: Function parsing problem generates misleading error message
                        
                  Added a more detailed error message on calling an ambiguous missing function.
            ------------------------------------------------------------
            revno: 2555.441.2
            committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Wed 2009-05-27 15:42:19 +0500
            message:
              5.0-bugteam->5.1-bugteam merge
                ------------------------------------------------------------
                revno: 1810.3910.5
                committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
                branch nick: mysql-5.0-bugteam
                timestamp: Wed 2009-05-27 15:34:21 +0500
                message:
                  Bug#41212 crash after race condition between merge table and table_cache evictions
                  On 64-bit Windows: querying MERGE table with keys may cause
                  server crash.The problem is generic and may affect any statement
                  accessing MERGE table cardinality values.
                  When MERGE engine was copying cardinality statistics, it was
                  using incorrect size of element in cardinality statistics array
                  (sizeof(ptr)==8 instead of sizeof(ulong)==4), causing access
                  of memory beyond of the allocated bounds.
            ------------------------------------------------------------
            revno: 2555.441.1
            committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Wed 2009-05-27 13:11:28 +0500
            message:
              Bug#43940 64-bit windows myisamchk doesn't support key_buffer_size > 4G
              The fix is to allow myisamchk to use >4G key_buffer_size on win64
        ------------------------------------------------------------
        revno: 2555.440.1
        committer: Tatiana A. Nurnberg <azundris@mysql.com>
        branch nick: 51-39200k
        timestamp: Fri 2009-05-29 16:22:24 +0200
        message:
          Bug#39200: optimize table does not recognize ROW_FORMAT=COMPRESSED
          
          When doing ALTER TABLE, we forgot to point out that we actually have
          ROW_FORMAT information (from the original table), so we dropped to
          "sensible defaults". This affects both ALTER TABLE and OPTIMIZE TABLE
          which may fall back on ALTER TABLE for InnoDB.
          
          We now flag that we do indeed know the row-type, thereby preserving
          compression-type etc.
          
          No .test in 5.1 since we'd need a reasonable new plugin from InnoDB to
          show this properly; in higher versions, maria can demonstrate this.
    ------------------------------------------------------------
    revno: 2555.413.41
    committer: Tatiana A. Nurnberg <azundris@mysql.com>
    branch nick: 51-34861k
    timestamp: Wed 2009-05-27 15:16:21 +0200
    message:
      Bug#34861: mysqldump with --tab gives weird output for triggers.
      
      mysqldump --tab still dumped triggers to stdout rather than to
      individual tables.
      
      We now append triggers to the .sql file for the corresponding
      table.
      
      --events and --routines correspond to a database rather than a
      table and will still go to stdout with --tab unless redirected
      with --result-file (-r).
    ------------------------------------------------------------
    revno: 2555.413.40
    committer: Bjorn Munch <Bjorn.Munch@sun.com>
    branch nick: merge-51
    timestamp: Mon 2009-05-25 22:58:31 +0200
    message:
      merge from 5.1-mtr
        ------------------------------------------------------------
        revno: 2555.437.22
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: merge-51
        timestamp: Wed 2009-05-20 14:22:39 +0200
        message:
          merge from main
        ------------------------------------------------------------
        revno: 2555.437.21
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Fri 2009-05-15 13:47:36 +0200
        message:
          merge
            ------------------------------------------------------------
            revno: 2555.439.1
            committer: Bjorn Munch <Bjorn.Munch@sun.com>
            branch nick: help-51
            timestamp: Tue 2009-05-12 14:53:46 +0200
            message:
              Bug #42988 MTR2's --help output does not document --parallel
              Several options were not documented
              Added missing options and removed a few
              Fixed use of --skip-combinations
        ------------------------------------------------------------
        revno: 2555.437.20
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Thu 2009-05-14 21:56:53 +0200
        message:
          Bug #44775 MTR fails to bootstrap mysqld on Windows in Pushbuild 2.
          
          Suspected reason for the failure is that safe_process.exe already runs in a job that does not allow breakaways. 
          The fix is to use a fallback -  make newly created process the root of the new process group. This allows to kill process together with descendants via GenerateConsoleCtrlEvent (CTRL_BREAK_EVENT, pid)
        ------------------------------------------------------------
        revno: 2555.437.19
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: merge-51
        timestamp: Mon 2009-05-11 22:30:44 +0200
        message:
          yet another merge from main
        ------------------------------------------------------------
        revno: 2555.437.18
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: merge-51
        timestamp: Mon 2009-05-11 12:18:20 +0200
        message:
          merge from main
        ------------------------------------------------------------
        revno: 2555.437.17
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Fri 2009-05-08 01:10:53 +0200
        message:
          Fix regression on pushbuild 1. The cygwin perl is ancient there, and Net::Ping does not have port_number method (port_number was introduced around 2007). The fix is to check if port_number is present. Otherwise, fallback to the slow connect().
        ------------------------------------------------------------
        revno: 2555.437.16
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: dirty-51
        timestamp: Thu 2009-04-30 13:23:36 +0200
        message:
          Bug #44561 mtr2 --start-dirty is broken
          start-dirty would remove stored procs etc.
          Skip the copying back from stored system dir if using --start-dirty
        ------------------------------------------------------------
        revno: 2555.437.15
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: waitall-51
        timestamp: Wed 2009-04-29 16:13:38 +0200
        message:
           Bug #44511 MTR2: add an option not to kill other servers when one from the group exits
          MTR would die as soon as one server terminates
          Implemented --wait-all option and associated subroutine
        ------------------------------------------------------------
        revno: 2555.437.14
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Tue 2009-04-28 23:06:36 +0200
        message:
          Bug #44530 mtr v2 startup very slow on Windows.
          
          MTR is stuck for about 20 seconds checking for free ports.
          The reason is that perl's connect()  takes 1 second on windows
          if port is not opened.
          
          This patch fixes the mtr_ping_port implementation on Windows
          to use Net::Ping for the port checking with small (0.1sec) timeout.
          
          This patch also removes pointless second call to check_ports_free() 
          in case of auto build thread.
        ------------------------------------------------------------
        revno: 2555.437.13
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Thu 2009-04-23 13:35:02 +0200
        message:
          Bug #42804 --parallel option does not work for MTR under ActiveState 
          perl 
          
          The problem here was the method how MTR gets its unique thread ids.
          Prior to this patch, the method to do it was to maintain a global 
          table of pid,mtr_unique_id) pairs. The table was backed by a text 
          file. The table was cleaned up one in a while and dead processes leaking
          unique_ids were determined with with kill(0) or with scripting tasklist
          on Windows.
          
          This method is flawed specifically on native Windows Perl. fork() is 
          implemented with starting a new thread, give it a syntetic negative PID
          (threadID*(-1)), until this thread creates a new process with exec()
          However,  neither tasklist nor any other native Windows tool can cope with
          negative perl PIDs. This lead to incorrect determination of dead process 
          and reusing already used mtr_unique_id.
          
          The patch introduces alternative portable  method of solving unique-id 
          problem. When a process needs a unique id in range [min...max], it just 
          starts  to open files named min, min+1,...max in a loop . After file is 
          opened, we do non-blocking flock(). When flock() succeeds, process has 
          allocated the ID. When process dies, file is unlocked . Checks for zombies 
          are not necessary.
          
          Since the change would create a co-existence problems with older version
          of MTR, because of different way to calculate IDs, the default ID range
          is changed from 250-299 to 300-349.
          
          Another fix that was necessary enable --parallel option was to serialize 
          spawn() calls on Windows. specifically, IO redirects needed to be protected.
          
          This patch also fixes hanging CRTL-C (as described in Bug #38629) for the
          "new"  MTR. The fix was already in 6.0 and is now downported.
        ------------------------------------------------------------
        revno: 2555.437.12
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: merge-51
        timestamp: Fri 2009-04-17 15:46:51 +0200
        message:
          merge from main, redo
        ------------------------------------------------------------
        revno: 2555.437.11
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: timeout-51
        timestamp: Wed 2009-04-08 14:54:36 +0200
        message:
          Bug #41649 sporadic pb failure: mtr stopped, message "TIMEOUT (1200 seconds), ABORTING."
          Potentially infinite loop in check_expected_crash_and_restart 
          Replace with finite loop and some additional logic
        ------------------------------------------------------------
        revno: 2555.437.10
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: nocheck-51
        timestamp: Thu 2009-04-02 13:00:44 +0200
        message:
          Bug #42507 mtr2: the --check is fooled up by a code executed in --init_file
          mtr *thinks* there's a side effect
          Use the new force_restart() to avoid running the check-testcase
        ------------------------------------------------------------
        revno: 2555.437.9
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: npipe-51
        timestamp: Wed 2009-04-01 16:23:10 +0200
        message:
          Bug #43570 MTR2 hangs when test fails and named pipe created
          Hangs when trying to copy the pipe
          Amend copytree() to only copy regular files
        ------------------------------------------------------------
        revno: 2555.437.8
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: repcnt-51
        timestamp: Wed 2009-04-01 13:58:30 +0200
        message:
          Bug #43917 MTR2 does not report accurate test statistics when using the 'repeat=n'
          option
          In practice, only the last run of the test was counted
          Add a separate counter rep_failures for failures before last run
        ------------------------------------------------------------
        revno: 2555.437.7
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 5.1-mtr
        timestamp: Wed 2009-04-01 11:33:36 +0200
        message:
          Bug#43983  	Support force restart of all servers after test ended
           - Properly update .result file
        ------------------------------------------------------------
        revno: 2555.437.6
        committer: Magnus Bl?udd <magnus.blaudd@sun.com>
        branch nick: 5.1-mtr
        timestamp: Wed 2009-04-01 10:59:10 +0200
        message:
          Bug#43983 Support force restart of all servers after test ended
           - Update testcases funcs_1.is_routines to only query
             information_schema.routines about the routines in 'test'
             database(where it has created it's routines)
        ------------------------------------------------------------
        revno: 2555.437.5
        committer: Magnus Svensson <msvensson@mysql.com>
        branch nick: 43983
        timestamp: Tue 2009-03-31 16:10:44 +0200
        message:
          Merge
            ------------------------------------------------------------
            revno: 2555.438.1
            committer: Magnus Svensson <msvensson@mysql.com>
            branch nick: 43983
            timestamp: Tue 2009-03-31 15:39:40 +0200
            message:
              Bug#43983 Support force restart of all servers after test ended
               - Some tests need to modify the server(s) so much that a total restart of all servers are
                 necessary after test. Make it possible for a test to signal it want mtr.pl to restart
                 all servers.
        ------------------------------------------------------------
        revno: 2555.437.4
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: retcnt-51
        timestamp: Tue 2009-03-31 13:15:52 +0200
        message:
          Bug #43840 "too many tests failed" includes retries
          Only count non-retried tests, and increment before testing
        ------------------------------------------------------------
        revno: 2555.437.3
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: suite-51
        timestamp: Fri 2009-03-27 11:25:24 +0100
        message:
          Bug #42807 MTR: './mtr somesuite.sometest' fails if somesuite is not in DEFAULT_SUITES
          If suite specified as part of test name, collect from that suite too.
        ------------------------------------------------------------
        revno: 2555.437.2
        committer: Vladislav Vaintroub <vvaintroub@mysql.com>
        branch nick: mysql-5.1-mtr
        timestamp: Tue 2009-03-24 14:44:21 +0100
        message:
          change order of cdb parameters to workaround a bug , where command (-c) is not evaluated if  -i ,-y or -z  contains an invalid path.
          cdb would hang then waiting for user input, which is bad for use in scripts
        ------------------------------------------------------------
        revno: 2555.437.1
        committer: Bjorn Munch <Bjorn.Munch@sun.com>
        branch nick: corepath-51
        timestamp: Fri 2009-03-20 16:39:06 +0100
        message:
          Bug #43074 MTR2 is not accessing core dumps when a path is too long
          Executable path is truncated in core
          If we see truncated path, try to guess using strings and grep
          If that doesn't work either, use known mysqld path
    ------------------------------------------------------------
    revno: 2555.413.39
    committer: Staale Smedseng <staale.smedseng@sun.com>
    branch nick: 44736-51
    timestamp: Mon 2009-05-25 18:21:40 +0200
    message:
      Bug #44736 mysqld_safe's my_which() is broken and 
      doesn't find 'logger'
      
      Due to a variable quoting mistake, the $PATH environment
      variable isn't parsed correctly when searching for the
      existence of the desired executable(s) (logger in this 
      case).
      
      This patch removes the quotes.
    ------------------------------------------------------------
    revno: 2555.413.38
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: 42158-5.1
    timestamp: Mon 2009-05-25 10:00:18 -0300
    message:
      Bug#42158: leak: SSL_get_peer_certificate() doesn't have matching X509_free()
      
      The problem is that the server failed to follow the rule that
      every X509 object retrieved using SSL_get_peer_certificate()
      must be explicitly freed by X509_free(). This caused a memory
      leak for builds linked against OpenSSL where the X509 object
      is reference counted -- improper counting will prevent the
      object from being destroyed once the session containing the
      peer certificate is freed.
      
      The solution is to explicitly free every X509 object used.
    ------------------------------------------------------------
    revno: 2555.413.37
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B44399-5.1-bugteam
    timestamp: Mon 2009-05-25 11:00:40 +0300
    message:
      Bug #44399 : crash with statement using TEXT columns, aggregates, GROUP BY, and
      HAVING
                  
      When calculating GROUP BY the server caches some expressions. It does
      that by allocating a string slot (Item_copy_string) and assigning the 
      value of the expression to it. This effectively means that the result
      type of the expression can be changed from whatever it was to a string.
      As this substitution takes place after the compile-time result type 
      calculation for IN but before the run-time type calculations, 
      it causes the type calculations in the IN function done at run time 
      to get unexpected results different from what was prepared at compile time.
                        
      In the CASE ... WHEN ... THEN ... statement there was a similar problem
      and it was solved by artificially adding a STRING argument to the set of 
      types of the IN/CASE arguments at compile time, so if any of the 
      arguments of the CASE function changes its type to a string it will 
      still be covered by the information prepared at compile time.
    ------------------------------------------------------------
    revno: 2555.413.36
    committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
    branch nick: mysql-5.1-bugteam
    timestamp: Sat 2009-05-23 10:19:58 -0300
    message:
      Workaround a compiler that does not support certain C99 features for C code.
    ------------------------------------------------------------
    revno: 2555.413.35
    committer: Luis Soares <luis.soares@sun.com>
    branch nick: 5.1-bt-to-push
    timestamp: Sat 2009-05-23 00:29:41 +0100
    message:
      BUG#41725: upmerge: 5.0-bt --> 5.1-bt
        ------------------------------------------------------------
        revno: 1810.3910.4
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.0-bt-to-push
        timestamp: Sat 2009-05-23 00:15:21 +0100
        message:
          BUG#41725: slave crashes when inserting into temporary table after
          stop/start slave
                
          When stopping and restarting the slave while it is replicating
          temporary tables, the server would crash or raise an assertion
          failure. This was due to the fact that although temporary tables are
          saved between slave threads restart, the reference to the thread in
          use (table->in_use) was not being properly updated when the restart
          happened (it would still reference the old/invalid thread instead of
          the new one).
                
          This patch addresses this issue by resetting the reference to the new
          slave thread on slave thread restart.
        ------------------------------------------------------------
        revno: 1810.3910.3
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-05-22 11:38:52 -0400
        message:
          merge
    ------------------------------------------------------------
    revno: 2555.413.34
    committer: Patrick Crews <patrick.crews@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-05-22 11:24:45 -0400
    message:
      merge 5.0-> 5.1
        ------------------------------------------------------------
        revno: 1810.3910.2
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Fri 2009-05-22 10:38:17 -0400
        message:
          Bug#40465 - mysqldump.test does no checking of dump or restore
          
          Created new .test file - mysqldump_restore that does test restore from mysqldump
          output for a limited number of basic cases.
          Create new .inc file - mysqldump.inc - renames original table and uses mysqldump
          output to recreate the table, then uses diff_tables.inc to compare the two tables.
          Backported include/diff_tables.inc to facilitate this testing.
          New patch incorporating review feedback prior to push.
          
          mysqldump.test - removed redundant call to include/have_log_bin.inc (was used twice in the test!)
        ------------------------------------------------------------
        revno: 1810.3910.1
        committer: Patrick Crews <patrick.crews@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-05-21 16:03:53 -0400
        message:
          Bug#40465: mysqldump.test does no checking of dump or restore.
          
          Created new .test file - mysqldump_restore that does this for a limited number
          of basic cases.
          Created new .inc file - mysqldump.inc - renames original table and uses mysqldump
          output to recreate the table, then uses diff_tables.inc to compare the two tables.
          Backported include/diff_tables.inc to facilitate this testing.
    ------------------------------------------------------------
    revno: 2555.413.33
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-05-22 11:44:11 +0500
    message:
      Bug #42778: delete order by null global variable causes 
                  assertion .\filesort.cc, line 797
      
      Minor fix to test case (embedded server failure).
    ------------------------------------------------------------
    revno: 2555.413.32
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-05-22 01:22:46 +0500
    message:
      Bug #42778: delete order by null global variable causes
                  assertion .\filesort.cc, line 797
      
      A query with the "ORDER BY @@some_system_variable" clause,
      where @@some_system_variable is NULL, causes assertion
      failure in the filesort procedures.
      
      The reason of the failure is in the value of
      Item_func_get_system_var::maybe_null: it was unconditionally
      set to false even if the value of a variable was NULL.
    ------------------------------------------------------------
    revno: 2555.413.31
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-05-21 21:51:48 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3897.13
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-05-21 21:50:58 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 1810.3909.3
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my50-bug44796
        timestamp: Thu 2009-05-21 21:50:17 +0400
        message:
          Attempt #2 to fix PB failures introduced by the patch for bug #44796.
          
          Since max_allowed_packet is a read-only variable in 5.1 and up,
          disable warnings to avoid unnecessary test case complication.
    ------------------------------------------------------------
    revno: 2555.413.30
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-05-21 19:19:13 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3897.12
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-05-21 19:17:39 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 1810.3909.2
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my50-bug44796
        timestamp: Thu 2009-05-21 19:14:56 +0400
        message:
          Fixed a PB failure introduced by the patch for bug #44796.
          
          Set max_allowed_packet to get a consistent error message.
    ------------------------------------------------------------
    revno: 2555.413.29
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-05-21 16:17:53 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 1810.3897.11
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Thu 2009-05-21 16:15:25 +0400
        message:
          Automerge.
    ------------------------------------------------------------
    revno: 2555.413.28
    committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-05-21 16:16:17 +0400
    message:
      Automerge.
        ------------------------------------------------------------
        revno: 2555.430.2
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my51-bug44796
        timestamp: Thu 2009-05-21 16:08:16 +0400
        message:
          Automerge.
        ------------------------------------------------------------
        revno: 1810.3909.1
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: my50-bug44796
        timestamp: Wed 2009-05-20 12:30:06 +0400
        message:
          Bug #44796:  valgrind: too many my_longlong10_to_str_8bit 
                       warnings after uncompressed_length 
           
          UNCOMPRESSED_LENGTH() did not validate its argument. In 
          particular, if the argument length was less than 4 bytes, 
          an uninitialized memory value was returned as a result. 
           
          Since the result of COMPRESS() is either an empty string or 
          a 4-byte length prefix followed by compressed data, the bug was 
          fixed by ensuring that the argument of UNCOMPRESSED_LENGTH() is 
          either an empty string or contains at least 5 bytes (as done in 
          UNCOMPRESS()). This is the best we can do to validate input 
          without decompressing. 
    ------------------------------------------------------------
    revno: 2555.413.27
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Thu 2009-05-21 14:56:05 +0500
    message:
      Auto-merge.
        ------------------------------------------------------------
        revno: 2555.436.1
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: b44743-5.1-bugteam
        timestamp: Thu 2009-05-21 13:06:43 +0500
        message:
          Fix for bug#44743: Join in combination with concat does not always work
                  bug#44766: valgrind error when using convert() in a subquery
          
          Problem: input and output buffers may be the same 
          converting a string to some charset. 
          That may lead to wrong results/valgrind warnings.  
          
          Fix: use different buffers.
    ------------------------------------------------------------
    revno: 2555.413.26
    committer: Alfranio Correia <alfranio.correia@sun.com>
    branch nick: mysql-5.1-bugteam-push
    timestamp: Thu 2009-05-21 09:36:38 +0100
    message:
      auto-merge 5.1-bugteam (local) --> 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.435.1
        committer: Alfranio Correia <alfranio.correia@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Sun 2009-04-19 02:21:33 +0100
        message:
          BUG#43949 Initialization of slave produces a warning message in Valgrind
          
          In order to define the --slave-load-tmpdir, the init_relay_log_file()
          was calling fn_format(MY_PACK_FILENAME) which internally was indirectly
          calling strmov_overlapp() (through pack_dirname) and the following
          warning message was being printed out while running in Valgrind:
          "source and destination overlap in strcpy".
          
          We fixed the issue by removing the flag MY_PACK_FILENAME as it was not
          necessary. In a nutshell, with this flag the function fn_format() tried
          to replace a directory by either "~", "." or "..". However, we wanted
          exactly to remove such strings.
          
          In this patch, we also refactored the functions init_relay_log_file()
          and check_temp_dir(). The former was refactored to call the fn_format()
          with the flag MY_SAFE_PATH along with the MY_RETURN_REAL_PATH,  in order
          to avoid issues with long directories and return an absolute path,
          respectively. The flag MY_SAFE_UNPACK_FILENAME was removed too as it was
          responsible for removing "~", "." or ".." only from the file parameter
          and we wanted to remove such strings from the directory parameter in
          the fn_format(). This result is stored in an rli variable, which is then
          processed by the other function in order to verify if the directory exists
          and if we are able to create files in it.
    ------------------------------------------------------------
    revno: 2555.413.25
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-42308x
    timestamp: Wed 2009-05-20 21:58:29 +0200
    message:
      Merge of latest modfications into GCA tree, no conflicts
        ------------------------------------------------------------
        revno: 2555.433.4
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43560-51
        timestamp: Wed 2009-05-20 19:34:37 +0200
        message:
          Adding missing forward declaration for bug 43560
        ------------------------------------------------------------
        revno: 2555.433.3
        committer: Staale Smedseng <staale.smedseng@sun.com>
        branch nick: 43560-51
        timestamp: Wed 2009-05-20 16:17:47 +0200
        message:
          Recommit of bug 43560 after merge with mysql-5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.433.2
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-05-20 21:26:43 +0800
        message:
          Auto merge
            ------------------------------------------------------------
            revno: 2555.434.1
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: B44399-5.1-bugteam
            timestamp: Wed 2009-05-20 14:14:33 +0300
            message:
              Revert of the fix for bug #44399 (joro@sun.com-20090512135917-kal1dvtqpqgnj3yc).
        ------------------------------------------------------------
        revno: 2555.433.1
        committer: He Zhenxing <zhenxing.he@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-05-20 18:28:43 +0800
        message:
          Post fix of result file after push of BUG#42415
    ------------------------------------------------------------
    revno: 2555.413.24
    committer: Matthias Leich <Matthias.Leich@sun.com>
    branch nick: mysql-5.1-bugteam-42308x
    timestamp: Wed 2009-05-20 15:27:44 +0200
    message:
      Merge fix for bug 42308 into GCA tree
        ------------------------------------------------------------
        revno: 2555.432.1
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-42308
        timestamp: Fri 2009-05-15 12:15:56 +0200
        message:
          Fix for Bug#42308 Several server tests do not pass MTR's --check option
          
          Details:
          Most tests mentioned within the bug report were already fixed.
          The test modified here failed in stability (high parallel load) tests.
          
          Details:
          1. Take care that disconnects are finished before the test terminates.
          2. Correct wrong handling of send/reap in events_stress which caused
             random garbled output
          3. Minor beautifying of script code
    ------------------------------------------------------------
    revno: 2555.413.23
    committer: He Zhenxing <zhenxing.he@sun.com>
    branch nick: 5.1-bugteam
    timestamp: Wed 2009-05-20 16:24:22 +0800
    message:
      BUG#42415 UPDATE with LIMIT clause unsafe for statement format even when ORDER BY PK
      
      Change the warning message to 'Statement may not be safe to log in
      statement format' to indicate that the decision on whether a
      statement is safe or not is heuristic, and we are conservative.
    ------------------------------------------------------------
    revno: 2555.413.22
    committer: Georgi Kodinov <joro@sun.com>
    branch nick: B44399-5.1-bugteam
    timestamp: Tue 2009-05-12 16:59:17 +0300
    message:
      Bug #44399: crash with statement using TEXT columns, aggregates, GROUP BY, 
        and HAVING
      
      When calculating GROUP BY the server caches some expressions. It does
      that by allocating a string slot (Item_copy_string) and assigning the 
      value of the expression to it. This effectively means that the result
      type of the expression can be changed from whatever it was to a string.
      As this substitution takes place after the compile-time result type 
      calculation for IN but before the run-time type calculations, 
      it causes the type calculations in the IN function done at run time 
      to get unexpected results different from what was prepared at compile time.
      
      In the CASE ... WHEN ... THEN ... statement there was a similar problem
      and it was solved by artificially adding a STRING argument to the matrix
      at compile time, so if any of the arguments of the CASE function changes 
      its type to a string it will still be covered by the information prepared 
      at compile time.
      Extended the CASE fix for cover the IN case.
      An alternative way of fixing this problem is by caching the result type of 
      the arguments at compile time and using the cached information at run time
      instead of re-calculating the result types.
      Preferred the CASE approach for uniformity and fix localization.
    ------------------------------------------------------------
    revno: 2555.413.21
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Tue 2009-05-19 14:01:29 +0530
    message:
      merge to 5.1-bugteam tree
        ------------------------------------------------------------
        revno: 2555.431.1
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Tue 2009-05-19 11:48:04 +0500
        message:
          5.0-bugteam->5.1-bugteam merge
        ------------------------------------------------------------
        revno: 1810.3897.10
        committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Tue 2009-05-19 11:32:21 +0500
        message:
          Bug#39793 Foreign keys not constructed when column has a '#' in a comment or default value
          Internal InnoDN FK parser does not recognize '\'' as quotation symbol.
          Suggested fix is to add '\'' symbol check for quotation condition
          (dict_strip_comments() function).
    ------------------------------------------------------------
    revno: 2555.413.20
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Tue 2009-05-19 13:50:28 +0530
    message:
      Applying InnoDB snashot 5.1-ss5024,part 3. Fixes BUG#42101
      
      BUG#42101 - Race condition in innodb_commit_concurrency
      
      Detailed revision comments:
      
      r4994 | marko | 2009-05-14 15:04:55 +0300 (Thu, 14 May 2009) | 18 lines
      branches/5.1: Prevent a race condition in innobase_commit() by ensuring
      that innodb_commit_concurrency>0 remains constant at run time. (Bug #42101)
      
      srv_commit_concurrency: Make this a static variable in ha_innodb.cc.
      
      innobase_commit_concurrency_validate(): Check that innodb_commit_concurrency
      is not changed from or to 0 at run time.  This is needed, because
      innobase_commit() assumes that innodb_commit_concurrency>0 remains constant.
      Without this limitation, the checks for innodb_commit_concurrency>0
      in innobase_commit() should be removed and that function would have to
      acquire and release commit_cond_m at least twice per invocation.
      Normally, innodb_commit_concurrency=0, and introducing the mutex operations
      would mean significant overhead.
      
      innodb_bug42101.test, innodb_bug42101-nonzero.test: Test cases.
      
      rb://123 approved by Heikki Tuuri
    ------------------------------------------------------------
    revno: 2555.413.19
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Tue 2009-05-19 13:26:49 +0530
    message:
      Applying InnoDB snashot 5.1-ss5024, part 2. Fix for BUG#44320
      
      BUG#44320 - InnoDB: missing DB_ROLL_PTR in Table Monitor COLUMNS output
      
      Detailed revision comments:
      
      r4976 | marko | 2009-05-13 15:44:54 +0300 (Wed, 13 May 2009) | 6 lines
      branches/5.1: Display DB_ROLL_PTR in the COLUMNS section of the
      innodb_table_monitor output.  It was accidentally omitted due to an
      off-by-one loop condition.  (Bug #44320)
      
      rb://116 approved by Heikki Tuuri
    ------------------------------------------------------------
    revno: 2555.413.18
    committer: Satya B <satya.bn@sun.com>
    branch nick: mysql-5.1-bugteam-innodb
    timestamp: Tue 2009-05-19 13:22:19 +0530
    message:
      Applying InnoDB snashot 5.1-ss5024 part 1, Follow up Fix for BUG#43660
      
      Detailed revision comments:
      
      r4705 | vasil | 2009-04-14 14:30:13 +0300 (Tue, 14 Apr 2009) | 7 lines
      branches/5.1:
      
      When using the random function, first take the modulus by the number of pages
      and then typecast to ulint.
      
      This is a followup to r4699 - the fix of Bug#43660.
    ------------------------------------------------------------
    revno: 2555.413.17
    committer: Ramil Kalimullin <ramil@mysql.com>
    branch nick: b44860-5.1-bugteam
    timestamp: Tue 2009-05-19 09:25:36 +0500
    message:
      Fix for bug#44860: ALTER TABLE on view crashes server
      
      Problem: executing queries like "ALTER TABLE view1;" we don't
      check new view's name (which is not specified),
      that leads to server crash.
      
      Fix: do nothing (to be consistent with the behaviour for tables) 
      in such cases.
    ------------------------------------------------------------
    revno: 2555.413.16
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-05-19 00:51:52 +0500
    message:
      manual merge 5.0-bugteam --> 5.1-bugteam (bug 40825)
        ------------------------------------------------------------
        revno: 1810.3897.9
        committer: Gleb Shchepa <gshchepa@mysql.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Mon 2009-05-18 23:43:06 +0500
        message:
          Bug#40825: Error 1356 while selecting from a view
                     with a "HAVING" clause though query works
          
          SELECT from views defined like:
          
            CREATE VIEW v1 (view_column)
              AS SELECT c AS alias FROM t1 HAVING alias
          
          fails with an error 1356:
            View '...' references invalid table(s) or column(s)
            or function(s) or definer/invoker of view lack rights
            to use them
          
          
          CREATE VIEW form with a (column list) substitutes
          SELECT column names/aliases with names from a
          view column list.
          However, alias references in HAVING clause was
          not substituted.
          
          
          The Item_ref::print function has been modified
          to write correct aliased names of underlying
          items into VIEW definition generation/.frm file.
    ------------------------------------------------------------
    revno: 2555.413.15
    committer: Patrick Crews <patrick.crews@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-05-18 12:53:06 -0400
    message:
      Bug#44920 - MTR2 is not processing master.opt input properly on Windows
      
      Disabling these two tests as they are affected by this bug / causing PB2 failures
      on Windows platforms.  Can always disable via include/not_windows.inc if
      the bug fix looks like it will take some time.
    ------------------------------------------------------------
    revno: 2555.413.14
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-05-18 13:39:13 +0200
    message:
      Bug#19027 MySQL 5.0 starts even with Fatal InnoDB errors
      
      Fixed start up options for test case "rpl_ndb_2other-slave" to match
      the changed behavior for plugin options.
    ------------------------------------------------------------
    revno: 2555.413.13
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-05-18 10:35:44 +0200
    message:
      Automerge
        ------------------------------------------------------------
        revno: 2555.430.1
        committer: Gleb Shchepa <gshchepa@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Mon 2009-05-18 09:21:25 +0500
        message:
          Bug #44768: SIGFPE crash when selecting rand from a view containing null
          
          The RAND(N) function where the N is a field of "constant" table
          (table of single row) failed with a SIGFPE.
          
          Evaluation of RAND(N) rely on constant status of its argument.
          Current server "seeded" random value for each constant argument
          only once, in the Item_func_rand::fix_fields method.
          Then the server skipped a call to seed_random() in the
          Item_func_rand::val_real method for such constant arguments.
          
          However, non-constant state of an argument may be changed
          after the call to fix_fields, if an argument is a field of
          "constant" table. Thus, pre-initialization of random value
          in the fix_fields method is too early.
          
          
          Initialization of random value by seed_random() has been
          removed from Item_func_rand::fix_fields method.
          The Item_func_rand::val_real method has been modified to
          call seed_random() on the first evaluation of this method
          if an argument is a function.
    ------------------------------------------------------------
    revno: 2555.413.12
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Mon 2009-05-18 10:10:30 +0200
    message:
      Bug#19027 MySQL 5.0 starts even with Fatal InnoDB errors
      
      convert_dash_to_underscore was supplied with a character length containing
      my byte too many which caused valgrind errors of invalid read.
    ------------------------------------------------------------
    revno: 2555.413.11
    committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Sun 2009-05-17 22:16:21 +0200
    message:
      Bug#19027 MySQL 5.0 starts even with Fatal InnoDB errors
      
      Fix bug in mtr_cases.pm script visible only when InnoDB isn't configured.
    ------------------------------------------------------------
    revno: 2555.413.10
    committer: Narayanan V <v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-44856
    timestamp: Sun 2009-05-17 22:50:20 +0530
    message:
      Bug#44856 IBMDB2I gives misleading 2504 error
      
      Occasionally, if both the partition_pruning
      and partition_range tests are run sequentially
      against the IBMDB2I engine, the partition_range
      test will fail.
      
      Compiler padding on a 64-bit build allowed
      garbage data in the hash key used for
      caching open iconv descriptors. As a
      result, cached descriptors were not found,
      and multiple duplicate iconv descriptors
      were opened for a single character set.
      Eventually, the maximum number of open
      iconv descriptors was reached, and further
      iconv_open() calls would fail, leading the
      storage engine to report incorrectly that
      the character set was not supported.
      
      This patch widens the 16-bit members of the
      hash key to 32 bits to eliminate compiler
      padding. The entire length of the hash key
      is now initialized correctly on both 32-bit
      and 64-bit builds.
    ------------------------------------------------------------
    revno: 2555.413.9
    committer: Narayanan V <v.narayanan@sun.com>
    branch nick: mysql-5.1-bugteam-44610
    timestamp: Sun 2009-05-17 21:55:23 +0530
    message:
      Bug#44610 RCDFMT clause requested when creating DB2 table
      
      In order to better support the usage of
      IBMDB2I tables from within RPG programs,
      the storage engine should ensure that the
      RCDFMT name is consistent and predictable
      for DB2 tables.
      
      This patch appends a "RCDFMT <name>"
      clause to the CREATE TABLE statement
      that is passed to DB2.  <name> is
      generated from the original name of
      the table itself. This ensures a
      consistent and deterministic mapping
      from the original table.
      
      For the sake of simplicity only
      the alpha-numeric characters are
      preserved when generating the new
      name, and these are upper-cased;
      other characters are replaced with
      an underscore (_). Following DB2
      system identifier rules, the name
      always begins with an alpha-character
      and has a maximum of ten characters.
      If no usable characters are found in
      the table name, the name X is used.
    ------------------------------------------------------------
    revno: 2555.413.8
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-05-15 10:40:51 -0700
    message:
      Merge from 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.423.12
        committer: Matthias Leich <Matthias.Leich@sun.com>
        branch nick: mysql-5.1-bugteam-44826x
        timestamp: Fri 2009-05-15 17:47:50 +0200
        message:
          Merge 5.0 -> 5.1 of fix for bug 44826
            ------------------------------------------------------------
            revno: 1810.3897.8
            committer: Matthias Leich <Matthias.Leich@sun.com>
            branch nick: mysql-5.0-bugteam-44826x
            timestamp: Fri 2009-05-15 17:41:35 +0200
            message:
              Merge of fix into GCA tree, no conflicts
            ------------------------------------------------------------
            revno: 1810.3908.1
            committer: Matthias Leich <Matthias.Leich@sun.com>
            branch nick: mysql-5.0-bugteam-44826
            timestamp: Fri 2009-05-15 11:59:31 +0200
            message:
              Fix for Bug#44826 main.information_schema_db could harm succeeding tests
              
              Details:
              1. Add missing "disconnect <session>"
              2. Take care that the disconnects are finished when the test terminates
              3. Replace error names by error numbers
              4. Minor beautifying of script code
        ------------------------------------------------------------
        revno: 2555.423.11
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-final-5.1-bugteam
        timestamp: Fri 2009-05-15 16:40:09 +0300
        message:
          fixed a compile warning in 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.423.10
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-final-5.1-bugteam
        timestamp: Fri 2009-05-15 16:25:29 +0300
        message:
          merge
            ------------------------------------------------------------
            revno: 1810.3897.7
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-05-15 16:13:54 +0300
            message:
              backported a change from 5.1
            ------------------------------------------------------------
            revno: 1810.3897.6
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-05-15 16:12:31 +0300
            message:
              merged
                ------------------------------------------------------------
                revno: 1810.3907.1
                committer: Philip Stoev <pstoev@mysql.com>
                branch nick: 5.0-bugteam
                timestamp: Fri 2009-05-15 13:06:11 +0300
                message:
                    Bug #32651 grant_cache.test fails
                  
                    It turns out that this test case no longer fails with the discrepancy
                    in numbers that was the original cause for disabling this test (and showed
                    potential genuine issues with the query cache). Therefore
                    this test is being enabled after some minor adjustment of error codes and
                    messages.
            ------------------------------------------------------------
            revno: 1810.3897.5
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-05-15 16:11:27 +0300
            message:
              fixed a win32 compile error
            ------------------------------------------------------------
            revno: 1810.3897.4
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.0-bugteam
            timestamp: Fri 2009-05-15 12:29:41 +0300
            message:
              merged 5.0-main -> 5.0-bugteam
        ------------------------------------------------------------
        revno: 2555.423.9
        committer: Georgi Kodinov <joro@sun.com>
        branch nick: merge-final-5.1-bugteam
        timestamp: Fri 2009-05-15 16:03:22 +0300
        message:
          merged 5.1-main -> 5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.372.33
            committer: Georgi Kodinov <joro@sun.com>
            branch nick: merge-5.1-bugteam
            timestamp: Fri 2009-05-15 15:57:51 +0300
            message:
              merged 5.0-main -> 5.1-main
                ------------------------------------------------------------
                revno: 1810.3870.13
                committer: Chad MILLER <chad@mysql.com>
                branch nick: mysql-5.0
                timestamp: Tue 2009-05-12 09:14:23 -0400
                message:
                  Remove community-server only feature and place in its own test
                  with appropriate condition.
                ------------------------------------------------------------
                revno: 1810.3870.12
                committer: Chad MILLER <chad@mysql.com>
                branch nick: mysql-5.0
                timestamp: Mon 2009-05-11 14:42:43 -0400
                message:
                  Merge with trunk.
                    ------------------------------------------------------------
                    revno: 1810.3857.18
                    committer: Joerg Bruehe <joerg@mysql.com>
                    branch nick: push-5.0
                    timestamp: Fri 2009-05-08 22:41:48 +0200
                    message:
                      Merge from main 5.0 (again) into 5.0-build - just version number change.
                        ------------------------------------------------------------
                        revno: 1810.3906.4
                        author: karen.langford@sun.com
                        committer: MySQL Build Team <build@mysql.com>
                        branch nick: mysql-5.0
                        timestamp: Thu 2009-05-07 21:42:19 +0200
                        message:
                          Raise version number after cloning 5.0.82
                        ------------------------------------------------------------
                        revno: 1810.3906.3
                        tags: clone-5.0.82-build
                        author: Daniel Fischer <df@sun.com>
                        committer: MySQL Build Team <build@mysql.com>
                        branch nick: mysql-5.0.81-merge
                        timestamp: Thu 2009-05-07 20:07:14 +0200
                        message:
                          merge 5.0.81 into 5.0
                        ------------------------------------------------------------
                        revno: 1810.3906.2
                        tags: mysql-5.0.81
                        committer: MySQL Build Team <build@mysql.com>
                        branch nick: mysql-5.0.81-release
                        timestamp: Fri 2009-05-01 19:37:23 +0200
                        message:
                          merge in small portability tweaks from 5.0.80
                        ------------------------------------------------------------
                        revno: 1810.3906.1
                        author: df@sun.com
                        committer: MySQL Build Team <build@mysql.com>
                        branch nick: mysql-5.0.81-release
                        timestamp: Thu 2009-04-16 13:30:52 +0200
                        message:
                          adjust version number
                    ------------------------------------------------------------
                    revno: 1810.3857.17
                    committer: Joerg Bruehe <joerg@mysql.com>
                    branch nick: push-5.0
                    timestamp: Fri 2009-05-08 22:16:06 +0200
                    message:
                      Merge main 5.0 into 5.0-build
                ------------------------------------------------------------
                revno: 1810.3870.11
                committer: Chad MILLER <chad@mysql.com>
                branch nick: mysql-5.0
                timestamp: Mon 2009-05-11 10:00:03 -0400
                message:
                  Fix improperly-protected variable definition and use.
                  
                  Also, add CPP so Windows works properly for profiling. Community-server
                  functionality is required.
                ------------------------------------------------------------
                revno: 1810.3870.10
                committer: Chad MILLER <chad@mysql.com>
                branch nick: mysql-5.0
                timestamp: Wed 2009-05-06 09:06:32 -0400
                message:
                  Merge community up to enterprise, thus ending the community-server
                  adventure.
                    ------------------------------------------------------------
                    revno: 1810.3902.17
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Tue 2009-05-05 17:03:23 -0400
                    message:
                      Pull 5.1 treatment of community features into 5.0.
                    ------------------------------------------------------------
                    revno: 1810.3902.16
                    tags: clone-5.0.81-build
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Tue 2009-04-14 13:20:13 -0400
                    message:
                      Merge 5.0.80 release and 5.0 community.  Version left at 5.0.80.
                    ------------------------------------------------------------
                    revno: 1810.3902.15
                    tags: mysql-5.0.77
                    committer: Joerg Bruehe <joerg@mysql.com>
                    branch nick: community-5.0
                    timestamp: Wed 2009-01-28 15:01:04 +0100
                    message:
                      Merge tool fixes which were done while building 5.0.72sp1
                      (all connected with using Solaris to run the Bootstrap on)
                      into the community tree.
                      
                      The other changes listed here are backports from 5.0.74
                      which are in both the enterprise and the community tree already.
                    ------------------------------------------------------------
                    revno: 1810.3902.14
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Wed 2009-01-21 13:45:23 -0500
                    message:
                      Merge from Tim's 5.0.76-release tree to make 5.0.77 .
                    ------------------------------------------------------------
                    revno: 1810.3902.13
                    author: joerg@mysql.com
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Thu 2008-12-18 17:53:47 +0100
                    message:
                      Raise version number after cloning 5.0.75
                    ------------------------------------------------------------
                    revno: 1810.3902.12
                    tags: mysql-5.0.75, clone-5.0.75-build
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Wed 2008-12-17 15:01:34 -0500
                    message:
                      Merged from 5.0 (enterprise).
                    ------------------------------------------------------------
                    revno: 1810.3902.11
                    author: Jonathan Perkin <jperkin@sun.com>
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Fri 2008-08-15 11:43:44 +0200
                    message:
                      Merge from mysql-5.0.67-release
                        ------------------------------------------------------------
                        revno: 1810.3904.9
                        tags: mysql-5.0.67
                        author: Jonathan Perkin <jperkin@sun.com>
                        committer: mysqldev <mysqldev@production.mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Mon 2008-08-04 13:45:50 +0200
                        message:
                          Revert previous unintentional license change.
                        ------------------------------------------------------------
                        revno: 1810.3904.8
                        author: Jonathan Perkin <jperkin@sun.com>
                        committer: mysqldev <mysqldev@production.mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Mon 2008-08-04 12:05:21 +0200
                        message:
                          Change preprocessor tests to match what we will be using.
                        ------------------------------------------------------------
                        revno: 1810.3904.7
                        author: Jonathan Perkin <jperkin@sun.com>
                        committer: mysqldev <mysqldev@production.mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Mon 2008-08-04 11:39:05 +0200
                        message:
                          Use autoconf glue around new my_is_symlink to avoid stat(2) and friends
                          being used on systems which don't support that interface.
                        ------------------------------------------------------------
                        revno: 1810.3904.6
                        committer: Alexey Botchkov <holyfoot@mysql.com>
                        branch nick: 50xyz
                        timestamp: Thu 2008-07-31 15:09:16 +0500
                        message:
                          merging
                            ------------------------------------------------------------
                            revno: 1810.3905.1
                            committer: Georgi Kodinov <kgeorge@mysql.com>
                            branch nick: mysql-5.0.67-release
                            timestamp: Thu 2008-07-31 12:41:30 +0300
                            message:
                              Bug#34159: mysql_install_db fails with sql_mode=TRADITIONAL
                                    
                              Reset session sql_mode before creating system tables as it
                              is done in the mysql_fix_privilege_tables.sql script.
                        ------------------------------------------------------------
                        revno: 1810.3904.5
                        committer: Alexey Botchkov <holyfoot@mysql.com>
                        branch nick: 50xyz
                        timestamp: Thu 2008-07-31 14:42:44 +0500
                        message:
                          Buq#32167 another privilege bypass with DATA/INDEX DIRECTORY.
                          
                              test_if_data_home_dir fixed to look into real path.
                              Checks added to mi_open for symlinks into data home directory.
                          
                           per-file messages:
                                  include/my_sys.h
                                    Bug#32167 another privilege bypass with DATA/INDEX DIRECTORY.
                                    
                                    my_is_symlink interface added
                          
                                  mysql-test/r/udf.result
                                    test result fixed (not related to #32167)
                          
                                  mysys/my_symlink.c
                                    my_is_symlink() implementsd
                                    my_realpath() now returns the 'realpath' even if a file isn't a symlink
                        ------------------------------------------------------------
                        revno: 1810.3904.4
                        committer: Alexey Botchkov <holyfoot@mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Mon 2008-07-28 19:22:12 +0500
                        message:
                          Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                                
                                plugin_dir option backported from 5.1
                          
                          per-file messages:
                            sql/mysql_priv.h
                              Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                              
                              opt_plugin_dir and opt_plugin_dir_ptr declared.
                            sql/mysqld.cc
                              Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                              
                              'plugin_dir' option added
                            sql/set_var.cc
                              Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                              
                              'plugin_dir' option added.
                            sql/sql_udf.cc
                              Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                              
                              opt_plugin_dir added to the udf->dl path. Warn if it's not specified.
                            sql/unireg.h
                              Bug#37428 Potential security issue with UDFs - linux shellcode execution.
                              
                              PLUGINDIR defined.
                        ------------------------------------------------------------
                        revno: 1810.3904.3
                        author: Jonathan Perkin <jperkin@sun.com>
                        committer: mysqldev <mysqldev@production.mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Fri 2008-07-18 17:40:31 +0200
                        message:
                          Merge fix for bug#38180 from mysql-5.0.66a-release
                        ------------------------------------------------------------
                        revno: 1810.3904.2
                        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
                        branch nick: mysql-5.0.67-release
                        timestamp: Thu 2008-07-17 20:19:13 -0300
                        message:
                          Bug#33812: mysql client incorrectly parsing DELIMITER
                          
                          Revert fix for this bug as it introduced a regression
                          reported in Bug#38158.
                        ------------------------------------------------------------
                        revno: 1810.3904.1
                        author: Jonathan Perkin <jperkin@sun.com>
                        committer: mysqldev <mysqldev@production.mysql.com>
                        branch nick: mysql-5.0.67-release
                        timestamp: Thu 2008-07-17 17:39:33 +0200
                        message:
                          Merge from mysql-5.0.66-release
                    ------------------------------------------------------------
                    revno: 1810.3902.10
                    author: Jonathan Perkin <jperkin@sun.com>
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Fri 2008-07-18 17:43:39 +0200
                    message:
                      Merge fix for bug#38180 from mysql-5.0.66a-release
                    ------------------------------------------------------------
                    revno: 1810.3902.9
                    author: Jonathan Perkin <jperkin@sun.com>
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Thu 2008-07-17 17:35:05 +0200
                    message:
                      Merge from mysql-5.0.66-release
                    ------------------------------------------------------------
                    revno: 1810.3902.8
                    author: Jonathan Perkin <jperkin@sun.com>
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Wed 2008-07-16 18:07:16 +0200
                    message:
                      Raise version number after cloning 5.0.67
                    ------------------------------------------------------------
                    revno: 1810.3902.7
                    tags: clone-5.0.67-build
                    author: Jonathan Perkin <jperkin@sun.com>
                    committer: mysqldev <mysqldev@production.mysql.com>
                    branch nick: mysql-5.0-community
                    timestamp: Wed 2008-07-16 17:47:30 +0200
                    message:
                      Put version number back to 5.0.67
                    ------------------------------------------------------------
                    revno: 1810.3902.6
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Tue 2008-07-15 12:51:05 -0400
                    message:
                      Fixed packet-test bug caused by if block that didn't have curly braces.
                    ------------------------------------------------------------
                    revno: 1810.3902.5
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 50c-badpacket
                    timestamp: Mon 2008-07-14 16:16:37 -0400
                    message:
                      Merge from 5.0 trunk.
                    ------------------------------------------------------------
                    revno: 1810.3902.4
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Thu 2008-07-10 14:50:07 -0400
                    message:
                      Merge chunk from trunk.
                    ------------------------------------------------------------
                    revno: 1810.3902.3
                    committer: Chad MILLER <chad@mysql.com>
                    branch nick: 5.0-community
                    timestamp: Thu 2008-07-10 14:47:53 -0400
                    message:
                      Merge chunk from trunk.
                    ------------------------------------------------------------
                    revno: 1810.3902.2
                    committer: df@pippilotta.erinye.com
                    timestamp: Wed 2008-01-23 17:00:54 +0100
                    message:
                      Merge dev:/data0/mysqldev/my/build-200801111228-5.0.51a/mysql-5.0-release
                      into  pippilotta.erinye.com:/shared/home/df/mysql/build/mysql-5.0-community
                        ------------------------------------------------------------
                        revno: 1810.3903.5
                        tags: mysql-5.0.51a
                        committer: dfischer/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2008-01-11 15:37:18 +0100
                        message:
                          view_grant.result, view_grant.test, sql_view.cc:
                            apply patch for bug#29908
                        ------------------------------------------------------------
                        revno: 1810.3903.4
                        committer: dfischer/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2008-01-11 15:27:18 +0100
                        message:
                          ha_federated.cc:
                            patch for bug#29801
                        ------------------------------------------------------------
                        revno: 1810.3903.3
                        committer: dfischer/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2008-01-11 15:19:32 +0100
                        message:
                          mysqlcheck.result:
                            fix test case - bug#32458
                        ------------------------------------------------------------
                        revno: 1810.3903.2
                        committer: dfischer/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2008-01-11 15:15:11 +0100
                        message:
                          template_instnt.cpp, yassl_imp.cpp, handshake.cpp:
                            apply patch for bug#33814
                        ------------------------------------------------------------
                        revno: 1810.3903.1
                        committer: dfischer/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2008-01-11 13:47:43 +0100
                        message:
                          configure.in:
                            adjust version number
                    ------------------------------------------------------------
                    revno: 1810.3902.1
                    committer: cmiller@zippy.cornsilk.net
                    timestamp: Mon 2007-12-10 15:28:17 -0500
                    message:
                      Merge bk-internal.mysql.com:/home/bk/mysql-5.0
                      into  zippy.cornsilk.net:/home/cmiller/work/mysql/mysql-5.0-community
                    ------------------------------------------------------------
                    revno: 1810.3899.4
                    committer: cmiller@zippy.cornsilk.net
                    timestamp: Fri 2007-12-07 11:52:41 -0500
                    message:
                      Merge bk-internal.mysql.com:/home/bk/mysql-5.0-community
                      into  zippy.cornsilk.net:/home/cmiller/work/mysql/mysql-5.0-community
                        ------------------------------------------------------------
                        revno: 1810.3900.5
                        committer: kent@mysql.com/kent-amd64.(none)
                        timestamp: Thu 2007-12-06 10:23:58 +0100
                        message:
                          configure.in:
                            Merged missing change in the 5.0 community repository, --without-server
                            was not working if thread safe client was enabled (Bug#32898)
                    ------------------------------------------------------------
                    revno: 1810.3899.3
                    committer: cmiller@zippy.cornsilk.net
                    timestamp: Tue 2007-12-04 08:51:58 -0500
                    message:
                      Merge bk-internal.mysql.com:/home/bk/mysql-5.0-community
                      into  zippy.cornsilk.net:/home/cmiller/work/mysql/mysql-5.0-community
                        ------------------------------------------------------------
                        revno: 1810.3900.4
                        committer: joerg/mysqldev@mysql.com/production.mysql.com
                        timestamp: Fri 2007-11-30 19:27:29 +0100
                        message:
                          Merge bk-internal:/home/bk/mysql-5.0-community
                          into  mysql.com:/data0/mysqldev/my/mysql-5.0-community
                            ------------------------------------------------------------
                            revno: 1810.3901.1
                            committer: gluh@mysql.com/eagle.(none)
                            timestamp: Thu 2007-11-22 14:10:18 +0400
                            message:
                              Bug#32458 Test "mysqlcheck" fails, because "mysqlcheck --repair" changed output format
                              update result file because of Bug#26976 changes
                        ------------------------------------------------------------
                        revno: 1810.3900.3
                        tags: mysql-5.0.51
                        committer: joerg/mysqldev@mysql.com/production.mysql.com
                        timestamp: Thu 2007-11-15 14:59:40 +0100
                        message:
                          Prevent a sytax error in the top-level "Makefile".
                        ------------------------------------------------------------
                        revno: 1810.3900.2
                        committer: joerg/mysqldev@mysql.com/production.mysql.com
                        timestamp: Thu 2007-11-15 10:55:47 +0100
                        message:
                          BUG#32111 - Security Breach via DATA/INDEX DIRECORY and RENAME TABLE
                          
                          RENAME TABLE against a table with DATA/INDEX DIRECTORY overwrites
                          the file to which the symlink points.
                          
                          This is security issue, because it is possible to create a table with
                          some name in some non-system database and set DATA/INDEX DIRECTORY
                          to mysql system database. Renaming this table to one of mysql system
                          tables (e.g. user, host) would overwrite the system table.
                          
                          Return an error when the file to which the symlink points exist.
                          
                          (This is a copy of changeset 2007/11/06 18:09:33+04:00 svoj@mysql.com
                          and its merge changesets on the way from 4.0 up to 5.0)
                        ------------------------------------------------------------
                        revno: 1810.3900.1
                        committer: joerg/mysqldev@mysql.com/production.mysql.com
                        timestamp: Thu 2007-11-15 10:00:39 +0100
                        message:
                          Revert a premature version upgrade - this is 5.0.51 still.
                    ------------------------------------------------------------
                    revno: 1810.3899.2
                    committer: cmiller@zippy.cornsilk.net
                    timestamp: Wed 2007-11-14 15:11:58 -0500
                    message:
                      Push history-limiting code until after the code that adds new 
                      history entries.  Lazy deletion isn't smart or useful here.
                      
                      Backport from 5.1 .
                    ------------------------------------------------------------
                    revno: 1810.3899.1
                    tags: clone-5.0.51-build
                    committer: cmiller@zippy.cornsilk.net
                    timestamp: Wed 2007-11-07 13:25:20 -0500
                    message:
                      Merge mysqldev@production.mysql.com:/data0/mysqldev/my/mysql-5.0-release
                      into  zippy.cornsilk.net:/home/cmiller/work/mysql/mysql-5.0-community
                ------------------------------------------------------------
                revno: 1810.3870.9
                committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
                branch nick: mysql-5.0
                timestamp: Tue 2009-05-05 20:41:58 +0200
                message:
                  Merge from 5.0-pe-stage into main.
                ------------------------------------------------------------
                revno: 1810.3870.8
                author: timothy.smith@sun.com
                committer: MySQL Build Team <build@mysql.com>
                branch nick: mysql-5.0
                timestamp: Fri 2009-05-01 19:43:27 +0200
                message:
                  Merge from mysql-5.0.80-release
                ------------------------------------------------------------
                revno: 1810.3898.2
                tags: mysql-5.0.80
                committer: MySQL Build Team <build@mysql.com>
                branch nick: mysql-5.0.80-release
                timestamp: Fri 2009-05-01 19:35:04 +0200
                message:
                  A few portability tweaks for Netware, SCO and QNX
                ------------------------------------------------------------
                revno: 1810.3898.1
                committer: MySQL Build Team <build@mysql.com>
                branch nick: mysql-5.0.80-release
                timestamp: Mon 2009-04-13 21:06:24 +0200
                message:
                  Merge in missing changes from mysql-5.0.79-release
            ------------------------------------------------------------
            revno: 2555.372.32
            committer: Joerg Bruehe <joerg@mysql.com>
            branch nick: mysql-5.1
            timestamp: Fri 2009-05-15 09:53:50 +0200
            message:
              Fix a bad merge:
              Remove a cast (which shouldn't have got here anyway)
              which might lose significant bits beyond 4 GB RAM.
            ------------------------------------------------------------
            revno: 2555.372.31
            committer: Jonathan Perkin <jperkin@sun.com>
            branch nick: mysql-5.1
            timestamp: Thu 2009-05-14 13:07:11 +0200
            message:
              Raise version number after cloning 5.1.35
        ------------------------------------------------------------
        revno: 2555.423.8
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-15 11:23:23 +0200
        message:
          Automerge
            ------------------------------------------------------------
            revno: 2555.428.3
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-15 12:56:37 +0400
            message:
              Automerge.
                ------------------------------------------------------------
                revno: 1810.3897.3
                committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
                branch nick: mysql-5.0-bugteam
                timestamp: Fri 2009-05-15 12:54:40 +0400
                message:
                  Automerge.
            ------------------------------------------------------------
            revno: 2555.428.2
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-15 12:55:01 +0400
            message:
              Automerge.
                ------------------------------------------------------------
                revno: 2555.429.1
                committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
                branch nick: my51-bug44792
                timestamp: Fri 2009-05-15 12:42:57 +0400
                message:
                  Automerge.
                ------------------------------------------------------------
                revno: 1810.3891.12
                committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
                branch nick: my50-bug44792
                timestamp: Fri 2009-05-15 12:16:00 +0400
                message:
                  Bug #44792: valgrind warning when casting from time to time 
                   
                  Field_time::get_time() did not initialize some members of 
                  MYSQL_TIME which led to valgrind warnings when those members 
                  were accessed in Protocol_simple::store_time(). 
                   
                  It is unlikely that this bug could result in wrong data 
                  being returned, since Field_time::get_time() initializes the 
                  'day' member of MYSQL_TIME to 0, so the value of 'day' 
                  in Protocol_simple::store_time() would be 0 regardless 
                  of the values for 'year' and 'month'.
            ------------------------------------------------------------
            revno: 2555.428.1
            committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-15 12:11:07 +0500
            message:
              5.0-bugteam->5.1-bugteam merge
            ------------------------------------------------------------
            revno: 1810.3897.2
            committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-05-15 12:03:34 +0500
            message:
              Bug#43612 crash with explain extended, union, order by
              In UNION if we use last SELECT without braces and this
              SELECT have ORDER BY clause, such clause belongs to
              global UNION. It is parsed like last SELECT
              part and used further as 'unit->global_parameters->order_list' value.
              During DESCRIBE EXTENDED we call select_lex->print_order() for
              last SELECT where order fields refer to tmp table 
              which already freed. It leads to crash.
              The fix is clean up global_parameters->order_list
              instead of fake_select_lex->order_list.
            ------------------------------------------------------------
            revno: 1810.3897.1
            committer: Philip Stoev <pstoev@mysql.com>
            branch nick: 5.0-bugteam-pristine
            timestamp: Thu 2009-05-14 15:14:25 +0300
            message:
                Bugs #44871 and #43894:
              
                UNIX sockets need to be on a path shorter than 70 characters on some older platofrms.
                MTRv1 tries to fix this by moving the socket to the $TMPDIR, however this causes
                issues with certain tests on Windows.
              
                Fixed by not applying any hacks on Windows - Windows does not need them.
        ------------------------------------------------------------
        revno: 2555.423.7
        committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-15 09:36:42 +0200
        message:
          Auto merge
            ------------------------------------------------------------
            revno: 2555.427.1
            committer: Kristofer Pettersson <kristofer.pettersson@sun.com>
            branch nick: 51-bug19027
            timestamp: Thu 2009-05-14 14:03:33 +0200
            message:
              Bug#19027 MySQL 5.0 starts even with Fatal InnoDB errors
              
              It is not possible to prevent the server from starting if a mandatory
              built-in plugin fails to start. This can in some cases lead to data
              corruption when the old table name space suddenly is used by a different
              storage engine.
              
              A boolean command line option in the form of --foobar is automatically
              created for every existing plugin "foobar". By changing this command line
              option from a boolean to a tristate { OFF, ON, FORCE } it is possible to
              specify the plugin loading policy for each plugin.
              
              The behavior is specified as follows:
                 OFF   = Disable the plugin and start the server
                 ON    = Enable the plugin and start the server even if an error occurrs
                         during plugin initialization.
                 FORCE = Enable the plugin but don't start the server if an error occurrs
                         during plugin initialization.
        ------------------------------------------------------------
        revno: 2555.423.6
        committer: Philip Stoev <pstoev@mysql.com>
        branch nick: 5.1-bugteam
        timestamp: Thu 2009-05-14 15:37:00 +0300
        message:
          null merge. fix not applicable to 5.1
            ------------------------------------------------------------
            revno: 1810.3891.11
            committer: Philip Stoev <pstoev@mysql.com>
            branch nick: 5.0-bugteam
            timestamp: Thu 2009-05-14 14:44:47 +0300
            message:
              Bugs #44871 and #43894:
              
              UNIX sockets need to be on a path shorter than 70 characters on some older platofrms.
              MTRv1 tries to fix this by moving the socket to the $TMPDIR, however this causes
              issues with certain tests on Windows.
              
              Fixed by not applying any hacks on Windows - Windows does not need them.
        ------------------------------------------------------------
        revno: 2555.423.5
        committer: Luis Soares <luis.soares@sun.com>
        branch nick: 5.1-bt-to-push
        timestamp: Thu 2009-05-14 12:51:03 +0100
        message:
          merge: 5.1-bt local bug fix branch --> 5.1-bt up-to-date.
            ------------------------------------------------------------
            revno: 2555.426.1
            committer: Luis Soares <luis.soares@sun.com>
            branch nick: 5.1-bt
            timestamp: Tue 2009-05-12 12:53:46 +0100
            message:
              BUG#42749: infinite loop writing to row based binlog - processlist shows
              "freeing items"
              
              The calculation of the table map log event in the event constructor
              was one byte shorter than what would be actually written. This would
              lead to a mismatch between the number of bytes written and the event
              end_log_pos, causing bad event alignment in the binlog (corrupted
              binlog) or in the transaction cache while fixing positions
              (MYSQL_BIN_LOG::write_cache). This could lead to impossible to read
              binlog or even infinite loops in MYSQL_BIN_LOG::write_cache.
              
              This patch addresses this issue by correcting the expected event
              length in the Table_map_log_event constructor, when the field metadata
              size exceeds 255.
        ------------------------------------------------------------
        revno: 2555.423.4
        committer: Narayanan V <v.narayanan@sun.com>
        branch nick: mysql-5.1-bugteam-44232-1
        timestamp: Thu 2009-05-14 17:00:03 +0530
        message:
          merging with mysql-5.1-bugteam
            ------------------------------------------------------------
            revno: 2555.425.1
            committer: Narayanan V <v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-44232
            timestamp: Thu 2009-05-14 16:05:09 +0530
            message:
              Bug#44232 Error msg should be improved when collation not supported.
              
              checking in a test case that will reproduce
              the error on v5r4.
        ------------------------------------------------------------
        revno: 2555.423.3
        committer: Davi Arnaut <Davi.Arnaut@Sun.COM>
        branch nick: 44664-5.1
        timestamp: Mon 2009-05-11 20:54:00 -0300
        message:
          Bug#44664: valgrind warning for COMMIT_AND_CHAIN and ROLLBACK_AND_CHAIN
          
          The problem is that the internal variable used to specify a
          transaction with consistent read was being used outside the
          processing context of a START TRANSACTION WITH CONSISTENT
          SNAPSHOT statement. The practical consequence was that a
          consistent snapshot specification could leak to unrelated
          transactions on the same session.
          
          The solution is to ensure a consistent snapshot clause is
          only relied upon for the START TRANSACTION statement.
          
          This is already fixed in a similar way on 6.0.
        ------------------------------------------------------------
        revno: 2555.423.2
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Thu 2009-05-14 11:45:43 +0530
        message:
          merging with fix for compiler warnings.
            ------------------------------------------------------------
            revno: 2555.424.1
            committer: Anurag Shekhar <anurag.shekhar@sun.com>
            branch nick: mysql-5.1-bugteam-windows-warning
            timestamp: Wed 2009-05-13 15:41:24 +0530
            message:
              Bug #39802 On Windows, 32-bit time_t should be enforced
              
              This patch fixes compilation warning, "conversion from 'time_t' to 'ulong', 
              possible loss of data". 
              The fix is to typecast time_t to ulong before assigning it to ulong. 
              Backported this from 6.0-bugteam tree.
        ------------------------------------------------------------
        revno: 2555.423.1
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-05-13 23:39:35 +0500
        message:
          Auto-merge.
        ------------------------------------------------------------
        revno: 1810.3891.10
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: mysql-5.0-bugteam
        timestamp: Wed 2009-05-13 09:21:38 +0500
        message:
          Fix for bug#44774 merged.
        ------------------------------------------------------------
        revno: 1810.3895.4
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: b44774-5.0-bugteam
        timestamp: Tue 2009-05-12 13:18:27 +0500
        message:
          Fix for bug#44774: load_file function produces valgrind warnings
          
          Problem: using LOAD_FILE() in some cases we pass a file name string
          without a trailing '\0' to fn_format() which relies on that however.
          That may lead to valgrind warnings.
          
          Fix: add a trailing '\0' to the file name passed to fn_format().
    ------------------------------------------------------------
    revno: 2555.413.7
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Fri 2009-05-15 10:36:59 -0700
    message:
      Fix syntax in test to eliminate failure on Windows.
    ------------------------------------------------------------
    revno: 2555.413.6
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-05-13 08:56:34 -0700
    message:
      Merge from 5.1-bugteam
        ------------------------------------------------------------
        revno: 2555.422.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt
        timestamp: Wed 2009-05-13 17:24:27 +0200
        message:
          Merge.
        ------------------------------------------------------------
        revno: 2555.421.1
        committer: Martin Hansson <mhansson@mysql.com>
        branch nick: 5.1bt-gca
        timestamp: Tue 2009-05-05 11:38:19 +0200
        message:
          Bug#43580: Issue with Innodb on multi-table update
                                  
          Certain multi-updates gave different results on InnoDB from
          to MyISAM, due to on-the-fly updates being used on the former and
          the update order matters.
          Fixed by turning off on-the-fly updates when update order 
          dependencies are present.
    ------------------------------------------------------------
    revno: 2555.413.5
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Wed 2009-05-13 08:48:00 -0700
    message:
      Merge from 5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3891.9
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.0
        timestamp: Tue 2009-05-12 14:20:33 -0700
        message:
          Merge from 5.0-bugteam
        ------------------------------------------------------------
        revno: 1810.3891.8
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.0
        timestamp: Thu 2009-05-07 11:17:07 -0700
        message:
          The get_date() function in mysys interpreted the GETDATE_GMT option
          backwards, which resulted in the incorrect time being reported at the
          end of mysqldump. (Bug #44424, patch by Andrew Hutchings)
        ------------------------------------------------------------
        revno: 1810.3891.7
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.0
        timestamp: Thu 2009-05-07 10:28:29 -0700
        message:
          Fix support for -i (--ignore-spaces) in the mysql command line application,
          which didn't actually do anything. (Bug #39101)
    ------------------------------------------------------------
    revno: 2555.413.4
    committer: Jim Winstead <jimw@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-05-12 14:27:19 -0700
    message:
      Merge in approved bug-fixes
        ------------------------------------------------------------
        revno: 2555.420.7
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 17:53:03 -0700
        message:
          The arguments to use for ps on Mac OS X were mis-detected by the mysql_zap
          utility. (Bug #41883, patch by Nicklas Westerlund)
        ------------------------------------------------------------
        revno: 2555.420.6
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 17:48:20 -0700
        message:
          The mysql command-line client did not properly handle MYSQL_HISTFILE being set
          to an empty string, or to /dev/null, as we suggest and have suggested in the
          documentation. (Bug #34224)
        ------------------------------------------------------------
        revno: 2555.420.5
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 17:25:23 -0700
        message:
          mysqld_safe could generate filenames with spaces and then didn't properly
          quote them in later use. (Bug #33685, based on a patch by Hartmut Holzgraefe)
        ------------------------------------------------------------
        revno: 2555.420.4
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 13:09:53 -0700
        message:
          mysqladmin kill can't handle 64-bit thread IDs. (Bug #32457)
        ------------------------------------------------------------
        revno: 2555.420.3
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 10:51:55 -0700
        message:
          Various command-line utilities, including mysqlbinlog and mysqldump, don't
          handle the --skip-password option correctly. (Bug #28479)
        ------------------------------------------------------------
        revno: 2555.420.2
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Thu 2009-05-07 10:40:00 -0700
        message:
          Add explanation of the possible -s values for mysqldumpslow. (Bug #35663,
          based on a contribution by Ask Bj?rn Hansen)
        ------------------------------------------------------------
        revno: 2555.420.1
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-05 11:07:26 -0700
        message:
          Fix incorrect filename in verbose output of innochecksum. (Bug #44484,
          patch contributed by Andrew Hutchings)
    ------------------------------------------------------------
    revno: 2555.413.3
    committer: Gleb Shchepa <gshchepa@mysql.com>
    branch nick: mysql-5.1-bugteam
    timestamp: Tue 2009-05-12 22:42:31 +0500
    message:
      Bug #44290: explain crashes for subquery with distinct in
                  SQL_SELECT::test_quick_select
      
      The crash was caused by an incomplete cleanup of JOIN_TAB::select
      during the filesort of rows for GROUP BY clause inside a subquery.
      Queries where a quick index access is replaced with filesort was
      was affected. For example:
      
        SELECT 1 FROM
          (SELECT COUNT(DISTINCT c1) FROM t1
             WHERE c2 IN (1, 1) AND c3 = 2 GROUP BY c2) x
      
      Quick index access related data in the SQL_SELECT::test_quick_select
      function was inconsistent after an incomplete cleanup.
      This function has been completed to prevent crashes in the
      SQL_SELECT::test_quick_select function.
    ------------------------------------------------------------
    revno: 2555.413.2
    committer: Mats Kindahl <mats@sun.com>
    branch nick: b44442-5.1-bugteam
    timestamp: Mon 2009-05-11 15:28:02 +0200
    message:
      Merging with 5.1-bugteam tree.
        ------------------------------------------------------------
        revno: 2555.414.18
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Sun 2009-05-10 21:20:35 +0500
        message:
          Manual merge.
            ------------------------------------------------------------
            revno: 1810.3895.3
            committer: Ramil Kalimullin <ramil@mysql.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Sun 2009-05-10 20:50:14 +0500
            message:
              Fix for bug#42009: SELECT into variable gives different results to direct SELECT
              
              Problem: storing "SELECT ... INTO @var ..." results in variables we used val_xxx()
              methods which returned results of the current row. 
              So, in some cases (e.g. SELECT DISTINCT, GROUP BY or HAVING) we got data
              from the first row of a new group (where we evaluate a clause) instead of
              data from the last row of the previous group.
              
              Fix: use val_xxx_result() counterparts to get proper results.
            ------------------------------------------------------------
            revno: 1810.3896.1
            committer: Ramil Kalimullin <ramil@mysql.com>
            branch nick: b42009-5.0-bugteam
            timestamp: Tue 2009-02-24 18:47:12 +0400
            message:
              Fix for bug#42009: SELECT into variable gives different results to direct SELECT
              
              Problem: storing "SELECT ... INTO @var ..." results in variables we used val_xxx()
              methods which returned results of the current row. 
              So, in some cases (e.g. SELECT DISTINCT, GROUP BY or HAVING) we got data
              from the first row of a new group (where we evaluate a clause) instead of
              data from the last row of the previous group.
              
              Fix: use val_xxx_result() counterparts to get proper results.
        ------------------------------------------------------------
        revno: 2555.414.17
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-08 21:59:42 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 1810.3895.2
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-05-08 21:58:39 +0400
            message:
              Automerge.
            ------------------------------------------------------------
            revno: 1810.3891.6
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.0-bugteam
            timestamp: Thu 2009-05-07 08:57:27 +0200
            message:
              Bug 23471 merged from GCA and prepared for push
        ------------------------------------------------------------
        revno: 2555.414.16
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-08 21:50:55 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 1810.3895.1
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-05-08 21:48:51 +0400
            message:
              Automerge.
        ------------------------------------------------------------
        revno: 2555.414.15
        committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-08 21:50:04 +0400
        message:
          Automerge.
            ------------------------------------------------------------
            revno: 2555.419.1
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: my51-bug41943
            timestamp: Fri 2009-05-08 21:24:15 +0400
            message:
              Manual merge.
            ------------------------------------------------------------
            revno: 1810.3894.1
            committer: Alexey Kopytov <Alexey.Kopytov@sun.com>
            branch nick: my50-bug41943
            timestamp: Thu 2009-05-07 18:31:02 +0400
            message:
              Bug #41943: mysqlbinlog.exe crashes if --hexdump option is used  
                
              The --hexdump option crashed mysqlbinlog when used together  
              with the --read-from-remote-server option due to use of  
              uninitialized memory.  
                
              Since Log_event::print_header() relies on temp_buf to be  
              initialized when the --hexdump option is present,  
              dump_remote_log_entries() was fixed to setup temp_buf to point  
              to the start of a binlog event as done in  
              dump_local_log_entries().  
               
              The root cause of this bug is identical to the one for 
              bug #17654. The latter was fixed in 5.1 and up, so this 
              patch is backport of the patches for bug #17654 to 5.0. 
               
              Only 5.0 needs a changelog entry. 
        ------------------------------------------------------------
        revno: 2555.414.14
        committer: Ramil Kalimullin <ramil@mysql.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Fri 2009-05-08 10:51:00 +0500
        message:
          5.1-pe-stage -> 5.1-bugteam merge.
        ------------------------------------------------------------
        revno: 2555.414.13
        committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
        branch nick: 5.1-bugteam
        timestamp: Wed 2009-05-06 13:59:09 +0200
        message:
          Bug 23471 merged from gca and preapred for push
            ------------------------------------------------------------
            revno: 2555.418.1
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.1-gca
            timestamp: Tue 2009-05-05 12:34:25 +0200
            message:
              Bug#23471 prepared for commit in 5.1 gca branch
            ------------------------------------------------------------
            revno: 1810.3893.1
            committer: Bernt M. Johnsen <bernt.johnsen@sun.com>
            branch nick: 5.0-gca
            timestamp: Tue 2009-05-05 11:07:11 +0200
            message:
              Bug#23471 prepared for commit in 5.0 gca branch
        ------------------------------------------------------------
        revno: 2555.414.12
        committer: Anurag Shekhar <anurag.shekhar@sun.com>
        branch nick: mysql-5.1-bugteam
        timestamp: Wed 2009-05-06 15:00:14 +0530
        message:
          merging with local fix.
            ------------------------------------------------------------
            revno: 1810.3891.5
            committer: Anurag Shekhar <anurag.shekhar@sun.com>
            branch nick: mysql-5.0-bugteam-fresh
            timestamp: Wed 2009-05-06 14:59:10 +0530
            message:
              merging with local fix.
            ------------------------------------------------------------
            revno: 1810.3892.1
            committer: Anurag Shekhar <anurag.shekhar@sun.com>
            branch nick: mysql-5.0-bugteam-39918
            timestamp: Wed 2009-05-06 13:37:10 +0530
            message:
              Bug #39918 memory (heap) engine crashing with b-tree index and DELETE 
                       with seg fault
              
              Multiple-table DELETE from a table joined to itself may cause
              server crash. This was originally discovered with MEMORY engine,
              but may affect other engines with different symptoms.
              
              The problem was that the server violated SE API by performing
              parallel table scan in one handler and removing records in
              another (delete on the fly optimization).
        ------------------------------------------------------------
        revno: 2555.414.11
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-05-05 10:29:01 -0700
        message:
          Merge with 5.1-bugteam.
            ------------------------------------------------------------
            revno: 2555.415.8
            committer: Narayanan V <v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-39802-1
            timestamp: Tue 2009-05-05 15:16:05 +0530
            message:
              merging with mysql-5.1-bugteam
                ------------------------------------------------------------
                revno: 2555.417.1
                committer: Narayanan V <v.narayanan@sun.com>
                branch nick: mysql-5.1-bugteam-40092-39802
                timestamp: Mon 2009-05-04 15:30:15 +0530
                message:
                  BUG#39802 On Windows, 32-bit time_t should be enforced
                  
                  A backport of fix for "BUG40092 - Storage engine API uses
                  time_t datatype".
                  
                  Starting from MSVC C++ 2005 (v8), the default size of time_t
                  is changed from 32-bit to 64-bit. As the result, the binaries
                  built with pre-v8 MSVC C++ do not work with the binaries
                  (storage engine plugins) built with v8 or after (server
                  crashes).
                  
                  Fixed storage engine API to use datatype with known size
                  (ulong) instead of time_t.
            ------------------------------------------------------------
            revno: 2555.415.7
            committer: Narayanan V <v.narayanan@sun.com>
            branch nick: mysql-5.1-bugteam-44232
            timestamp: Tue 2009-05-05 15:03:52 +0530
            message:
              Bug#44232 Error msg should be improved when collation not supported.
              
              When a user selected an unsupported character set for an
              IBMDB2I table, error 2501 or 2511 may have been returned,
              giving the appearance of an internal programming error.
              
              This patch consolidates these errors into a single descriptive
              error message for the common case of an unsupported character
              set.
              
              The new error number is 2504 and indicates a user error.
              The errors 2501 and 2511 remain to indicate cases of internal
              programming errors.
            ------------------------------------------------------------
            revno: 2555.415.6
            committer: Alexander Barkov <bar@mysql.com>
            branch nick: mysql-5.1.b44352
            timestamp: Tue 2009-05-05 11:55:22 +0500
            message:
              Bug#44352 UPPER/LOWER function doesn't work correctly
              on cp932 and sjis environment.
              Problem: case conversion erroneously changes the second bytes
              of multi-byte sequences because single-byte functions were
              called in a mistake.
              Fix: call multi-byte aware functions instead.
            ------------------------------------------------------------
            revno: 2555.415.5
            committer: Sergei Golubchik <serg@mysql.com>
            branch nick: 5.1
            timestamp: Mon 2009-05-04 22:33:23 +0200
            message:
              bug#44166
              removed few sprintf's
            ------------------------------------------------------------
            revno: 2555.415.4
            committer: Martin Hansson <mhansson@mysql.com>
            branch nick: 5.1bt
            timestamp: Mon 2009-05-04 14:57:42 +0200
            message:
              Bug#44306: Assertion fail on duplicate key error in 
              'INSERT ... SELECT' statements
              
              Merge
                ------------------------------------------------------------
                revno: 2555.416.1
                committer: Martin Hansson <mhansson@mysql.com>
                branch nick: 5.1bt-gca
                timestamp: Mon 2009-05-04 14:45:36 +0200
                message:
                  Bug#44306: Assertion fail on duplicate key error in 
                  'INSERT ... SELECT' statements
                              
                  The code that produces result rows expected that a duplicate row
                  error could not occur in INSERT ... SELECT statements with 
                  unfulfilled WHERE conditions. This may happen, however, if the 
                  SELECT list contains only aggregate functions.
                  Fixed by checking if an error occured before trying to send EOF
                  to the client.
            ------------------------------------------------------------
            revno: 2555.415.3
            committer: Andrei Elkin <aelkin@mysql.com>
            branch nick: 5.1-bt
            timestamp: Mon 2009-05-04 12:59:10 +0300
            message:
              removing the source of a warning in slave.cc:468
            ------------------------------------------------------------
            revno: 2555.415.2
            committer: Serge Kozlov <Serge.Kozlov@sun.com>
            branch nick: push-5.1-bugteam
            timestamp: Sat 2009-05-02 23:28:54 +0400
            message:
              Bug#38077.
              1. Replace waiting of SQL thread stop by waiting of SQL error on slave and stopped
              SQL thread.
              2. Remove debug code because it already implemented in MTR2.
            ------------------------------------------------------------
            revno: 2555.415.1
            committer: Gleb Shchepa <gshchepa@mysql.com>
            branch nick: mysql-5.1-bugteam
            timestamp: Fri 2009-05-01 00:27:10 +0500
            message:
              auto-upmerge 5.0-bugteam --> 5.1-bugteam (bug 37362)
            ------------------------------------------------------------
            revno: 1810.3891.4
            committer: Gleb Shchepa <gshchepa@mysql.com>
            branch nick: mysql-5.0-bugteam
            timestamp: Fri 2009-05-01 00:20:37 +0500
            message:
              Bug #37362: Crash in do_field_eq
              
              EXPLAIN EXTENDED of nested query containing a error:
              
                 1054 Unknown column '...' in 'field list'
              
              may cause a server crash.
              
              
              Parse error like described above forces a call to
              JOIN::destroy() on malformed subquery.
              That JOIN::destroy function closes and frees temporary
              tables. However, temporary fields of these tables
              may be listed in st_select_lex::group_list of outer
              query, and that st_select_lex may not cleanup them
              properly. So, after the JOIN::destroy call that
              st_select_lex::group_list may have Item_field
              objects with dangling pointers to freed temporary
              table Field objects. That caused a crash.
        ------------------------------------------------------------
        revno: 2555.414.10
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:47:34 -0700
        message:
          Add support for wildcards in mysql_convert_table_format, and add
          short options for all of the long options. (Bug #30373, original
          contribution by Tobias Asplund)
        ------------------------------------------------------------
        revno: 2555.414.9
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:30:21 -0700
        message:
          Remove extraneous space in --debug-check usage info.
        ------------------------------------------------------------
        revno: 2555.414.8
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:28:03 -0700
        message:
          mysqld_multi still had mentions of safe_mysqld instead of mysqld_safe,
          as well as some unclear example paths. (Bug #28094)
        ------------------------------------------------------------
        revno: 2555.414.7
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:26:31 -0700
        message:
          Make SSL options appear in correct place in mysql_upgrade and mysqltest
          usage information. (Bug #31883)
        ------------------------------------------------------------
        revno: 2555.414.6
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:23:21 -0700
        message:
          Fix list of options enabled by mysqldump --compact (Bug #32408)
        ------------------------------------------------------------
        revno: 2555.414.5
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:21:47 -0700
        message:
          Add missing newline to usage message of ndb_print_backup_file (Bug #34989)
        ------------------------------------------------------------
        revno: 2555.414.4
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:19:58 -0700
        message:
          Update list of sorting options in mysqldumpslow (Bug #20454)
        ------------------------------------------------------------
        revno: 2555.414.3
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:16:44 -0700
        message:
          Make help text for perror more accurate. (Bug #34574)
        ------------------------------------------------------------
        revno: 2555.414.2
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 11:12:50 -0700
        message:
          Check for MEMORY, HEAP, and BLACKHOLE in mysql_convert_table_format when
          preventing a change that would result in table data loss. (Bug #27149)
          
          Also updated mysql_convert_table_format to use --engine as the documentation
          claimed, and use the engine terminology throughout instead of the obsolete
          'table type'.
        ------------------------------------------------------------
        revno: 2555.414.1
        committer: Jim Winstead <jimw@mysql.com>
        branch nick: mysql-5.1
        timestamp: Tue 2009-04-28 10:54:26 -0700
        message:
          Bug #27884: mysql --html does not quote HTML special characters in output
          
            Fix encoding of field values and names in HTML output from mysql client.
    ------------------------------------------------------------
    revno: 2555.413.1
    committer: Mats Kindahl <mats@sun.com>
    branch nick: b44442-5.1-bugteam
    timestamp: Mon 2009-05-11 13:32:38 +0200
    message:
      Bug #44442: Incident events are silent in mysqlbinlog output
            
      In the output from mysqlbinlog, incident log events were
      represented as just a comment. Since the incident log event
      represents an incident that could cause the contents of the
      database to change without being logged to the binary log,
      it means that if the SQL is applied to a server, it could
      potentially lead to that the databases are out of sync.
      
      In order to handle that, this patch adds the statement "RELOAD
      DATABASE" to the SQL output for the incident log event. This will
      require a DBA to edit the file and handle the case as apropriate
      before applying the output to a server.
------------------------------------------------------------
revno: 3019
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Tue 2009-08-25 11:35:30 +0200
message:
  ndb - bump version to 6.3.27
------------------------------------------------------------
revno: 3018
tags: mysql-5.1.35-ndb-6.3.26
committer: Jonas Oreland <jonas@mysql.com>
branch nick: telco-6.3
timestamp: Sat 2009-08-22 21:37:36 +0200
message:
  ndb - fix bug in bug-fix for 46651
    access dyn-mask using uint32* otherwise the result is incorrect for
    big endian (e.g sparc)
