<!DOCTYPE html>
<!-- HTML 5 --><html lang="en-US">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="pingback" href="/xmlrpc.php">
	
	<title>node.js | Andrew Morgan on Databases</title>

<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; Feed" href="/feed">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; Comments Feed" href="/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Andrew Morgan on Databases &raquo; node.js Tag Feed" href="/tag/node-js/feed">
		<!-- This site uses the Google Analytics by MonsterInsights plugin v9.2.2 - Using Analytics tracking - https://www.monsterinsights.com/ -->
		<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
					<!-- No tracking code set -->
				<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.clusterdb.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"🏳️‍⚧️","🏳️​⚧️")?!1:!n(e,"🇺🇳","🇺​🇳")&&!n(e,"🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!n(e,"🐦‍⬛","🐦​⬛")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="plyr-css-css" href="/wp-content/plugins/easy-video-player/lib/plyr.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="zeeSynergie_stylesheet-css" href="/wp-content/themes/zeesynergie/style.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="zeeSynergie_colorscheme-css" href="/wp-content/themes/zeesynergie/includes/css/colorschemes/blue.css?ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<link rel="stylesheet" id="themezee_default_font-css" href="http://fonts.googleapis.com/css?family=Paytone+One&#038;ver=81fb77f64976ac32efe42aab69fdb5e4" type="text/css" media="all">
<script type="text/javascript" src="/wp-content/plugins/easy-video-player/lib/plyr.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4" id="plyr-js-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/themes/zeesynergie/includes/js/jquery.cycle.all.min.js?ver=81fb77f64976ac32efe42aab69fdb5e4" id="zee_jquery-cycle-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/tags/83">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">

<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style>
<style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<script type="text/javascript">
				//<![CDATA[
					jQuery(document).ready(function($) {
						$('#nav ul').css({display: 'none'}); // Opera Fix
						$('#nav li').hover(function(){
							$(this).find('ul:first').css({visibility: 'visible',display: 'none'}).show().css({opacity:0}).animate({opacity:1},400);
						},function(){
							$(this).find('ul:first').css({visibility: 'hidden'});
						});
					});
				//]]>
				</script><style type="text/css"></style>
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">body.custom-background { background-color: #89a5bf; }</style>
	<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(3,122,221,.88);}</style>
</head>

<body class="archive tag tag-node-js tag-83 custom-background">
<div id="wrapper">

	<div id="header">

		<div id="head">
			<div id="logo">
									<a href="/"><h1>Andrew Morgan on Databases</h1></a>
                                        <!-- <a href="/"><h1>MySQL Cluster, Replication, Fabric...</h1></a>  ZXZX -->					
							</div>
			<div id="socialmedia_icons">
				<a href="http://twitter.com/andrewmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/twitter.png" alt="twitter"></a><a href="http://www.facebook.com/andrewjamesmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/facebook.png" alt="facebook"></a><a href="https://plus.google.com/u/0/100605473697871424413/posts"><img src="/wp-content/themes/zeesynergie/images/icons/googleplus.png" alt="googleplus"></a><a href="http://www.linkedin.com/profile/view?id=16709956"><img src="/wp-content/themes/zeesynergie/images/icons/linkedin.png" alt="linkedin"></a><a href="http://www.flickr.com/photos/andrewjamesmorgan/"><img src="/wp-content/themes/zeesynergie/images/icons/flickr.png" alt="flickr"></a><a href="http://www.youtube.com/channel/UCodtDakJ4VdeSCzS3P3rIsw"><img src="/wp-content/themes/zeesynergie/images/icons/youtube.png" alt="youtube"></a>				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		
		<div id="navi_container">
			<div id="navi">
				<ul id="nav" class="menu">
<li class="page_item page-item-1011"><a href="/about">About</a></li>
</ul>			</div>
		</div>
		<div class="clear"></div>
	</div>
	
	<div id="container">
	
			<div id="custom_header">
			<img src="/wp-content/uploads/2015/06/cropped-ClusterDB-logo-header.png">
		</div>
	
	<div id="wrap">
		<div id="content">
		
		<h2 class="arh">Tag Archive for node.js</h2>
				
					<div id="post-4444" class="post-4444 post type-post status-publish format-standard hentry category-mongodb tag-angular tag-express tag-expressjs tag-mean-stack tag-mern-stack tag-mongodb tag-node-js tag-react tag-reactjs">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs">March 31, 2017</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs" rel="bookmark">Webinar Replay: Developing with the modern App Stack: MEAN and MERN (with Angular2 and ReactJS)</a></h2>
				
				<div class="entry">
										<p>Earlier this week, I presented a webinar on developing web and mobile applications using the MERN and MEAN stacks – the <a href="https://www.mongodb.com/presentations/webinar-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs" title="developing web and mobile applications using the MERN and MEAN stacks">replay and slides are now available</a>.</p>
<p><a href="/wp-content/uploads/2017/03/Logo.png"><img fetchpriority="high" decoding="async" src="/wp-content/uploads/2017/03/Logo.png" alt="MEAN and MERN Stacks" width="570" height="293" class="aligncenter size-full wp-image-4442" srcset="/wp-content/uploads/2017/03/Logo.png 570w, /wp-content/uploads/2017/03/Logo-300x154.png 300w" sizes="(max-width: 570px) 100vw, 570px"></a></p>
<h3>Details</h3>
<p>Users increasingly demand a far richer experience from web applications – expecting the same level of performance and interactivity they get with native desktop and mobile apps.</p>
<p>At the same time, there&#8217;s pressure on developers to deliver new applications faster and continually roll-out enhancements, while ensuring that the application is highly available and can be scaled appropriately when needed.</p>
<p>Fortunately, there’s a set of open source technologies using JavaScript that make all of this possible.</p>
<p>Join this webinar to learn about the two dominant JavaScript web app stacks – MEAN (MongoDB, Express, Angular, Node.js) and MERN (MongoDB, Express, React, Node.js).</p>
<p>These technologies are also used outside of the browser – delivering the best user experience, regardless of whether accessing your application from the desktop, from a mobile app, or even using your voice.</p>
<p>By attending the webinar, you will learn:</p>
<ul>
<li>What these technologies and how they’re used in combination:
<ul>
<li>NodeJS</li>
<li>MongoDB</li>
<li>Express</li>
<li>Angular2</li>
<li>ReactJS</li>
</ul>
</li>
<li>How to get started building your own apps using these stacks</li>
<li>Some of the decisions to take:
<ul>
<li>Angular vs Angular2 vs ReactJS</li>
<li>Javascript vs ES6 vs Typescript</li>
<li>What should be implemented in the front-end vs the back-end</li>
</ul>
</li>
</ul>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs" data-via="wpbeginner" data-text="Webinar Replay: Developing with the modern App Stack: MEAN and MERN (with Angular2 and ReactJS)" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/webinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Fwebinar-replay-developing-with-the-modern-app-stack-mean-and-mern-with-angular2-and-reactjs&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/angular" rel="tag">angular</a>, <a href="/tag/express" rel="tag">Express</a>, <a href="/tag/expressjs" rel="tag">expressjs</a>, <a href="/tag/mean-stack" rel="tag">mean stack</a>, <a href="/tag/mern-stack" rel="tag">mern stack</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/react" rel="tag">REACT</a>, <a href="/tag/reactjs" rel="tag">reactjs</a>
</div>

			</div>			<div id="post-4413" class="post-4413 post type-post status-publish format-standard hentry category-mongodb tag-alexa tag-amazon-alexa tag-mean tag-mern tag-mongodb tag-node-js tag-reactjs tag-rest-api">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/rest-mobile-app-amazon-alexa-cloud-services">March 17, 2017</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/rest-mobile-app-amazon-alexa-cloud-services#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/rest-mobile-app-amazon-alexa-cloud-services" rel="bookmark">The Modern Application Stack &#8211; Part 6: Browsers Aren&#8217;t the Only UI – Mobile Apps, Amazon Alexa, Cloud Services</a></h2>
				
				<div class="entry">
										<p>This is the sixth and final blog post in a series examining technologies such as <strong>MongoDB</strong> and <strong>REST APIs</strong> that are driving the development of modern web and mobile applications.</p>
<p><a href="/mongodb/modern-application-stack-part-1-introducing-the-mean-stack" title="Bulding the MEAN stack and MERN stack for web and mobile apps"><em>Modern Application Stack – Part 1: Introducing The MEAN Stack</em></a> introduced the technologies making up the MEAN (MongoDB, Express, Angular, Node.js) and MERN (MongoDB, Express, React, Node.js) stacks: why you might want to use them, and how to combine them to build your web application (or your native mobile or desktop app).</p>
<p>Subsequent posts focused on working through the end to end steps of building a real (albeit simple) application – <em>MongoPop</em>.</p>
<p><a href="/mongodb/mean_stack_2_mongodb_node_js" title="Using MongoDB with Node.js"><em>Part 2: Using MongoDB With Node.js</em></a> created an environment where we could work with a MongoDB database from Node.js; it also created a simplified interface to the MongoDB Node.js Driver.</p>
<p><a href="/mongodb/the-modern-application-stack-part-3-building-a-rest-api-using-express-js" title="Building a REST API using Express"><em>Part 3: Building a REST API with Express.js</em></a> built on Part 2 by using Express.js to add a REST API which is used by the clients that we implement in the final 3 posts.</p>
<p><a href="/mongodb/the-modern-application-stack-part-4-building-a-client-ui-using-angular-2-formerly-angularjs-typescript" title="Build an app front-end with Angular2 and Typescript"><em>Part 4: Building a Client UI Using Angular 2 (formerly AngularJS) &amp; TypeScript</em></a> completed the MEAN stack by adding an Angular 2 client.</p>
<p><a href="/mongodb/the-modern-application-stack-part-5-using-reactjs-es6-jsx-to-build-a-ui-the-rise-of-mern" title="Building an application front-end with ReactJS and ES6">Part 5: Using ReactJS, ES6 &amp; JSX to Build a UI (the rise of MERN)</a> does the same but replaces Angular with ReactJS to complete the MERN stack.</p>
<p>Once your application back-end exposes a REST API, there are limitless ways that you or other developers can access it:</p>
<ul>
<li>A dedicated browser-based client, as seen in posts 4 and 5</li>
<li>A standalone native iOS or Android mobile app</li>
<li>Voice controlled appliances, such as Amazon&#8217;s Echo</li>
<li>IoT-enabled devices, such as remote sensors</li>
<li>Integrations with 3rd party applications</li>
</ul>
<p>This post takes a look at some of these approaches. Unlike some of the earlier posts, this one aims to go wide rather than deep – touching on many technologies rather than diving too deeply into any one.</p>
<h4>Prerequisite – the REST API</h4>
<p>Everything that follows assumes that you have the <em>Mongopop REST API</em> running – if not, skip back to <a href="/mongodb/the-modern-application-stack-part-3-building-a-rest-api-using-express-js"><em>Part 3: Building a REST API with Express.js</em></a>. Additionally, that API has been extended with 3 new routes (already included in the latest <a href="https://github.com/am-MongoDB/MongoDB-Mongopop" title="A web tool to populate a MongoDB Atlas instance with sample data using the MEAN and MERN stacks">GitHub repository</a>):</p>
<table class="table table-bordered" summary="Additional Express routes implemented for the Mongopop REST API">
<caption><strong>Additional Express routes implemented for the Mongopop REST API</strong></caption>
<thead>
<tr>
<th>Route</th>
<th>HTTP Method</th>
<th>Parameters</th>
<th>Response</th>
<th>Purpose
<pre style="border:0px; background-color:#fff; height:0px">                      </pre>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<pre style="border:0px; background-color:#fff">/pop/checkIn</pre>
</td>
<td>POST</td>
<td>
<pre style="border:0px; background-color:#fff">
{       
    venue: string,
    date: string,
    url: string,
    location: string
}
        </pre>
</td>
<td>
<pre style="border:0px; background-color:#fff">
{
    success: boolean,
    error: string
}
        </pre>
</td>
<td>Stores the checkin data as a document in a collection.</td>
</tr>
<tr>
<td>
<pre style="border:0px; background-color:#fff">/pop/checkInCount</pre>
</td>
<td>GET</td>
<td></td>
<td>
<pre style="border:0px; background-color:#fff">
{
    success: boolean,
    count: number,
    error: string
}
        </pre>
</td>
<td>Returns a count for the total number of checkins.</td>
</tr>
<tr>
<td>
<pre style="border:0px; background-color:#fff">/pop/latestCheckIn</pre>
</td>
<td>GET</td>
<td></td>
<td>
<pre style="border:0px; background-color:#fff">
{
    success: boolean,
    venue: string,
    date: string,
    url: string,
    location: string,
    error: string
}
        </pre>
</td>
<td>Retrieves the most recent checkin.</td>
</tr>
</tbody>
</table>
<p>These route paths are implemented in the <a href="https://github.com/am-MongoDB/MongoDB-Mongopop/blob/master/routes/pop.js" title="Mongopop Express route implementation"><code>pop.js</code></a> module in the <a href="https://github.com/am-MongoDB/MongoDB-Mongopop" title="MEAN and MERN stack repo – Mongopop">Mongopop repository</a>:</p>
<p><script src="https://gist.github.com/am-MongoDB/af586eec19d752aee544324d3f280e9c.js"></script></p>
<p><code>/pop/lastCheckIn</code> depends on a new method that has been added to <a href="https://github.com/am-MongoDB/MongoDB-Mongopop/blob/master/javascripts/db.js" title="MongoDB helper services for Express"><code>javascripts/db.js</code></a>:</p>
<p><script src="https://gist.github.com/am-MongoDB/347e1eb5496978d9d08f15f4147ee8c7.js"></script></p>
<p>The configuration file <a href="https://github.com/am-MongoDB/MongoDB-Mongopop/blob/master/config.js" title="Configuration file for Mongopop applications"><code>config.js</code></a> is also extended – note that you should replace the value associated with the <code>makerMongoDBURI</code> field if you&#8217;re not running MongoDB on your local machine (e.g. with the URI provided by <a href="https://cloud.mongodb.com/" title="MongoDB as a service">MongoDB Atlas</a>:</p>
<p><script src="https://gist.github.com/am-MongoDB/ddc536f78ad54b1c29f32e1f1cb58141.js"></script></p>
<p>The implementation of these methods follows the same pattern as already seen – refer back to <a href="/mongodb/the-modern-application-stack-part-3-building-a-rest-api-using-express-js" title="Building a REST API for MongoDB with ExpressJS">Part 3</a> for details – and so is not explained here.</p>
<h4>Repurposing Angular &amp; ReactJS code for native applications</h4>
<p>There are frameworks for both <a href="https://angular.io/" title="Angular for JavaScript application clients">Angular</a> and <a href="https://facebook.github.io/react/" title="ReactJS for JavaScript application clients">ReactJS</a> that enable web client application designs (and in some cases, code) to be reused for creating <em>native</em> iOS and Android apps.</p>
<p>One option for Angular is <a href="https://www.nativescript.org/" title="NativeScript for native Angular apps"><strong>NativeScript</strong></a>, in which you use Typescript/JavaScript with Angular to build native apps for multiple platforms from the same source code. Of course, to get the most out of those platforms, you may want or need to add platform-specific code.</p>
<p>React developers will find <a href="https://facebook.github.io/react-native/" title="React Native  for native ReactJS apps"><strong>React Native</strong></a> code very familiar, and applications are built from declarative components in the same way. The most obvious difference is that React Native code uses its own native components (e.g. <code>&lt;View&gt;</code> and <code>&lt;Text&gt;</code> rather that HTML elements such as <code>&lt;div&gt;</code> and <code>&lt;p&gt;</code>):</p>
<p><script src="https://gist.github.com/am-MongoDB/9d45645c7429ddfe699fa36944880ac2.js"></script></p>
<p>React Native provides the <a href="https://facebook.github.io/react-native/docs/network.html" title="Fetch API for React Native front-end apps">Fetch API</a> to make network requests; it follows a similar patter to <code>XMLHttpRequest</code> (React Native also includes <code>XMLHttpRequest</code> which can be used directly).</p>
<p>While it&#8217;s not as simple as just rebuilding your ReactJS or Angular code to produce native apps, the reuse of designs, skills and (some) code make it much more efficient than starting from scratch.</p>
<h4>Combining cloud services – IFTTT</h4>
<p><a href="https://ifttt.com/discover" title="IF This Then That – combine cloud services">IFTTT</a> (IF This Then That) is a free cloud service which allows you to automate tasks by combining existing services (Google Docs, Facebook, Instagram, Hue lights, Nest thermostats, GitHub, Trello, Dropbox,&#8230;). The name of the service comes from the simple pattern used for each Applet (automation rule): &#8220;<strong>IF T</strong>his event occurs in service x <strong>T</strong>hen trigger <strong>T</strong>hat action in service y&#8221;.</p>
<p>IFTTT includes a <a href="https://ifttt.com/maker" title="Accept HTTP triggers and make HTTP requests with IFTTT">Maker</a> service which can handle web requests (triggers) or send web requests (actions). In this case, I use it to invoke the <code>pop/checkIn</code> POST method from the Mongopop REST API whenever I check in using the <a href="https://www.swarmapp.com/">Swarm</a> (<a href="https://foursquare.com/">Foursquare</a>) app:</p>
<div id="attachment_4416" style="width: 323px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/FourSquare-Mongopop-IFTTT-Applet.png"><img decoding="async" aria-describedby="caption-attachment-4416" src="/wp-content/uploads/2017/03/FourSquare-Mongopop-IFTTT-Applet-313x1024.png" alt="Create Foursquare applet to make HTTP POST over REST API in IFTTT" width="313" height="1024" class="size-large wp-image-4416" srcset="/wp-content/uploads/2017/03/FourSquare-Mongopop-IFTTT-Applet-313x1024.png 313w, /wp-content/uploads/2017/03/FourSquare-Mongopop-IFTTT-Applet-92x300.png 92w, /wp-content/uploads/2017/03/FourSquare-Mongopop-IFTTT-Applet.png 326w" sizes="(max-width: 313px) 100vw, 313px"></a><p id="caption-attachment-4416" class="wp-caption-text">Create Foursquare applet to make HTTP POST over REST API in IFTTT</p>
</div>
<p>Note that the applet makes a POST request to the <code>http://your-mongopop-ip:3000/pop/checkIn</code> route. The body of the POST includes the required parameters – provided as a JSON document. Each of the <code>VenueName</code>, <code>CheckinDate</code>, <code>VenueUrl</code>, and <code>VenueMapImageURL</code> values are /ingredients/ from the trigger (Foursquare) event.</p>
<div id="attachment_4417" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/IFTTT_Stack.png"><img decoding="async" aria-describedby="caption-attachment-4417" src="/wp-content/uploads/2017/03/IFTTT_Stack-1024x530.png" alt="IFTTT Stack - making REST calls" width="480" height="248" class="size-large wp-image-4417" srcset="/wp-content/uploads/2017/03/IFTTT_Stack-1024x530.png 1024w, /wp-content/uploads/2017/03/IFTTT_Stack-300x155.png 300w, /wp-content/uploads/2017/03/IFTTT_Stack-768x398.png 768w, /wp-content/uploads/2017/03/IFTTT_Stack.png 1825w" sizes="(max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4417" class="wp-caption-text">IFTTT Stack &#8211; making REST calls</p>
</div>
<p>Using the <a href="https://www.swarmapp.com/">Swarm app</a> I check into FourSquare:</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/M5u-fudNEfA?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>We can confirm that the MongoDB collection has been updated after this check-in:</p>
<pre><code class="js">Cluster0-shard-0:PRIMARY&gt; use maker
switched to db maker

Cluster0-shard-0:PRIMARY&gt; db.foursq.find().sort({_id: -1}).limit(1).pretty()
{
    "_id" : ObjectId("58c272f842067a03283be544"),
    "venueName" : "Redroofs Theatre School",
    "date" : "March 10, 2017 at 09:23AM",
    "url" : "http://4sq.com/htwamV",
    "mapRef" : "http://maps.google.com/maps/api/staticmap?center=51.52212258991317,-0.7358344376428089&amp;zoom=16&amp;size=710x440&amp;maptype=roadmap&amp;sensor=false&amp;markers=color:red%7C51.52212258991317,-0.7358344376428089"
}
</code></pre>
<h4>Constructing an iOS/Apple Watch App to automate workflows</h4>
<p>The first example showed how to record a check-in into our own service as a side effect of checking into an existing service (Foursquare).</p>
<p>What if we wanted to create new, independent check-ins, from a mobile device? What if we also wanted to augment the check-ins with additional data? Another requirement could be to let our team know of the check-in through a <a href="https://slack.com/">Slack</a> channel.</p>
<p>A valid approach would be to build a new mobile client using React Native or NativeScript. Slack and Google Maps have their own REST APIs and so the new App could certainly integrate with them in addition to our Mongopop API. Before investing in that development work, it would be great to prototype the concept and see if it proves useful.</p>
<p>This is where we turn to the iOS <a href="https://workflow.is/" title="Integrate iOS apps using Workflow"><strong>Workflow</strong> app</a>. Workflow has a number of similarities to IFTTT but there are also some significant differences:</p>
<ul>
<li>Workflow runs on your iOS device rather than in the cloud.</li>
<li>Workflows are triggered by events on your iOS device (e.g. pressing a button) rather than an event in some cloud service.</li>
<li>Workflow allows much more complex patterns than &#8220;<strong>IF T</strong>his event occurs in service A <strong>T</strong>hen trigger <strong>T</strong>hat action in service B&#8221;; it can loop, invoke multiple services, perform calculations, access local resources (e.g. camera and location information) on your device, and much more.</li>
</ul>
<p>Both applications/Workflows that we build here can be run on an iPad, iPhone, or Apple Watch.</p>
<p>The first Workflow, <em>CheckIn</em>, performs these steps:</p>
<ul>
<li>Fetch the device&#8217;s current location</li>
<li>Retrieve any URL associated with that location
<ul>
<li>If none exists, fetch a map URL from Apple Maps</li>
</ul>
</li>
<li>Fetch a Google Street View image for the location
<ul>
<li>Upload this image to <a href="http://imgur.com/">Imgur</a>
</li>
<li>Send the image URL to <a href="https://slack.com/">Slack</a>
</li>
</ul>
</li>
<li>Send a POST request to the <code>/pop/checkIn</code> Mongopop route
<ul>
<li>The request includes the location, date/time, URL (either from the venue or Apple Maps), and the StreetView image</li>
</ul>
</li>
<li>Post the location and URL to Slack</li>
<li>Display error messages if anything fails</li>
</ul>
<div id="attachment_4419" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Workflow_stack.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4419" src="/wp-content/uploads/2017/03/Workflow_stack-1024x607.png" alt="iOS Workflow stack to make REST API calls" width="480" height="285" class="size-large wp-image-4419" srcset="/wp-content/uploads/2017/03/Workflow_stack-1024x607.png 1024w, /wp-content/uploads/2017/03/Workflow_stack-300x178.png 300w, /wp-content/uploads/2017/03/Workflow_stack-768x455.png 768w, /wp-content/uploads/2017/03/Workflow_stack.png 1880w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4419" class="wp-caption-text">iOS Workflow stack to make REST API calls</p>
</div>
<p>Implementing a Workflow involves dragging actions into the work area and then adding attributes to those actions (such as the address of the Mongopop API). The result of one action is automatically used as the input to the next action in the workflow. Results can also be stored in variables for use by later actions.</p>
<p>This is the <em>Check In</em> workflow:</p>
<div id="attachment_4420" style="width: 160px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Workflow_Checkin_Code.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4420" src="/wp-content/uploads/2017/03/Workflow_Checkin_Code-150x1024.png" alt="iOS Workflow check-in code for REST API call" width="150" height="1024" class="size-large wp-image-4420" srcset="/wp-content/uploads/2017/03/Workflow_Checkin_Code-150x1024.png 150w, /wp-content/uploads/2017/03/Workflow_Checkin_Code-44x300.png 44w, /wp-content/uploads/2017/03/Workflow_Checkin_Code-768x5246.png 768w, /wp-content/uploads/2017/03/Workflow_Checkin_Code.png 1303w" sizes="auto, (max-width: 150px) 100vw, 150px"></a><p id="caption-attachment-4420" class="wp-caption-text">iOS Workflow check-in code for REST API call</p>
</div>
<p>This video demonstrates the use of the app when run on an iPhone:</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/lowpybR4zSA?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>The same app/workflow can be run from an Apple Watch:</p>
<div id="attachment_4421" style="width: 322px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Checking_into_MongoDB_from_Apple_Watch.gif"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4421" src="/wp-content/uploads/2017/03/Checking_into_MongoDB_from_Apple_Watch.gif" alt="Check-in via REST API with Apple Watch and iOS Workflow app" width="312" height="390" class="size-full wp-image-4421"></a><p id="caption-attachment-4421" class="wp-caption-text">Check-in via REST API with Apple Watch and iOS Workflow app</p>
</div>
<p>We can confirm that check-in record has been stored as a document in MongoDB Atlas (note that the database and collection names are defined in <code>config.js</code>):</p>
<pre><code class="js">Cluster0-shard-0:PRIMARY&gt; use maker
switched to db maker
Cluster0-shard-0:PRIMARY&gt; db.foursq.find().sort({_id: -1}).limit(1).pretty()
{
    "_id" : ObjectId("58c1505742067a03283be541"),
    "venueName" : "77-79 King St, Maidenhead SL6 1DU, UK",
    "date" : "9 Mar 2017, 12:53",
    "url" : "http://maps.apple.com/?q=77-79%20King%20St,%20Maidenhead%20SL6%201DU,%20UK&amp;ll=51.520409,-0.722196",
    "mapRef" : "http://i.imgur.com/w3KyIVU.jpg"
}
</code></pre>
<p>The second app/workflow retrieves and displays details of the most recent check-in. It performs these steps:</p>
<ul>
<li>Read from the <code>/pop/latestCheckIn</code> Mongopop REST API Route using GET. </li>
<li>If the results indicate a successful operation then:
<ul>
<li>Extract the location from the results</li>
<li>Display the location and prompt the user if they&#8217;d like to:
<ul>
<li>See the location data (image)</li>
<li>Follow the location&#8217;s URL (typically an Apple Maps link)</li>
<li>Finish</li>
</ul>
</li>
</ul>
</li>
<li>If the Mongopop operation fails, display an appropriate error. </li>
</ul>
<p>The full workflow is shown here:</p>
<div id="attachment_4422" style="width: 194px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Workflow_Find_Code.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4422" src="/wp-content/uploads/2017/03/Workflow_Find_Code-184x1024.png" alt="Find the latest check-in using REST API using Apple Watch" width="184" height="1024" class="size-large wp-image-4422" srcset="/wp-content/uploads/2017/03/Workflow_Find_Code-184x1024.png 184w, /wp-content/uploads/2017/03/Workflow_Find_Code-54x300.png 54w" sizes="auto, (max-width: 184px) 100vw, 184px"></a><p id="caption-attachment-4422" class="wp-caption-text">Find the latest check-in using REST API using Apple Watch</p>
</div>
<p>Running the app on an iPad produces these results:</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/IEuDkZ-9ZXc?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>Again, the same app can be run from an Apple Watch:</p>
<div id="attachment_4423" style="width: 322px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Apple_Watch_reading_from_MongoDB.gif"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4423" src="/wp-content/uploads/2017/03/Apple_Watch_reading_from_MongoDB.gif" alt="Find the latest check-in using REST API from Apple Watch" width="312" height="390" class="size-full wp-image-4423"></a><p id="caption-attachment-4423" class="wp-caption-text">Find the latest check-in using REST API from Apple Watch</p>
</div>
<h4>Hands-free – Amazon Alexa Skills</h4>
<p>Two of today&#8217;s biggest industry trends are <strong>machine learning</strong> and <strong>serverless computing</strong>. Amazon&#8217;s <strong>Alexa</strong> service (typically accessed through Amazon&#8217;s <strong>Echo</strong> device) is at the forefront of both. In addition to interpreting voice commands for Amazon&#8217;s own services (e.g. ordering more coffee beans or playing a particular song), developers can implement their own <em>skills</em>. Many are publicly available from 3rd parties such as Nest, Harmony, and Spotify, but you&#8217;re free to implement and test your own – submitting it for review and public use when ready.</p>
<p>The business logic behind Alexa skills are typically run within Amazon&#8217;s serverless computing service – <strong>AWS Lambda</strong>. Lambda is a great product for services that handle low or bursty levels of traffic – rather than paying a flat rate for a physical or virtual server, you pay a small fee for every event handled (and you even get a low-medium level of throughput for free). If your service really takes off then Lambda automatically scales out.</p>
<p>Assuming that you decide to use Lambda, there are three main components to your skill:</p>
<ul>
<li>The set of <strong>intents</strong> – instructions that a user can give to Alexa</li>
<li>For each intent, a set of <em>utterances</em> that the user might say in order to signal that intent</li>
<li>The actual logic which is invoked whenever the user signals an intent – implemented as a Lambda function</li>
</ul>
<p>The <strong>Mongo</strong> Alexa skill has 3 intents/commands:</p>
<ul>
<li>
<strong>WhereIntent</strong>: Find the most recent location that I checked in to</li>
<li>
<strong>CountIntent</strong>: Count how many times I&#8217;ve checked in</li>
<li>
<strong>HelpIntent</strong>: Explain what the available commands/intents are</li>
</ul>
<p>The intents are defined as a JSON document:</p>
<pre><code class="js">{"intents": [
    {"intent": "WhereIntent"},
    {"intent": "CountIntent"},
    {"intent": "AMAZON.HelpIntent"},
  ]
}
</code></pre>
<p>The utterances for each of those intents must also be defined:</p>
<pre><code class="js">WhereIntent where is andrew
WhereIntent where is he
WhereIntent where am i
WhereIntent where did he last check in
WhereIntent where did Andrew last check in
WhereIntent where did i last check in
WhereIntent last check in

CountIntent how many checkins
CountIntent how many times have I checked in
CountIntent how many times has Andrew checked in
CountIntent how many times has he checked in
CountIntent how many check ins
CountIntent check in count
</code></pre>
<p>Note that no utterances need to be added for the <code>AMAZON.HelpIntent</code> as that intent is built in.</p>
<p>The skill is created in the <a href="https://developer.amazon.com/">Amazon Developer Console</a> using the Alexa wizard; where the intentions and utterances can be added:</p>
<div id="attachment_4424" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4424" src="/wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances-1024x842.png" alt="Add Alexa intentions and utterances" width="480" height="395" class="size-large wp-image-4424" srcset="/wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances-1024x842.png 1024w, /wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances-300x247.png 300w, /wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances-768x632.png 768w, /wp-content/uploads/2017/03/Add-Alexa-Intentions-Utterances.png 1364w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4424" class="wp-caption-text">Add Alexa intentions and utterances</p>
</div>
<p>In the next screen, you indicate where the the skill&#8217;s business logic runs; in this case, I provide the Amazon Resource Name (ARN) of my Lambda function:</p>
<div id="attachment_4425" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/alexa-skill-business-logic.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4425" src="/wp-content/uploads/2017/03/alexa-skill-business-logic-1024x825.png" alt="Locate Amazon Alexa&#039;s skill code" width="480" height="387" class="size-large wp-image-4425" srcset="/wp-content/uploads/2017/03/alexa-skill-business-logic-1024x825.png 1024w, /wp-content/uploads/2017/03/alexa-skill-business-logic-300x242.png 300w, /wp-content/uploads/2017/03/alexa-skill-business-logic-768x619.png 768w, /wp-content/uploads/2017/03/alexa-skill-business-logic.png 1153w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4425" class="wp-caption-text">Locate Amazon Alexa&#8217;s skill code</p>
</div>
<p>The logic for the Mongo skill is implemented in the <a href="https://github.com/am-MongoDB/MongoDB-Alexa/blob/master/index.js" title="Amazon Alexa skill – using Mongopop REST API"><code>index.js</code></a> file (part of the <a href="https://github.com/am-MongoDB/MongoDB-Alexa" title="Read and write to MongoDB from Amazon Alexa skill">MongoDB-Alexa GitHub repository</a>):</p>
<p><script src="https://gist.github.com/am-MongoDB/8bf49fd414d92ed00f021bafe4ba2c71.js"></script></p>
<p>As explained earlier, the aim of this post is to cover a broad set of technologies rather than going too deeply into any one but explaining a few concepts may help you understand what this code is doing:</p>
<ul>
<li>A <strong>handler</strong> is implemented for each of the intents; that handler is invoked when the user speaks one of the utterances associated with that intent</li>
<li>The handlers for the <code>CountIntent</code> and <code>WhereIntent</code> makes calls to the Mongopop REST API using the <code>request</code> function</li>
<li>The <strong>emit</strong> method is how the handlers can send results or errors back to the user (via Alexa)</li>
<li>The <strong>card</strong>, referred to by <code>tellWithCard</code>, is visual content (text and images) that are displayed in the Alexa app</li>
</ul>
<p>Note that this is a simple skill which receives a request and sends a single response. It is also possible to implement an interactive state machine where there&#8217;s a conversation between the user and Alexa &#8211; in those skills, the logic uses both the latest intent and the past context in deciding how to respond. Note that the Lambda function is always stateless and so all data should be stored in a database such as MongoDB.</p>
<p>The skill is deployed to AWS Lambda through the <a href="https://aws.amazon.com/">AWS Management Console</a>. The <a href="https://github.com/am-MongoDB/MongoDB-Alexa/blob/master/index.js" title="Amazon Alexa skill to access MongoDB"><code>index.js</code></a>, <a href="https://github.com/am-MongoDB/MongoDB-Alexa/blob/master/config_template.js">config.js</a> and <code>node_modules</code> directory (created by running <code>npm install</code>) should be archived into a single Zip file which is then uploaded to AWS:</p>
<div id="attachment_4426" style="width: 696px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Archive-files.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4426" src="/wp-content/uploads/2017/03/Archive-files.png" alt="Create zip file for Alexa skill to upload to AWS Lambda" width="686" height="393" class="size-full wp-image-4426" srcset="/wp-content/uploads/2017/03/Archive-files.png 686w, /wp-content/uploads/2017/03/Archive-files-300x172.png 300w" sizes="auto, (max-width: 686px) 100vw, 686px"></a><p id="caption-attachment-4426" class="wp-caption-text">Create zip file for Alexa skill to upload to AWS Lambda</p>
</div>
<div id="attachment_4427" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Upload-alexa-skill-lambda.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4427" src="/wp-content/uploads/2017/03/Upload-alexa-skill-lambda-1024x577.png" alt="Upload zip file for Alexa skill to AWS Lambda" width="480" height="270" class="size-large wp-image-4427" srcset="/wp-content/uploads/2017/03/Upload-alexa-skill-lambda-1024x577.png 1024w, /wp-content/uploads/2017/03/Upload-alexa-skill-lambda-300x169.png 300w, /wp-content/uploads/2017/03/Upload-alexa-skill-lambda-768x433.png 768w, /wp-content/uploads/2017/03/Upload-alexa-skill-lambda.png 1067w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4427" class="wp-caption-text">Upload zip file for Alexa skill to AWS Lambda</p>
</div>
<p>There are a number of extra configuration options – such as the runtime environment to use (Node.js), the user role, the amount of memory to be made available to the function, and how long each invocation of the function should be allowed to run (the function is making external HTTP requests and so it may need a few seconds):</p>
<div id="attachment_4428" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/lambda-configuration.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4428" src="/wp-content/uploads/2017/03/lambda-configuration-903x1024.png" alt="Configure AWS Lambda function for Amazon Alexa skill" width="480" height="544" class="size-large wp-image-4428" srcset="/wp-content/uploads/2017/03/lambda-configuration-903x1024.png 903w, /wp-content/uploads/2017/03/lambda-configuration-264x300.png 264w, /wp-content/uploads/2017/03/lambda-configuration-768x871.png 768w, /wp-content/uploads/2017/03/lambda-configuration.png 990w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4428" class="wp-caption-text">Configure AWS Lambda function for Amazon Alexa skill</p>
</div>
<p>As a reminder, the user speaks to the Amazon Echo device, then the Alexa application invokes an AWS Lambda function, which implements the business logic for the Mongo skill, which then interacts with the MongoDB database via the Mongopop REST API:</p>
<div id="attachment_4429" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2017/03/Alexa_stack.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4429" src="/wp-content/uploads/2017/03/Alexa_stack-1024x607.png" alt="Stack to have Alexa make REST API calls to Mongopop" width="480" height="285" class="size-large wp-image-4429" srcset="/wp-content/uploads/2017/03/Alexa_stack-1024x607.png 1024w, /wp-content/uploads/2017/03/Alexa_stack-300x178.png 300w, /wp-content/uploads/2017/03/Alexa_stack-768x455.png 768w, /wp-content/uploads/2017/03/Alexa_stack.png 1880w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4429" class="wp-caption-text">Stack to have Alexa make REST API calls to Mongopop</p>
</div>
<p>To start, test the simplest intent – asking the Mongo skill for help:</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/Du_Ta3hyDFI?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>Note that the visual card can contain more information than Alexa&#8217;s spoken response. For example, if there is an error in the Mongopop back-end, the returned error message is displayed on the card.</p>
<p>Next, we can ask Alexa how many times I&#8217;ve checked in and where my last check-in was. Note that I could have used any of the utterances associated with these intents (and Alexa will automatically convert similar phrases):</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/plMxxOeYquw?rel=0" frameborder="0" allowfullscreen></iframe></p>
<h4>Summary</h4>
<p>Previous posts stepped through building the Mongopop application back-end and then the creation of web client applications using Angular 2 and ReactJS.</p>
<p>This post explored some alternative ways to build client applications; in particular, it showed how to combine existing cloud services with a bit of new logic to create something brand new. We looked at a number of technologies to help build applications quickly and efficiently:</p>
<ul>
<li>IFTTT: Make events in one cloud service trigger actions in another</li>
<li>Workflow: Automate complex tasks involving multiple services on an iOS device</li>
<li>Amazon Alexa: Implement your own voice-controlled skills</li>
<li>AWS Lambda: Host and scale your business logic in the cloud while only paying for the transactions you process</li>
</ul>
<p>Increasingly, applications leverage multiple services (if only to allow the user to share their efforts on different social media networks). The key to all of these integrations is the REST APIs provided by each service. If you&#8217;ve jumped straight to this post then consider reading parts 1 through 3 to learn how to build your own REST API:</p>
<ul>
<li><a href="/mongodb/modern-application-stack-part-1-introducing-the-mean-stack" title="MEAN stack, MERN stack">Part 1: Introducing The MEAN Stack (and the young MERN upstart)</a></li>
<li><a href="/mongodb/mean_stack_2_mongodb_node_js" title="Using MongoDB With Node.js">Part 2: Using MongoDB With Node.js</a></li>
<li><a href="/mongodb/the-modern-application-stack-part-3-building-a-rest-api-using-express-js" title="Building REST API for MongoDB using Express JS">Part 3: Building a REST API with Express.js</a></li>
<li><a href="/mongodb/the-modern-application-stack-part-4-building-a-client-ui-using-angular-2-formerly-angularjs-typescript" title="Completing the MEAN stack – Mongopop Angular2 client">Part 4: Building a Client UI Using Angular 2 (formerly AngularJS) &amp; TypeScript</a></li>
<li><a href="/mongodb/the-modern-application-stack-part-5-using-reactjs-es6-jsx-to-build-a-ui-the-rise-of-mern" title="Building an application front-end with ReactJS and ES6">Part 5: Using ReactJS, ES6 &amp; JSX to Build a UI (the rise of MERN)</a></li>
<li><a href="/mongodb/rest-mobile-app-amazon-alexa-cloud-services" title="Using REST APIs from mobile applications and Amazon Alexa">Part 6: Browsers Aren&#8217;t the Only UI – Mobile Apps, Amazon Alexa, Cloud Services&#8230;</a></li>
</ul>
<h2>A simpler way to build your app – MongoDB Stitch, Backend as a Service</h2>
<p><a href="https://www.mongodb.com/cloud/stitch">MongoDB Stitch</a> is a backend as a service (BaaS), giving developers a REST-like API to MongoDB, and composability with other services, backed by a robust system for configuring fine-grained data access controls. Stitch provides native SDKs for JavaScript, iOS, and Android.</p>
<p>Built-in integrations give your application frontend access to your favorite third party services: Twilio, AWS S3, Slack, Mailgun, PubNub, Google, and more. For ultimate flexibility, you can add custom integrations using MongoDB Stitch&#8217;s HTTP service.</p>
<p>MongoDB Stitch allows you to compose multi-stage pipelines that orchestrate data across multiple services; where each stage acts on the data before passing its results on to the next.</p>
<p>Unlike other BaaS offerings, MongoDB Stitch works with your existing as well as new MongoDB clusters, giving you access to the full power and scalability of the database. By defining appropriate data access rules, you can selectively expose your existing MongoDB data to other applications through MongoDB Stitch&#8217;s API.</p>
<p>If you&#8217;d like to try it out, <a href="/mongodb/mongodb-stitch-the-latest-and-best-way-to-build-your-app" title="MongoDB Stitch - the latest, and best way to build your app">step through building an application with MongoDB Stitch</a>.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/rest-mobile-app-amazon-alexa-cloud-services" data-via="wpbeginner" data-text="The Modern Application Stack &#8211; Part 6: Browsers Aren&#8217;t the Only UI – Mobile Apps, Amazon Alexa, Cloud Services" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/rest-mobile-app-amazon-alexa-cloud-services"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/rest-mobile-app-amazon-alexa-cloud-services" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Frest-mobile-app-amazon-alexa-cloud-services&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/alexa" rel="tag">alexa</a>, <a href="/tag/amazon-alexa" rel="tag">amazon alexa</a>, <a href="/tag/mean" rel="tag">MEAN</a>, <a href="/tag/mern" rel="tag">mern</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/reactjs" rel="tag">reactjs</a>, <a href="/tag/rest-api" rel="tag">rest api</a>
</div>

			</div>			<div id="post-4239" class="post-4239 post type-post status-publish format-standard hentry category-mongodb tag-cms tag-javascript tag-keystonejs tag-mongodb tag-mongodb-atlas tag-node-js">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/configuring-keystonejs-to-use-mongodb-atlas">September 16, 2016</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/configuring-keystonejs-to-use-mongodb-atlas#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/configuring-keystonejs-to-use-mongodb-atlas" rel="bookmark">Configuring KeystoneJS to Use MongoDB Atlas</a></h2>
				
				<div class="entry">
										<p>KeystoneJS is an open source framework for building web applications and Content Management Systems. It&#8217;s built on top of MongoDB, Express, and Node.js &#8211; key components of the ubiquitous MEAN stack.</p>
<p>This post explains why MongoDB Atlas is an ideal choice for KeystoneJS and then goes on to show how to configure KeystoneJS to use it.</p>
<h1>Why are KeystoneJS and MongoDB Atlas a Good Match</h1>
<p>The MEAN stack is extremely popular and well supported and it&#8217;s the go to platform when developing modern applications. For its part, MongoDB brings flexible schemas, rich queries, an idiomatic Node.js driver, and simple to use high availability and scaling.</p>
<p><a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> provides all of the features of MongoDB, without the operational heavy lifting required for any new application. MongoDB Atlas is available on demand through a pay-as-you-go model and billed on an hourly basis, letting you focus on what you do best.</p>
<p>It’s easy to get started – use a simple GUI to select the instance size, region, and features you need. MongoDB Atlas provides:</p>
<ul>
<li>Security features to protect access to your data</li>
<li>Built in replication for always-on availability, tolerating complete data center failure</li>
<li>Backups and point in time recovery to protect against data corruption</li>
<li>Fine-grained monitoring to let you know when to scale. Additional instances can be provisioned with the push of a button</li>
<li>Automated patching and one-click upgrades for new major versions of the database, enabling you to take advantage of the latest and greatest MongoDB features</li>
<li>A choice of cloud providers, regions, and billing options</li>
</ul>
<p>Like KeystoneJS, MongoDB Atlas is a natural fit for users looking to simplify their development and operations work, letting them focus on what makes their application unique rather than commodity (albeit essential) plumbing.</p>
<h1>Installing KeystoneJS and Configuring it to Use MongoDB Atlas</h1>
<p>Before starting with KeystoneJS, you should launch your MongoDB cluster using <a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> and then (optionally) create a user with read and write privileges for just the database that will be used for this project, as shown in Figure 1. You must also add the IP address of your application server to the IP Whitelist in the MongoDB Atlas security tab.</p>
<div id="attachment_4240" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Add_KeystoneJS_user.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4240" src="/wp-content/uploads/2016/09/Add_KeystoneJS_user-1024x891.png" alt="Creating KeystoneJS user in MongoDB Atlas" width="480" height="418" class="size-large wp-image-4240" srcset="/wp-content/uploads/2016/09/Add_KeystoneJS_user-1024x891.png 1024w, /wp-content/uploads/2016/09/Add_KeystoneJS_user-300x261.png 300w, /wp-content/uploads/2016/09/Add_KeystoneJS_user-768x668.png 768w, /wp-content/uploads/2016/09/Add_KeystoneJS_user.png 2010w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4240" class="wp-caption-text">Figure 1: Creating KeystoneJS user in MongoDB Atlas</p>
</div>
<p>If it isn&#8217;t already installed on your system, download and install Node.js:</p>
<p><script src="https://gist.github.com/am-MongoDB/3bbb946bb35fd8054e95adf92b96f103.js"></script><br>
You should then add the <code>bin</code> sub-folder to your <code>.bash_profile</code> file and then install KeystoneJS:</p>
<p><script src="https://gist.github.com/am-MongoDB/ada983d4879a3439751da83044644790.js"></script></p>
<p>Before starting KeystoneJS you need to configure it with details on how to connect to your specific MongoDB Atlas cluster. This is done by updating the <code>MONGO_URI</code> value within the <code>.env</code> file:</p>
<p><script src="https://gist.github.com/am-MongoDB/2b40abeec5e34a9443a26012507417d6.js"></script></p>
<p>The URI contains these components:</p>
<ul>
<li>
<code>keystonejs_user</code> is the name of the user you created in the MongoDB Atlas UI</li>
<li>
<code>my_password</code> is the password you chose when creating the user in MongoDB Atlas</li>
<li>
<code>cluster0-shard-00-00-qfovx.mongodb.net</code>, <code>cluster0-shard-00-01-qfovx.mongodb.net</code>, &amp; <code>cluster0-shard-00-02-qfovx.mongodb.net</code> are the hostnames of the instances in your MongoDB Atlas replica set (click on the &#8220;CONNECT&#8221; button in the MongoDB Atlas UI if you don&#8217;t have these)</li>
<li>
<code>27017</code> is the standard MongoDB port number</li>
<li>
<code>clusterdb</code> is the name of the database (schema) that KeystoneJS will use (note that this must match the project name used when installing KeystoneJS as well as the database you granted the user access to)</li>
<li>To enforce security, MongoDB Atlas mandates that the <code>ssl</code> option is used</li>
<li>
<code>admin</code> is the database that&#8217;s being used to store the credentials for <code>keystonejs_user</code>
</li>
</ul>
<p>Clients connect to KeystoneJS through port 3000 and so you must open that port in your firewall.</p>
<p>You can then start KeystoneJS:</p>
<pre><code>$ node keystone
</code></pre>
<p><script src="https://gist.github.com/am-MongoDB/7e0305ec2a8acf6a9891a44da048987a.js"></script></p>
<h1>Testing the Configuration</h1>
<p>Browse to the application at <code>http://address-of-app-server:3000</code> as shown in Figure 2.</p>
<div id="attachment_4241" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/KeystoneJS.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4241" src="/wp-content/uploads/2016/09/KeystoneJS-1024x648.png" alt="KeystoneJS Running on MongoDB Atlas" width="480" height="304" class="size-large wp-image-4241" srcset="/wp-content/uploads/2016/09/KeystoneJS-1024x648.png 1024w, /wp-content/uploads/2016/09/KeystoneJS-300x190.png 300w, /wp-content/uploads/2016/09/KeystoneJS-768x486.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4241" class="wp-caption-text">Figure 2: KeystoneJS Running on MongoDB Atlas</p>
</div>
<p>Sign in using the credentials shown and then confirm that you can upload some images to a gallery and create a new page as shown in Figure 3.</p>
<div id="attachment_4242" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/create_KeystoneJS_post_on_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4242" src="/wp-content/uploads/2016/09/create_KeystoneJS_post_on_MongoDB_Atlas-1024x943.png" alt="Create a Page in KeystoneJS with Data Stored in MongoDB Atlas" width="480" height="442" class="size-large wp-image-4242" srcset="/wp-content/uploads/2016/09/create_KeystoneJS_post_on_MongoDB_Atlas-1024x943.png 1024w, /wp-content/uploads/2016/09/create_KeystoneJS_post_on_MongoDB_Atlas-300x276.png 300w, /wp-content/uploads/2016/09/create_KeystoneJS_post_on_MongoDB_Atlas-768x707.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4242" class="wp-caption-text">Figure 3: Create a Page in KeystoneJS with Data Stored in MongoDB Atlas</p>
</div>
<p>After saving the page, confirm that you can browse to the newly created post (Figure 4).</p>
<div id="attachment_4243" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/view_KeystoneJS_post_on_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4243" src="/wp-content/uploads/2016/09/view_KeystoneJS_post_on_MongoDB_Atlas-1024x905.png" alt="View KeystoneJS Post with Data Read from MongoDB Atlas" width="480" height="424" class="size-large wp-image-4243" srcset="/wp-content/uploads/2016/09/view_KeystoneJS_post_on_MongoDB_Atlas-1024x905.png 1024w, /wp-content/uploads/2016/09/view_KeystoneJS_post_on_MongoDB_Atlas-300x265.png 300w, /wp-content/uploads/2016/09/view_KeystoneJS_post_on_MongoDB_Atlas-768x679.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4243" class="wp-caption-text">Figure 4: View KeystoneJS Post with Data Read from MongoDB Atlas</p>
</div>
<p>Optionally, confirm that, MongoDB Atlas really is being used by KeystoneJS, you can connect using the MongoDB shell:</p>
<p><script src="https://gist.github.com/am-MongoDB/ec422d08c7a5560f776b5638f06185d6.js"></script></p>
<p>To visually navigate through the schema and data created by KeystoneJS, <a href="https://www.mongodb.com/download-center?jmp=nav#compass">download and install MongoDB Compass</a>. The same credentials can be used to connect Compass to your MongoDB database – Figure 5.</p>
<div id="attachment_4244" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4244" src="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1-1024x794.png" alt="Connect MongoDB Compass to MongoDB Atlas Database" width="480" height="372" class="size-large wp-image-4244" srcset="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1-1024x794.png 1024w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1-300x233.png 300w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1-768x595.png 768w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1.png 1798w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4244" class="wp-caption-text">Figure 5: Connect MongoDB Compass to MongoDB Atlas Database</p>
</div>
<p>Navigate through the structure of the data in the <code>clusterdb</code> database (Figure 6) and view the JSON documents (Figure 7).</p>
<div id="attachment_4245" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Compass_KeystoneJS_Schema.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4245" src="/wp-content/uploads/2016/09/Compass_KeystoneJS_Schema-1024x712.png" alt="Explore KeystoneJS Schema Using MongoDB Compass" width="480" height="334" class="size-large wp-image-4245" srcset="/wp-content/uploads/2016/09/Compass_KeystoneJS_Schema-1024x712.png 1024w, /wp-content/uploads/2016/09/Compass_KeystoneJS_Schema-300x209.png 300w, /wp-content/uploads/2016/09/Compass_KeystoneJS_Schema-768x534.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4245" class="wp-caption-text">Figure 6: Explore KeystoneJS Schema Using MongoDB Compass</p>
</div>
<div id="attachment_4246" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Compass_KeystoneJS_Data.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4246" src="/wp-content/uploads/2016/09/Compass_KeystoneJS_Data-1024x435.png" alt="View Documents Stored by KeystoneJS Using MongoDB Atlas" width="480" height="204" class="size-large wp-image-4246" srcset="/wp-content/uploads/2016/09/Compass_KeystoneJS_Data-1024x435.png 1024w, /wp-content/uploads/2016/09/Compass_KeystoneJS_Data-300x128.png 300w, /wp-content/uploads/2016/09/Compass_KeystoneJS_Data-768x327.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4246" class="wp-caption-text">Figure 7: View Documents Stored by KeystoneJS Using MongoDB Atlas</p>
</div>
<h1>Next Steps</h1>
<p>While MongoDB Atlas radically simplifies the operation of MongoDB there are still some decisions to take to ensure the best performance and reliability for your application. The <a href="https://www.mongodb.com/collateral/mongodb-atlas-best-practices">MongoDB Atlas Best Practices white paper</a> provides guidance on best practices for deploying, managing, and optimizing the performance of your database with MongoDB Atlas.</p>
<p>The guide outlines considerations for achieving performance at scale with MongoDB Atlas across a number of key dimensions, including instance size selection, application patterns, schema design and indexing, and disk I/O. While this guide is broad in scope, it is not exhaustive. Following the recommendations in the guide will provide a solid foundation for ensuring optimal application performance.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/configuring-keystonejs-to-use-mongodb-atlas" data-via="wpbeginner" data-text="Configuring KeystoneJS to Use MongoDB Atlas" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/configuring-keystonejs-to-use-mongodb-atlas"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/configuring-keystonejs-to-use-mongodb-atlas" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Fconfiguring-keystonejs-to-use-mongodb-atlas&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/cms" rel="tag">CMS</a>, <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/keystonejs" rel="tag">KeystoneJS</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/mongodb-atlas" rel="tag">MongoDB Atlas</a>, <a href="/tag/node-js" rel="tag">node.js</a>
</div>

			</div>			<div id="post-4215" class="post-4215 post type-post status-publish format-standard hentry category-mongodb tag-javascript tag-mongodb tag-mongodb-atlas tag-mongodb-compass tag-node-js tag-pencilblue">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/using-pencilblue-with-mongodb-atlas">September 15, 2016</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/using-pencilblue-with-mongodb-atlas#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/using-pencilblue-with-mongodb-atlas" rel="bookmark">Using PencilBlue with MongoDB Atlas</a></h2>
				
				<div class="entry">
										<p>PencilBlue is a Node.js based, open source blogging and Content Management System, targeted at enterprise grade websites.</p>
<p>This post explains why MongoDB Atlas is an ideal choice for PencilBlue and then goes on to show how to configure PencilBlue to use it.</p>
<h1>Why MongoDB Atlas is the Ideal Database for PencilBlue</h1>
<p>MongoDB delivers flexible schemas, rich queries, an idiomatic Node.js driver, and simple to use high availability and scaling. This makes it the go-to database for anyone looking to build applications on Node.js.</p>
<p><a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> provides all of the features of MongoDB, without the operational heavy lifting required for any new application. MongoDB Atlas is available on demand through a pay-as-you-go model and billed on an hourly basis, letting you focus on what you do best.</p>
<p>It’s easy to get started – use a simple GUI to select the instance size, region, and features you need. MongoDB Atlas provides:</p>
<ul>
<li>Security features to protect access to your data</li>
<li>Built in replication for always-on availability, tolerating complete data center failure</li>
<li>Backups and point in time recovery to protect against data corruption</li>
<li>Fine-grained monitoring to let you know when to scale. Additional instances can be provisioned with the push of a button</li>
<li>Automated patching and one-click upgrades for new major versions of the database, enabling you to take advantage of the latest and greatest MongoDB features</li>
<li>A choice of cloud providers, regions, and billing options</li>
</ul>
<p>Like PencilBlue, MongoDB Atlas is a natural fit for users looking to simplify their development and operations work, letting them focus on what makes their application unique rather than commodity (albeit essential) plumbing.</p>
<h1>Installing PencilBlue and Connecting it to MongoDB Atlas</h1>
<p>Before starting with PencilBlue, you should launch your MongoDB cluster using <a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> and then (optionally) create a user with read and write privileges for just the database that will be used for this project, as shown in Figure 1.</p>
<div id="attachment_4216" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_user.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4216" src="/wp-content/uploads/2016/09/PencilBlue_user-910x1024.png" alt="Adding a PencilBlue User to MongoDB Atlas" width="480" height="540" class="size-large wp-image-4216" srcset="/wp-content/uploads/2016/09/PencilBlue_user-910x1024.png 910w, /wp-content/uploads/2016/09/PencilBlue_user-267x300.png 267w, /wp-content/uploads/2016/09/PencilBlue_user-768x864.png 768w, /wp-content/uploads/2016/09/PencilBlue_user.png 1596w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4216" class="wp-caption-text">Figure 1: Adding a PencilBlue User to MongoDB Atlas</p>
</div>
<p>You must also add your IP address to the IP Whitelist in the MongoDB Atlas security tab (Figure 2).</p>
<div id="attachment_4217" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_whitelist_IP.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4217" src="/wp-content/uploads/2016/09/PencilBlue_whitelist_IP-1024x701.png" alt="Add IP Address to MongoDB Atlas Whitelist" width="480" height="329" class="size-large wp-image-4217" srcset="/wp-content/uploads/2016/09/PencilBlue_whitelist_IP-1024x701.png 1024w, /wp-content/uploads/2016/09/PencilBlue_whitelist_IP-300x205.png 300w, /wp-content/uploads/2016/09/PencilBlue_whitelist_IP-768x526.png 768w, /wp-content/uploads/2016/09/PencilBlue_whitelist_IP.png 1502w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4217" class="wp-caption-text">Figure 2: Add IP Address to MongoDB Atlas Whitelist</p>
</div>
<p>If it isn&#8217;t already installed on your system, download and install Node.js:</p>
<pre><code>$ curl https://nodejs.org/dist/v4.4.7/node-v4.4.7-linux-x64.tar.xz -o node.tar.xz
$ tar xf node.tar.xz
</code></pre>
<p>You should then add the <code>bin</code> sub-folder to your <code>.bash_profile</code> before installing the PencilBlue command line interface (CLI):</p>
<pre><code>$ sudo npm install -g pencilblue-cli
Password:
npm WARN engine pencilblue-cli@0.3.1: wanted: {"node":"&gt;= 4.4.7"} (current: {"node":"0.12.5","npm":"2.11.2"})
/usr/local/bin/pencilblue -&gt; /usr/local/lib/node_modules/pencilblue-cli/lib/pencilblue-cli.js
/usr/local/bin/pbctrl -&gt; /usr/local/lib/node_modules/pencilblue-cli/lib/pencilblue-cli.js
pencilblue-cli@0.3.1 /usr/local/lib/node_modules/pencilblue-cli
├── process@0.11.8
├── colors@1.1.2
├── q@1.4.1
├── shelljs@0.7.3 (interpret@1.0.1, rechoir@0.6.2, glob@7.0.5)
└── prompt@1.0.0 (revalidator@0.1.8, pkginfo@0.4.0, read@1.0.7, winston@2.1.1, utile@0.3.0)
</code></pre>
<p>The CLI can then be used to install and configure PencilBlue itself:</p>
<pre><code>$ pbctrl install PencilBlue
Site Name:  (My PencilBlue Site) PokeSite
Site Root:  (http://localhost:8080) 
Address to bind to:  (0.0.0.0) 
Site Port:  (8080) 
MongoDB URL:  (mongodb://127.0.0.1:27017/) mongodb://pencilblue_user:my_password@cluster0-shard-00-00-qfovx.mongodb.net:27017,cluster0-shard-00-01-qfovx.mongodb.net:27017,cluster0-shard-00-02-qfovx.mongodb.net:27017/?ssl=true&amp;authSource=admin
Database Name:  (pencilblue) clusterdb
Do you want to install Bower components?:  (y/N) 
Cloning PencilBlue from github...
Cloning into 'PencilBlue'...
Installing npm modules...
...
Creating config.js...
Installation completed.
</code></pre>
<p>Note that if you need to change the configuration (e.g., to specify a new URL to connect to MongoDB) then edit the <code>config.js</code> file that was created during this step.</p>
<p>The MongoDB URL you provided contains these components:</p>
<ul>
<li>
<code>pencilblue_user</code> is the name of the user you created in the MongoDB Atlas UI</li>
<li>
<code>my_password</code> is the password you chose when creating the user in MongoDB Atlas</li>
<li>
<code>cluster0-shard-00-00-qfovx.mongodb.net</code>, <code>cluster0-shard-00-01-qfovx.mongodb.net</code>, &amp; <code>cluster0-shard-00-02-qfovx.mongodb.net</code> are the hostnames of the instances in your MongoDB Atlas replica set (click on the &#8220;CONNECT&#8221; button in the MongoDB Atlas UI if you don&#8217;t have these – Figure 3)</li>
<li>
<code>27017</code> is the standard MongoDB port number</li>
<li>To enforce security, MongoDB Atlas mandates that the <code>ssl</code> option is used</li>
<li>
<code>admin</code> is the database that&#8217;s being used to store the credentials for <code>pencilblue_user</code>
</li>
</ul>
<div id="attachment_4218" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Find_Connect_String.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4218" src="/wp-content/uploads/2016/09/PencilBlue_Find_Connect_String-1024x414.png" alt="Find the Hostnames From the MongoDB Atlas UI" width="480" height="194" class="size-large wp-image-4218" srcset="/wp-content/uploads/2016/09/PencilBlue_Find_Connect_String-1024x414.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Find_Connect_String-300x121.png 300w, /wp-content/uploads/2016/09/PencilBlue_Find_Connect_String-768x310.png 768w, /wp-content/uploads/2016/09/PencilBlue_Find_Connect_String.png 1520w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4218" class="wp-caption-text">Figure 3: Find the Hostnames From the MongoDB Atlas UI</p>
</div>
<p><code>clusterdb</code> is the name of the database (schema) that PencilBlue will use (note that unlike some frameworks, the database name is specified separately rather than being embedded in the MongoDB URL).</p>
<p>The PencilBlue process can now be started:</p>
<pre><code>$ cd PencilBlue/
$ pbctrl start
</code></pre>
<h1>Confirm that MongoDB Atlas is Being Used</h1>
<p>At this point, it is possible to connect to MongoDB Atlas using the MongoDB shell (we&#8217;ll look at an easier way to navigate the data later) to confirm that the schema has been created:</p>
<pre><code>$ mongo mongodb://cluster0-shard-00-00-qfovx.mongodb.net:27017,cluster0-shard-00-01-qfovx.mongodb.net:27017,cluster0-shard-00-02-qfovx.mongodb.net:27017/admin?replicaSet=Cluster0-shard-0 --ssl --username billy --password my_password

Cluster0-shard-0:PRIMARY&gt; show dbs
admin      0.000GB
clusterdb  0.008GB
local      0.007GB

Cluster0-shard-0:PRIMARY&gt; use clusterdb
switched to db clusterdb

Cluster0-shard-0:PRIMARY&gt; show collections
article
auth_token
comment
custom_object
custom_object_type
fs.chunks
fs.files
job_log
lock
media
page
password_reset
plugin
plugin_settings
section
server_registry
session
setting
theme_settings
topic
unverified_user
user
</code></pre>
<h1>Create Your First Page in PencilBlue</h1>
<p>Browse to the application at <a href="http://localhost:8080/">http://localhost:8080</a> as shown in Figure 4 and create a user account.</p>
<div id="attachment_4219" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Browser.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4219" src="/wp-content/uploads/2016/09/PencilBlue_Browser-1016x1024.png" alt="Register User in PencilBlue" width="480" height="484" class="size-large wp-image-4219" srcset="/wp-content/uploads/2016/09/PencilBlue_Browser-1016x1024.png 1016w, /wp-content/uploads/2016/09/PencilBlue_Browser-150x150.png 150w, /wp-content/uploads/2016/09/PencilBlue_Browser-298x300.png 298w, /wp-content/uploads/2016/09/PencilBlue_Browser-768x774.png 768w, /wp-content/uploads/2016/09/PencilBlue_Browser-144x144.png 144w, /wp-content/uploads/2016/09/PencilBlue_Browser.png 1750w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4219" class="wp-caption-text">Figure 4: Register User in PencilBlue</p>
</div>
<p>You&#8217;re then able to login and create your first page (Figure 5).</p>
<div id="attachment_4220" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Create_content.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4220" src="/wp-content/uploads/2016/09/PencilBlue_Create_content-1024x973.png" alt="Create a New Page Using PencilBlue" width="480" height="456" class="size-large wp-image-4220" srcset="/wp-content/uploads/2016/09/PencilBlue_Create_content-1024x973.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Create_content-300x285.png 300w, /wp-content/uploads/2016/09/PencilBlue_Create_content-768x730.png 768w, /wp-content/uploads/2016/09/PencilBlue_Create_content.png 1902w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4220" class="wp-caption-text">Figure 5: Create a New Page Using PencilBlue</p>
</div>
<p>After saving, the new page can be viewed (Figure 6).</p>
<div id="attachment_4221" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Page.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4221" src="/wp-content/uploads/2016/09/PencilBlue_Page-776x1024.png" alt="View Pokémon Page in PencilBlue" width="480" height="633" class="size-large wp-image-4221" srcset="/wp-content/uploads/2016/09/PencilBlue_Page-776x1024.png 776w, /wp-content/uploads/2016/09/PencilBlue_Page-227x300.png 227w, /wp-content/uploads/2016/09/PencilBlue_Page-768x1014.png 768w, /wp-content/uploads/2016/09/PencilBlue_Page.png 1620w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4221" class="wp-caption-text">Figure 6: View Pokémon Page in PencilBlue</p>
</div>
<p>To visually navigate through the PencilBlue schema and data, <a href="https://www.mongodb.com/download-center?jmp=nav#compass">download and install MongoDB Compass</a>. Use your MongoDB Atlas credentials to connect Compass to your MongoDB database – Figure 7.</p>
<div id="attachment_4222" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4222" src="/wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas-1024x839.png" alt="Connect MongoDB Compass to MongoDB Atlas" width="480" height="393" class="size-large wp-image-4222" srcset="/wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas-1024x839.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas-300x246.png 300w, /wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas-768x629.png 768w, /wp-content/uploads/2016/09/PencilBlue_Connect_Compass_to_MongoDB_Atlas.png 1802w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4222" class="wp-caption-text">Figure 7: Connect MongoDB Compass to MongoDB Atlas</p>
</div>
<p>Navigate through the structure of the data in the <code>clusterdb</code> database (Figure 8); view the JSON documents (Figure 9) and check the indexes (Figure 10).</p>
<div id="attachment_4223" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Compass_Schema.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4223" src="/wp-content/uploads/2016/09/PencilBlue_Compass_Schema-1024x594.png" alt="Explore PencilBlue Schema Using MongoDB Compass" width="480" height="278" class="size-large wp-image-4223" srcset="/wp-content/uploads/2016/09/PencilBlue_Compass_Schema-1024x594.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Compass_Schema-300x174.png 300w, /wp-content/uploads/2016/09/PencilBlue_Compass_Schema-768x445.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4223" class="wp-caption-text">Figure 8: Explore PencilBlue Schema Using MongoDB Compass</p>
</div>
<div id="attachment_4224" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Compass_Document.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4224" src="/wp-content/uploads/2016/09/PencilBlue_Compass_Document-1024x595.png" alt="View PencilBlue Documents in MongoDB Compass" width="480" height="279" class="size-large wp-image-4224" srcset="/wp-content/uploads/2016/09/PencilBlue_Compass_Document-1024x595.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Compass_Document-300x174.png 300w, /wp-content/uploads/2016/09/PencilBlue_Compass_Document-768x446.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4224" class="wp-caption-text">Figure 9: View PencilBlue Documents in MongoDB Compass</p>
</div>
<div id="attachment_4225" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/PencilBlue_Compass_Indexes.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4225" src="/wp-content/uploads/2016/09/PencilBlue_Compass_Indexes-1024x594.png" alt="View PencilBlue Indexes Using MongoDB Compass" width="480" height="278" class="size-large wp-image-4225" srcset="/wp-content/uploads/2016/09/PencilBlue_Compass_Indexes-1024x594.png 1024w, /wp-content/uploads/2016/09/PencilBlue_Compass_Indexes-300x174.png 300w, /wp-content/uploads/2016/09/PencilBlue_Compass_Indexes-768x446.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4225" class="wp-caption-text">Figure 10: View PencilBlue Indexes Using MongoDB Compass</p>
</div>
<h1>Next Steps</h1>
<p>While MongoDB Atlas radically simplifies the operation of MongoDB there are still some decisions to take to ensure the best performance and reliability for your application. The <a href="https://www.mongodb.com/collateral/mongodb-atlas-best-practices">MongoDB Atlas Best Practices white paper</a> provides guidance on best practices for deploying, managing, and optimizing the performance of your database with MongoDB Atlas.</p>
<p>The guide outlines considerations for achieving performance at scale with MongoDB Atlas across a number of key dimensions, including instance size selection, application patterns, schema design and indexing, and disk I/O. While this guide is broad in scope, it is not exhaustive. Following the recommendations in the guide will provide a solid foundation for ensuring optimal application performance.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/using-pencilblue-with-mongodb-atlas" data-via="wpbeginner" data-text="Using PencilBlue with MongoDB Atlas" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/using-pencilblue-with-mongodb-atlas"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/using-pencilblue-with-mongodb-atlas" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Fusing-pencilblue-with-mongodb-atlas&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/mongodb-atlas" rel="tag">MongoDB Atlas</a>, <a href="/tag/mongodb-compass" rel="tag">MongoDB Compass</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/pencilblue" rel="tag">PencilBlue</a>
</div>

			</div>			<div id="post-4201" class="post-4201 post type-post status-publish format-standard hentry category-mongodb tag-aws tag-elastic-beanstalk tag-mongodb tag-mongodb-atlas tag-node-js">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas">September 15, 2016</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas" rel="bookmark">Develop &#038; Deploy a Node.js App to AWS Elastic Beanstalk &#038; MongoDB Atlas</a></h2>
				
				<div class="entry">
										<h1>Introduction</h1>
<p>This blog post demonstrates how to build and deploy an application on AWS Elastic Beanstalk, and have that application connect to <a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> as its back-end database service:</p>
<ul>
<li>Introducing the example <em>MongoPop</em> application</li>
<li>Connecting applications to your MongoDB Atlas cluster; including IP address whitelisting</li>
<li>Downloading and testing MongoPop locally and on AWS Elastic Beanstalk</li>
<li>Populating your database with thousands of realistic documents</li>
<li>Explaining key parts of the application code</li>
<li>Adapting and redeploying applications</li>
<li>Graphically exploring your schema and data with MongoDB Compass</li>
</ul>
<p>AWS Elastic Beanstalk is a service offered by Amazon to make it simple for developers to deploy and manage their cloud-based applications. After you&#8217;ve uploaded your application, Elastic Beanstalk automatically takes care of:</p>
<ul>
<li>Capacity provisioning, adding more instances as needed</li>
<li>Load balancing</li>
<li>Health monitoring</li>
</ul>
<p>MongoDB Atlas provides all of the features of the MongoDB database, without the operational heavy lifting. MongoDB Atlas is available on demand through a pay-as-you-go model and billed on an hourly basis, letting you focus on your application code.</p>
<p>It’s easy to get started – use a simple GUI to select the instance size, region, and features you need. MongoDB Atlas provides:</p>
<ul>
<li>Security features to protect access to your data</li>
<li>Built in replication for always-on availability, tolerating complete data center failure</li>
<li>Backups and point in time recovery to protect against data corruption</li>
<li>Fine-grained monitoring to let you know when to scale. Additional instances can be provisioned with the push of a button</li>
<li>Automated patching and one-click upgrades for new major versions of the database, enabling you to take advantage of the latest and greatest MongoDB features</li>
<li>A choice of cloud providers, regions, and billing options</li>
</ul>
<p>There is clearly a lot of synergy between these technologies – both of them handling the enabling infrastructure, letting the developer spend their precious time on writing great applications. To continue in the spirit of developer productivity, the application used in this post is developed using Node.js, the Express web application framework, and the Pug (formerly Jade) template engine.</p>
<h1>The Application &#8211; MongoPop</h1>
<p>Let&#8217;s start by taking a look at what the new Mongopop application provides.</p>
<p>Getting your MongoDB Atlas cluster up and running is a breeze but what do you do with it next? Wouldn&#8217;t it be great to populate it with some realistic data so that you can start experimenting? This is what MongoPop does – even letting you tailor the format and contents of the data using the <a href="http://www.mockaroo.com/">Mockaroo</a> service.</p>
<p>Mockaroo is a flexible service, allowing you to define a rich schema and then generate realistic sample data sets. Supported types include:</p>
<ul>
<li>Email address</li>
<li>City</li>
<li>European first name</li>
<li>JSON array</li>
<li>Branded drug names</li>
<li>Custom types defined by you, based on regular expressions</li>
</ul>
<p>Data files can be downloaded from Mockaroo in multiple formats, including: JSON, CSV, and SQL.</p>
<p>MongoPop pulls data from Mockaroo and then automatically writes the data to your database. It defaults to our example Mockaroo schema but you can replace that with a URL for any schema that you&#8217;ve defined in Mockaroo (or any other service providing arrays of JSON documents). Mockaroo takes care of connecting to MongoDB Atlas and runs multithreaded, speeding up the process of loading large datasets into MongoDB.</p>
<h2>Using MongoPop</h2>
<div id="attachment_4203" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Identify_IP_Address_for_MongoDB_Atlas_whitelisting.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4203" src="/wp-content/uploads/2016/09/Identify_IP_Address_for_MongoDB_Atlas_whitelisting-1024x524.png" alt="Identify IP Address of MongoPop Server for MongoDB Atlas IP Whitelisting" width="480" height="246" class="size-large wp-image-4203" srcset="/wp-content/uploads/2016/09/Identify_IP_Address_for_MongoDB_Atlas_whitelisting-1024x524.png 1024w, /wp-content/uploads/2016/09/Identify_IP_Address_for_MongoDB_Atlas_whitelisting-300x153.png 300w, /wp-content/uploads/2016/09/Identify_IP_Address_for_MongoDB_Atlas_whitelisting-768x393.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4203" class="wp-caption-text">Figure 1: Identify IP Address of MongoPop Server for MongoDB Atlas IP Whitelisting</p>
</div>
<p>When you first access MongoPop (Figure 1), you&#8217;re presented with a form to provide details on how to connect to your MongoDB Atlas instance, and what you&#8217;d like the data to look like. Before completing the form, take a note of the IP address that&#8217;s displayed. This IP address needs to be added to the whitelist for your group, which is done through the security tab of the <a href="https://www.mongodb.com/cloud">MongoDB Atlas UI</a> (Figure 2).</p>
<div id="attachment_4204" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Add_IP_Address_to_MongoDB_Atlas_whitelist.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4204" src="/wp-content/uploads/2016/09/Add_IP_Address_to_MongoDB_Atlas_whitelist-1024x428.png" alt="Add MongoPop IP Address to MongoDB Atlas Group Whitelist" width="480" height="201" class="size-large wp-image-4204" srcset="/wp-content/uploads/2016/09/Add_IP_Address_to_MongoDB_Atlas_whitelist-1024x428.png 1024w, /wp-content/uploads/2016/09/Add_IP_Address_to_MongoDB_Atlas_whitelist-300x126.png 300w, /wp-content/uploads/2016/09/Add_IP_Address_to_MongoDB_Atlas_whitelist-768x321.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4204" class="wp-caption-text">Figure 2: Add MongoPop IP Address to MongoDB Atlas Group Whitelist</p>
</div>
<p>In a production Elastic Beanstalk environment, the IP whitelisting can be a little more involved – that will be covered later in this post.</p>
<div id="attachment_4205" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4205" src="/wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas-1024x416.png" alt="Find the Node.js Driver Connect String in MongoDB Atlas" width="480" height="195" class="size-large wp-image-4205" srcset="/wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas-1024x416.png 1024w, /wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas-300x122.png 300w, /wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas-768x312.png 768w, /wp-content/uploads/2016/09/Find_Node_Driver_Connect_String_MongoDB_Atlas.png 1380w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4205" class="wp-caption-text">Figure 3: Find the Node.js Driver Connect String in MongoDB Atlas</p>
</div>
<p>While in the MongoDB Atlas UI, click the &#8220;CONNECT&#8221; button, select the &#8220;MongoDB Drivers&#8221; tab and then the &#8220;COPY&#8221; button (Figure 3). Paste the copied URI directly into MongoPop. You should also enter the password and the database you want to use.</p>
<p>Note that the URI needs editing before it&#8217;s actually used but MongoPop handles that using the password and database name you provide; the final URI will take this form: <code>mongodb://mongodb_user:my_password@cluster0-shard-00-00-qfovx.mongodb.net:27017,cluster0-shard-00-01-qfovx.mongodb.net:27017,cluster0-shard-00-02-qfovx.mongodb.net:27017/mongopop?ssl=true&amp;authSource=admin</code>.</p>
<p>This URI contains these components:</p>
<ul>
<li>
<code>mongodb_user</code> is the name of the user you gave when creating the group in the MongoDB Atlas UI. Alternatively, create a new user in the MongoDB Atlas UI with more restricted privileges.</li>
<li>
<code>my_password</code> is the password you chose when creating the user in MongoDB Atlas.</li>
<li>
<code>cluster0-shard-00-00-qfovx.mongodb.net</code>, <code>cluster0-shard-00-01-qfovx.mongodb.net</code>, &amp; <code>cluster0-shard-00-02-qfovx.mongodb.net</code> are the hostnames of the instances in your MongoDB Atlas replica set.</li>
<li>
<code>27017</code> is the default MongoDB port number.</li>
<li>
<code>mongopop</code> is the name of the database (schema) that MongoPop will use.</li>
<li>To enforce over-the-wire encryption, MongoDB Atlas mandates that the <code>ssl</code> option is used.</li>
<li>
<code>admin</code> is the database that&#8217;s being used to store the credentials for <code>mongodb_user</code>.</li>
</ul>
<p>The remaining fields define the collection to store the documents, the source of the document schema, and the number of documents (in thousands) to be added. The source URL defaults to a document format already defined but you can create your own by registering at the <a href="http://www.mockaroo.com/">Mockaroo</a> site, defining the document structure and then using the URL provided.</p>
<p>After clicking the &#8220;populate&#8221; button, MongoPop fetches the data set(s) from Mockaroo and then adds the documents to your MongoDB Atlas collection. Once the data has been added, the page refreshes and you&#8217;re shown a sample of the documents now stored in your collection (Figure 4).</p>
<div id="attachment_4206" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/MongoDB_Atlas_sample_document.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4206" src="/wp-content/uploads/2016/09/MongoDB_Atlas_sample_document-1024x771.png" alt="Sample of Data Added to MongoDB Atlas Collection" width="480" height="361" class="size-large wp-image-4206" srcset="/wp-content/uploads/2016/09/MongoDB_Atlas_sample_document-1024x771.png 1024w, /wp-content/uploads/2016/09/MongoDB_Atlas_sample_document-300x226.png 300w, /wp-content/uploads/2016/09/MongoDB_Atlas_sample_document-768x578.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4206" class="wp-caption-text">Figure 4: Sample of Data Added to MongoDB Atlas Collection</p>
</div>
<h3>MongoDB Compass</h3>
<p>Congratulations, you now have some data in your database! An optional step is to start exploring that data using <a href="https://www.mongodb.com/products/compass">MongoDB Compass</a>. The same credentials can be used to connect Compass to your MongoDB database (Figure 5).</p>
<div id="attachment_4207" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4207" src="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1024x839.png" alt="Connect MongoDB Compass to MongoDB Atlas" width="480" height="393" class="size-large wp-image-4207" srcset="/wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-1024x839.png 1024w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-300x246.png 300w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas-768x629.png 768w, /wp-content/uploads/2016/09/Connect_MongoDB_Compass_to_MongoDB_Atlas.png 1796w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4207" class="wp-caption-text">Figure 5: Connect MongoDB Compass to MongoDB Atlas</p>
</div>
<p>Once connected, explore the data added to the collection (Figure 6).</p>
<div id="attachment_4208" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Explore_MongoDB_Atlas_data_with_MongoDB_Compass.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4208" src="/wp-content/uploads/2016/09/Explore_MongoDB_Atlas_data_with_MongoDB_Compass-1024x734.png" alt="Explore MongoDB Atlas Data Using MongoDB Compass" width="480" height="344" class="size-large wp-image-4208" srcset="/wp-content/uploads/2016/09/Explore_MongoDB_Atlas_data_with_MongoDB_Compass-1024x734.png 1024w, /wp-content/uploads/2016/09/Explore_MongoDB_Atlas_data_with_MongoDB_Compass-300x215.png 300w, /wp-content/uploads/2016/09/Explore_MongoDB_Atlas_data_with_MongoDB_Compass-768x550.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4208" class="wp-caption-text">Figure 6: Explore MongoDB Atlas Data Using MongoDB Compass</p>
</div>
<p>In this version (1.3) of MongoDB Compass (currently in <a href="https://www.mongodb.com/download-center?jmp=nav#compass">beta</a>), it is also possible to add, delete, and modify documents (Figure 7).</p>
<div id="attachment_4209" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4209" src="/wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass-1024x340.png" alt="Modify a Document in MongoDB Compass" width="480" height="159" class="size-large wp-image-4209" srcset="/wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass-1024x340.png 1024w, /wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass-300x100.png 300w, /wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass-768x255.png 768w, /wp-content/uploads/2016/09/Modify_MongoDB_Atlas_document_in_MongoDB_Compass.png 2002w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4209" class="wp-caption-text">Figure 7: Modify a Document in MongoDB Compass</p>
</div>
<p>You can verify that the document has really been updated from the MongoDB shell:</p>
<p><script src="https://gist.github.com/am-MongoDB/fd52e83e27d4db27e84be40c5c6c719d.js"></script></p>
<h2>Downloading the Application</h2>
<p>The tools for deploying your application to AWS Elastic Beanstalk integrate with <code>git</code>, which makes it the best way to get the code. Assuming that <code>git</code> is already installed, downloading the code is simple:</p>
<p><script src="https://gist.github.com/am-MongoDB/f20c38dc8fdbb058eec5c828da33b845.js"></script></p>
<p>If you then want to refresh your local repository with the latest version:</p>
<p><script src="https://gist.github.com/am-MongoDB/79171206054c25534005da997a001ebb.js"></script></p>
<p>Alternatively, simply <a href="https://github.com/andrewjamesmorgan/mongopop/archive/master.zip">download the zip file</a>.</p>
<h2>Testing The Application Locally</h2>
<p>Deploying to Elastic Beanstalk is straightforward but there is a delay each time you update and redeploy your application. For that reason, it&#8217;s still useful to be able to test and debug locally.</p>
<p>After downloading the application, installing its dependencies and then running it is trivial (this assumes that you already have Node.js installed):</p>
<p><script src="https://gist.github.com/am-MongoDB/3aa672bbdc0f0db3ce6655a295251e28.js"></script></p>
<p><code>npm_install</code> installs all of the required dependencies (which are described in <code>package.json</code>). <code>npm start</code> starts the application – once it it running browse to <a href="http://localhost:3000/pop"><code>http://localhost:3000/pop</code></a> to try it out.</p>
<h3>Deploying to AWS Elastic Beanstalk</h3>
<p>You can create your Elastic Beanstalk environment and deploy and monitor your application from the <a href="https://console.aws.amazon.com/elasticbeanstalk">AWS console</a>. If you don&#8217;t already have an account then that&#8217;s where you would create it. If you already have an account, and a copy of your Access Key ID and Secret Access Key, then using the <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html">EB CLI</a> provides a more efficient workflow.</p>
<p>The method for installing the EB CLI <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-install.html">varies by platform</a> but if you already have Homebrew installed on OS X then it&#8217;s as simple as:</p>
<p><script src="https://gist.github.com/am-MongoDB/dad9ee324bd60683dc24d1c0b909c565.js"></script></p>
<p><code>eb init</code> sets default values for Elastic Beanstalk applications created with the EB CLI by prompting you with a series of questions:</p>
<p><script src="https://gist.github.com/am-MongoDB/bb7a6f5986844ee3a4d65eb3db534b66.js"></script></p>
<p><code>eb create</code> creates a new environment and deploys the current application to that environment:</p>
<p><script src="https://gist.github.com/am-MongoDB/700457d947aba7a81751bd4c62c6172d.js"></script></p>
<p>Finally, <code>eb open</code> connects to the MongoPop app from your browser.</p>
<p>If you want to make changes to the application then the EB CLI makes it simple to redeploy the new version. As an example, edit the <code>views/pop.jade</code> file to add an extra paragraph after the title:</p>
<p><script src="https://gist.github.com/am-MongoDB/48ddde4054dde848b02924ba2d7ecb0b.js"></script></p>
<p>The EB CLI integrates with <code>git</code> and so update <code>git</code> with the change and then redeploy:</p>
<p><script src="https://gist.github.com/am-MongoDB/48c861d261f4d91a354485b06fc68776.js"></script></p>
<div id="attachment_4210" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4210" src="/wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App-1024x241.png" alt="Personalized Version of MongoPop Deployed to AWS EBS" width="480" height="113" class="size-large wp-image-4210" srcset="/wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App-1024x241.png 1024w, /wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App-300x71.png 300w, /wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App-768x181.png 768w, /wp-content/uploads/2016/09/Personalised_AWS_Elasticbeanstalk_App.png 1952w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4210" class="wp-caption-text">Figure 8: Personalized Version of MongoPop Deployed to AWS EBS</p>
</div>
<p>When you&#8217;re finished with the application, the environment can be deleted with a single command:</p>
<p><script src="https://gist.github.com/am-MongoDB/7771e7c498d3b085b5784d32ecd07ea3.js"></script></p>
<p>Note that this doesn&#8217;t remove the application deployment files that Elastic Beanstalk keeps in AWS S3 storage. To avoid continuing charges, delete those files through the <a href="https://console.aws.amazon.com/s3">AWS console</a> (Figure 9).</p>
<div id="attachment_4211" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4211" src="/wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage-1024x734.png" alt="Remove Deployment Files From AWS S3 Storage" width="480" height="344" class="size-large wp-image-4211" srcset="/wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage-1024x734.png 1024w, /wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage-300x215.png 300w, /wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage-768x551.png 768w, /wp-content/uploads/2016/09/Remove_Files_from_AWS_S3_Storage.png 1436w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4211" class="wp-caption-text">Figure 9: Remove Deployment Files From AWS S3 Storage</p>
</div>
<h1>Code Highlights</h1>
<p>The full code for MongoPop can be found in <a href="https://github.com/andrewjamesmorgan/mongopop">GitHub</a> but this section presents some snippets that are specific to MongoDB and MongoDB Atlas.</p>
<p>Firstly, constructing the final URI to access the database (from <code>views/pop.js</code>):</p>
<p><script src="https://gist.github.com/am-MongoDB/7fbd00a28851dd32f97b644f0460319c.js"></script></p>
<p>Connecting to the database and working with the collection (<code>javascripts/db.js</code>):</p>
<p><script src="https://gist.github.com/am-MongoDB/3bbc2e113c31bb9802a3b073712efec8.js"></script></p>
<p>All of the dependencies (including the MongoDB Node.js driver) are defined in <code>package.json</code>:</p>
<p><script src="https://gist.github.com/am-MongoDB/38887db8319434ec1928288a4cf39146.js"></script></p>
<h1>The IP Address Whitelisting Challenge</h1>
<p>IP address whitelisting is a key MongoDB Atlas security feature, adding an extra layer to prevent 3rd parties from accessing your data. Clients are prevented from accessing the database unless their IP address has been added to the <a href="https://docs.atlas.mongodb.com/setup-cluster-security/#add-ip-addresses-to-the-whitelist">IP whitelist</a> for your MongoDB Atlas group.</p>
<p>VPC Peering for MongoDB Atlas is under development and will be available soon, offering a simple, robust solution. It will allow the whitelisting of an entire AWS Security Group within the VPC containing your application servers.</p>
<p>If you need to deploy a robust, scalable application before VPC peering becomes available, some extra steps may be required.</p>
<p>In our example application, the public IP address of the AWS EC2 instance running MongoPop was added to the MongoDB Atlas whitelist for the group.</p>
<p>That works fine but what happens if that EC2 instance fails and is rescheduled – its IP Address changes and so it would not be able to connect to MongoDB Atlas until it was whitelisted. That scenario can be remedied by assigning an Elastic IP address (which survives rescheduling) to the EC2 instance using the <a href="https://console.aws.amazon.com/ec2">AWS Console</a>.</p>
<p>What if demand for your application grows and Elastic Beanstalk determines that it needs to add an extra EC2 instance? Again, that instance will have an IP Address that hasn&#8217;t yet been added to the MongoDB Atlas whitelist. To cover that scenario (as well as rescheduling), the AWS NAT Gateway service can be used. Figure 10 illustrates a configuration using a NAT Gateway.<br>
</p>
<div id="attachment_4212" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/NAT_Gateway_with_AWS_Elastic_Beanstalk.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4212" src="/wp-content/uploads/2016/09/NAT_Gateway_with_AWS_Elastic_Beanstalk-1024x618.png" alt="Presenting a Single IP Address Using an AWS NAT Gateway" width="480" height="290" class="size-large wp-image-4212" srcset="/wp-content/uploads/2016/09/NAT_Gateway_with_AWS_Elastic_Beanstalk-1024x618.png 1024w, /wp-content/uploads/2016/09/NAT_Gateway_with_AWS_Elastic_Beanstalk-300x181.png 300w, /wp-content/uploads/2016/09/NAT_Gateway_with_AWS_Elastic_Beanstalk-768x463.png 768w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4212" class="wp-caption-text">Figure 10: Presenting a Single IP Address Using an AWS NAT Gateway</p>
</div>
<p>Two subnets are created within the AWS Virtual Private Cloud (VPC):</p>
<ul>
<li>The <strong>public subnet</strong> contains the front-end servers which external clients access via an Elastic IP Address attached to the Internet Gateway (IGW). It also contains the NAT Gateway service.</li>
<li>The <strong>private subnet</strong> contains the back-end servers which will access MongoDB Atlas.</li>
</ul>
<p>Routing tables must be created to route all messages from the private subnet destined for public IP addresses through the NAT Gateway. The NAT Gateway has its own Elastic IP Address which all of the outgoing messages that pass through it appear to originate from – this IP Address must be added to the MongoDB Atlas whitelist.</p>
<p>Messages between the front-end and back-end servers use local IP Addresses and so are routed directly, without passing through the NAT Gateway. Messages from external clients are routed from the IGW to the front-end servers.</p>
<p>Clearly this configuration adds cost and complexity (e.g., the application needs breaking into front and back-end components).</p>
<p>An alternative is to add extra logic to your application so that it automatically adds its IP address to the whitelist using the <a href="https://docs.atlas.mongodb.com/api/">MongoDB Atlas Public API</a>. If taking that approach, then also consider how to remove redundant IP addresses as the whitelist is limited to 20 entries.</p>
<h1>What Next?</h1>
<p>While MongoDB Atlas radically simplifies the operation of MongoDB there are still some decisions to take to ensure the best performance and reliability for your application. The <a href="https://www.mongodb.com/collateral/mongodb-atlas-best-practices">MongoDB Atlas Best Practices white paper</a> provides guidance on best practices for deploying, managing, and optimizing the performance of your database with MongoDB Atlas.</p>
<p>The guide outlines considerations for achieving performance at scale with MongoDB Atlas across a number of key dimensions, including instance size selection, application patterns, schema design and indexing, and disk I/O. While this guide is broad in scope, it is not exhaustive. Following the recommendations in the guide will provide a solid foundation for ensuring optimal application performance.</p>
<p>Learn more about the capabilities of MongoDB Atlas and try it out for yourself <a href="https://www.mongodb.com/cloud">here</a>.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas" data-via="wpbeginner" data-text="Develop &#038; Deploy a Node.js App to AWS Elastic Beanstalk &#038; MongoDB Atlas" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/develop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Fdevelop-deploy-a-node-js-app-to-aws-elastic-beanstalk-mongodb-atlas&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/aws" rel="tag">AWS</a>, <a href="/tag/elastic-beanstalk" rel="tag">Elastic Beanstalk</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/mongodb-atlas" rel="tag">MongoDB Atlas</a>, <a href="/tag/node-js" rel="tag">node.js</a>
</div>

			</div>			<div id="post-4190" class="post-4190 post type-post status-publish format-standard hentry category-mongodb tag-apostrophe tag-express tag-javascript tag-mongodb tag-mongodb-atlas tag-node-js">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mongodb/atlas_apostrophe">September 15, 2016</a>
			</div>
	<div class="postcomments">
		<a href="/mongodb/atlas_apostrophe#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mongodb/atlas_apostrophe" rel="bookmark">MongoDB Atlas as The Data Store for Apostrophe</a></h2>
				
				<div class="entry">
										<p>Apostrophe is a Content Management Systems that&#8217;s designed to build content-driven web sites. Because of their ease of use, Apostrophe is built upon MongoDB and Node.js.</p>
<p>This post explains why MongoDB Atlas is an ideal choice for Apostrophe and then goes on to show how to configure Apostrophe to use it.</p>
<h4>Why MongoDB Atlas is the Ideal Database for Apostrophe</h4>
<p>MongoDB delivers flexible schemas, rich queries, an idiomatic Node.js driver, and simple to use high availability and scaling. This makes it the go-to database for anyone looking to build applications on Node.js.</p>
<p><a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> provides all of the features of MongoDB, without the operational heavy lifting required for any new application. MongoDB Atlas is available on demand through a pay-as-you-go model and billed on an hourly basis, letting you focus on what you do best.</p>
<p>It’s easy to get started – use a simple GUI to select the instance size, region, and features you need. MongoDB Atlas provides:</p>
<ul>
<li>Security features to protect access to your data</li>
<li>Built in replication for always-on availability, tolerating complete data center failure</li>
<li>Backups and point in time recovery to protect against data corruption</li>
<li>Fine-grained monitoring to let you know when to scale. Additional instances can be provisioned with the push of a button</li>
<li>Automated patching and one-click upgrades for new major versions of the database, enabling you to take advantage of the latest and greatest MongoDB features</li>
<li>A choice of cloud providers, regions, and billing options</li>
</ul>
<p>Like Apostrophe, MongoDB Atlas is a natural fit for users looking to simplify their development and operations work, letting them focus on what makes their application unique rather than commodity (albeit essential) plumbing.</p>
<h4>Installing Apostrophe and Setting it up to Use MongoDB Atlas</h4>
<p>Before starting with Apostrophe, you should launch your MongoDB cluster using <a href="https://www.mongodb.com/cloud">MongoDB Atlas</a> and then (optionally) create a user with read and write privileges for just the database that will be used for this project, as shown in Figure 1. You must also add the IP address of your application server to the IP Whitelist in the MongoDB Atlas security tab.</p>
<div id="attachment_4192" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Apostrophe_Create_DB_user.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4192" class="size-large wp-image-4192" src="/wp-content/uploads/2016/09/Apostrophe_Create_DB_user-983x1024.png" alt="Creating an Apostrophe user in MongoDB Atlas" width="480" height="500" srcset="/wp-content/uploads/2016/09/Apostrophe_Create_DB_user-983x1024.png 983w, /wp-content/uploads/2016/09/Apostrophe_Create_DB_user-288x300.png 288w, /wp-content/uploads/2016/09/Apostrophe_Create_DB_user-768x800.png 768w, /wp-content/uploads/2016/09/Apostrophe_Create_DB_user.png 1672w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4192" class="wp-caption-text">Figure 1:Creating an Apostrophe user in MongoDB Atlas</p>
</div>
<p>If it isn&#8217;t already installed on your system, download and install Node.js:</p>
<p><script src="https://gist.github.com/am-MongoDB/3bbb946bb35fd8054e95adf92b96f103.js"></script></p>
<p>You should then add the <code>bin</code> sub-folder to your <code>.bash_profile</code> file and then install ImageMagick (used by Apostrophe to handle image files); clone the Apostrophe Sandbox project; and then install its dependencies:</p>
<p><script src="https://gist.github.com/am-MongoDB/676b16c5fdeaa650a448378c1a0bbdac.js"></script></p>
<p>Before starting Apostrophe you need to configure it with details on how to connect to your specific MongoDB Atlas cluster. This is done by cloning the configuration file to <code>data/local.js</code>:</p>
<p><script src="https://gist.github.com/am-MongoDB/14d6019b0333b351685f3b077a93864d.js"></script></p>
<p>You should then edit the <code>data/local.js</code> file and set the <code>uri</code> parameter using the specific connection information provided for your MongoDB Atlas group:</p>
<p><script src="https://gist.github.com/am-MongoDB/2fdcb8c954ac831e8970543afbf5a1e4.js"></script></p>
<p>The URI contains these components:</p>
<ul>
<li>
<code>apostrophe_user</code> is the name of the user you created in the MongoDB Atlas UI</li>
<li>
<code>my_password</code> is the password you chose when creating the user in MongoDB Atlas</li>
<li>
<code>cluster0-shard-00-00-qfovx.mongodb.net</code>, <code>cluster0-shard-00-01-qfovx.mongodb.net</code>, &amp; <code>cluster0-shard-00-02-qfovx.mongodb.net</code> are the hostnames of the instances in your MongoDB Atlas replica set (click on the &#8220;CONNECT&#8221; button in the MongoDB Atlas UI if you don&#8217;t have these)</li>
<li>
<code>27017</code> is the standard MongoDB port number</li>
<li>
<code>clusterdb</code> is the name of the database (schema) that Apostrophe will use (note that this must match the project name used when installing Apostrophe as well as the database you granted the user access to</li>
<li>To enforce security, MongoDB Atlas mandates that the <code>ssl</code> option is used</li>
<li>
<code>admin</code> is the database that&#8217;s being used to store the credentials for <code>apostrophe_user</code>
</li>
</ul>
<p>Clients connect to Apostrophe through port 3000 and so you must open that port in your firewall.</p>
<p>You can then create the database and start Apostrophe:</p>
<p><script src="https://gist.github.com/am-MongoDB/000e19868892d5865a90a0e339286609.js"></script></p>
<h2>Testing the Application</h2>
<p>Browse to the application at <code>http://address-of-app-server:3000</code> as shown in Figure 2 and then login using the username <code>admin</code> and the password <code>demo</code>.</p>
<div id="attachment_4194" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Apostrophe.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4194" src="/wp-content/uploads/2016/09/Apostrophe-1024x498.png" alt="Apostrophe Running on MongoDB Atlas" width="480" height="233" class="size-large wp-image-4194" srcset="/wp-content/uploads/2016/09/Apostrophe-1024x498.png 1024w, /wp-content/uploads/2016/09/Apostrophe-300x146.png 300w, /wp-content/uploads/2016/09/Apostrophe-768x373.png 768w, /wp-content/uploads/2016/09/Apostrophe.png 1138w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4194" class="wp-caption-text">Figure 2: Apostrophe Running on MongoDB Atlas</p>
</div>
<p>Now, go ahead and add some content (Figure 3).</p>
<div id="attachment_4195" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4195" src="/wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas-1024x668.png" alt="Edit Apostrophe Home Page with Data Stored in MongoDB Atlas" width="480" height="313" class="size-large wp-image-4195" srcset="/wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas-1024x668.png 1024w, /wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas-300x196.png 300w, /wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas-768x501.png 768w, /wp-content/uploads/2016/09/create_Apostrophe_post_on_MongoDB_Atlas.png 1136w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4195" class="wp-caption-text">Figure 3: Edit Apostrophe Home Page with Data Stored in MongoDB Atlas</p>
</div>
<p>Upload some images as shown in Figure 4.</p>
<div id="attachment_4196" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Apostrophe_add_images.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4196" src="/wp-content/uploads/2016/09/Apostrophe_add_images-1024x673.png" alt="Upload Images to Apostrophe on MongoDB Atlas" width="480" height="315" class="size-large wp-image-4196" srcset="/wp-content/uploads/2016/09/Apostrophe_add_images-1024x673.png 1024w, /wp-content/uploads/2016/09/Apostrophe_add_images-300x197.png 300w, /wp-content/uploads/2016/09/Apostrophe_add_images-768x505.png 768w, /wp-content/uploads/2016/09/Apostrophe_add_images.png 1142w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4196" class="wp-caption-text">Figure 4: Upload Images to Apostrophe on MongoDB Atlas</p>
</div>
<p>Optionally, to confirm that, MongoDB Atlas really is being used by Apostrophe, you can connect using the MongoDB shell:</p>
<p><script src="https://gist.github.com/am-MongoDB/6c3f3ff8df99ee12e1b963f6851f9441.js"></script></p>
<p>To visually navigate through the schema and data created by Apostrophe, <a href="https://www.mongodb.com/download-center?jmp=nav#compass">download and install MongoDB Compass</a>. Use your MongoDB Atlas credentials to connect Compass to your MongoDB database – Figure 5.</p>
<div id="attachment_4197" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4197" src="/wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas-1024x839.png" alt="Connect MongoDB Compass to MongoDB Atlas" width="480" height="393" class="size-large wp-image-4197" srcset="/wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas-1024x839.png 1024w, /wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas-300x246.png 300w, /wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas-768x629.png 768w, /wp-content/uploads/2016/09/Connect_Compass_to_MongoDB_Atlas.png 1802w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4197" class="wp-caption-text">Figure 5: Connect MongoDB Compass to MongoDB Atlas</p>
</div>
<p>Navigate through the structure of the data in the <code>clusterdb</code> database (Figure 6) and view the JSON documents (Figure 7).</p>
<div id="attachment_4198" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Compass_Apostrophe_Schema.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4198" src="/wp-content/uploads/2016/09/Compass_Apostrophe_Schema-1024x631.png" alt="Explore Apostrophe Schema Using MongoDB Compass" width="480" height="296" class="size-large wp-image-4198" srcset="/wp-content/uploads/2016/09/Compass_Apostrophe_Schema-1024x631.png 1024w, /wp-content/uploads/2016/09/Compass_Apostrophe_Schema-300x185.png 300w, /wp-content/uploads/2016/09/Compass_Apostrophe_Schema-768x473.png 768w, /wp-content/uploads/2016/09/Compass_Apostrophe_Schema.png 1282w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4198" class="wp-caption-text">Figure 6: Explore Apostrophe Schema Using MongoDB Compass</p>
</div>
<div id="attachment_4199" style="width: 490px" class="wp-caption aligncenter">
<a href="/wp-content/uploads/2016/09/Compass_Apostrophe_Data.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-4199" src="/wp-content/uploads/2016/09/Compass_Apostrophe_Data-1024x630.png" alt="View Apostrophe Documents in MongoDB Compass" width="480" height="295" class="size-large wp-image-4199" srcset="/wp-content/uploads/2016/09/Compass_Apostrophe_Data-1024x630.png 1024w, /wp-content/uploads/2016/09/Compass_Apostrophe_Data-300x185.png 300w, /wp-content/uploads/2016/09/Compass_Apostrophe_Data-768x473.png 768w, /wp-content/uploads/2016/09/Compass_Apostrophe_Data.png 1279w" sizes="auto, (max-width: 480px) 100vw, 480px"></a><p id="caption-attachment-4199" class="wp-caption-text">Figure 7: View Apostrophe Documents in MongoDB Compass</p>
</div>
<h4>What Next?</h4>
<p>While MongoDB Atlas radically simplifies the operation of MongoDB there are still some decisions to take to ensure the best performance and reliability for your application. The <a href="https://www.mongodb.com/collateral/mongodb-atlas-best-practices">MongoDB Atlas Best Practices white paper</a> provides guidance on best practices for deploying, managing, and optimizing the performance of your database with MongoDB Atlas.</p>
<p>The guide outlines considerations for achieving performance at scale with MongoDB Atlas across a number of key dimensions, including instance size selection, application patterns, schema design and indexing, and disk I/O. While this guide is broad in scope, it is not exhaustive. Following the recommendations in the guide will provide a solid foundation for ensuring optimal application performance.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mongodb/atlas_apostrophe" data-via="wpbeginner" data-text="MongoDB Atlas as The Data Store for Apostrophe" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mongodb/atlas_apostrophe"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mongodb/atlas_apostrophe" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmongodb%2Fatlas_apostrophe&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mongodb" rel="category tag">MongoDB</a> | 
Tags: <a href="/tag/apostrophe" rel="tag">apostrophe</a>, <a href="/tag/express" rel="tag">Express</a>, <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mongodb" rel="tag">mongodb</a>, <a href="/tag/mongodb-atlas" rel="tag">MongoDB Atlas</a>, <a href="/tag/node-js" rel="tag">node.js</a>
</div>

			</div>			<div id="post-3963" class="post-3963 post type-post status-publish format-standard hentry category-mysql category-mysql-cluster tag-cluster tag-memcached tag-mysql tag-mysql-cluster tag-node-js tag-nosql tag-secondary tag-sql">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available">October 3, 2014</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available#comments">2 comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available" rel="bookmark">SQL/NoSQL and MySQL Cluster 7.4 Presentations now available</a></h2>
				
				<div class="entry">
										<p>My 2 sessions from 2014&#8217;s MySQL Central at Oracle OpenWorld are now available:</p>
<h2><a href="https://oracleus.activeevents.com/2014/connect/sessionDetail.ww?SESSION_ID=2853" title="NoSQL and SQL: The Best of Both Worlds [CON2853]" target="_blank">NoSQL and SQL: The Best of Both Worlds [CON2853]</a></h2>
<p>There’s a lot of excitement about NoSQL data stores, with the promise of simple access patterns, flexible schemas, scalability, and high availability. The downside comes in the form of losing ACID transactions, consistency, flexible queries, and data integrity checks. What if you could have the best of both worlds? This session shows how MySQL Cluster provides simultaneous SQL and native NoSQL access to your data—whether it’s in a simple key-value API (memcached) or REST, JavaScript, Java, or C++. You will hear how the MySQL Cluster architecture delivers in-memory real-time performance; 99.999 percent availability; online maintenance; and linear, horizontal scalability through transparent autosharding.</p>
<p><iframe loading="lazy" src="//www.slideshare.net/slideshow/embed_code/39848914" width="476" height="400" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
<h2><a href="https://oracleus.activeevents.com/2014/connect/sessionDetail.ww?SESSION_ID=3815" title="MySQL Cluster: Dive into the Latest Developments [CON3815]" target="_blank">MySQL Cluster: Dive into the Latest Developments [CON3815]</a></h2>
<p>Wednesday, Oct 1, 3:30 PM &#8211; 4:15 PM &#8211; Moscone South &#8211; 250</p>
<p>I&#8217;ll be co-presenting this session with <a href="https://oracleus.activeevents.com/2014/connect/speakerDetail.ww?PERSON_ID=90A0D4EEB0B047DE9D2C77FB01BF5D04&#038;tclass=popup" title="Bernd Ocklin - Director MySQL Cluster, Oracle" target="_blank">Bernd Ocklin &#8211; Director MySQL Cluster, Oracle</a></p>
<p>MySQL Cluster does more than scale beyond a billion transactions per minute. It’s also the in-memory database at the heart of mobile phone networks and online games. Scaling for the masses. A touch of your mobile phone’s green button likely has already gotten you in contact with MySQL Cluster. Driven by these extreme use cases, this session covers how to build business-critical scalable solutions with MySQL Cluster.</p>
<p><iframe loading="lazy" src="//www.slideshare.net/slideshow/embed_code/39848913" width="476" height="400" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available" data-via="wpbeginner" data-text="SQL/NoSQL and MySQL Cluster 7.4 Presentations now available" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/sqlnosql-and-mysql-cluster-7-4-presentations-now-available" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fsqlnosql-and-mysql-cluster-7-4-presentations-now-available&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a>, <a href="/category/mysql-cluster" rel="category tag">MySQL Cluster</a> | 
Tags: <a href="/tag/cluster" rel="tag">Cluster</a>, <a href="/tag/memcached" rel="tag">Memcached</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/nosql" rel="tag">NoSQL</a>, <a href="/tag/secondary" rel="tag">secondary</a>, <a href="/tag/sql" rel="tag">sql</a>
</div>

			</div>			<div id="post-2962" class="post-2962 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql-cluster tag-javascript tag-mysql tag-mysql-cluster tag-mysql-cluster-7-3 tag-node-js tag-nosql">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql">September 17, 2013</a>
			</div>
	<div class="postcomments">
		<a href="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql" rel="bookmark">Webinar Replay + Q&#038;A – Developing JavaScript Applications for Node.js with MySQL and NoSQL</a></h2>
				
				<div class="entry">
										<p><a href="/wp-content/uploads/2013/05/Node_Cluster_logo.png"><img loading="lazy" decoding="async" class="alignright size-medium wp-image-2791" alt="MySQL Cluster driver for JavaScript/Node.js" src="/wp-content/uploads/2013/05/Node_Cluster_logo-300x224.png" width="300" height="224"></a>On Thursday 12th September I co-presented a webinar on how MySQL Cluster delivers the key benefits of NoSQL Data Stores without having to give up the features that people rely on from relational databases (consistency, SQL etc.). There was a particular focus on how to use the new node.js JavaScript API which was recently released as part of MySQL Cluster 7.3. If you weren&#8217;t able to attend the live event then the <a href="http://www.mysql.com/news-and-events/on-demand-webinars/#en-20-28" title="Developing JavaScript Applications for Node.js with MySQL and NoSQL Webcast replay" alt="http://www.mysql.com/news-and-events/on-demand-webinars/#en-20-28" target="_blank">webinar replay is available here</a>. If you scroll down to the bottom of this post you&#8217;ll see a summary of the Questions and Answers from the session.</p>
<p>The new MySQL JavaScript Connector for Node.js is designed to deliver simplicity and high performance for JavaScript users.</p>
<p>Enables end-to-end JavaScript development, from the browser to the server and now to the world&#8217;s most popular open source database.</p>
<p>Provides native NoSQL access to the MySQL Cluster storage engine without first going through SQL transformations and parsing</p>
<p>This session gives you everything you need in order to get started on building highly scalable, event-driven Web, mobile, and social applications.</p>
<p>It discusses:</p>
<ul>
<li> Implementation of the connector</li>
<li>Database connection and metadata management</li>
<li>Creating and executing queries</li>
<li>Use with InnoDB (via an internal SQL conversion) and MySQL Cluster (direct)</li>
</ul>
<p>WHO:</p>
<ul>
<li>Andrew Morgan, Principal Product Manager</li>
<li>John Duncan, Senior Software Developer</li>
<li>Craig Russell, Principal Software Developer</li>
</ul>
<h3>Q &amp; A</h3>
<ul>
<li>
<strong>What is the benefit of using an asynchrous run-time model?</strong> The <em>async everywhere</em> idea in Node.JS means the one execution thread is always doing work for a user. Never waiting on I/O. It allows you to minimize the cost of waiting on the network for i/o, and that&#8217;s a big part of how it can handle so many simultaneous requests.</li>
<li>
<strong>Can you please ellaborate more about multi-threading in node.js?</strong> Node.js has a just one thread that runs JavaScript. Then there is also a small thread pool that handles some background i/o tasks.</li>
<li>
<strong>Why can&#8217;t you use a synchrous model? Would there be any drawbacks?</strong> The async programming style can be hard to get used to &#8230; but in JavaScript, async is really &#8220;how things are done&#8221;. Just like browser-side JavaScript responding to a mouse event, this is server-side JS responding to a database event or a network event.</li>
<li>
<strong>Is there also a synchronous Session function?</strong> There is a synchronous version of <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">connect()</span>. There are some &#8220;immediate&#8221; calls on session (which don&#8217;t have to do any waiting), but there are no synchronous calls on session that wait for anything</li>
<li>
<strong>Most applications run as responses to requests and so most of the logic needs to be executed sequentially. How are asynchronous calls handled? Is there any mechanism to wait and join multiple asynch call for a particular section of logic?</strong> If you have multiple database operations to execute, you can use the batch feature which will wait for all operations to complete and then call back. If you have other operations you need to have your own synchronization mechanism.</li>
<li>
<strong>It was mentioned that you can use this APi to access the MySQL Cluster data nodes directly or MyISAM/InnoDB data via SQL and a MySQL server &#8211; how do I configure that?</strong> In the connection properties for your database connection, you use <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">adapter=ndb</span> for a native NDB connection, or <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">adapter=mysql</span> for a MySQL connection.</li>
<li>
<strong>Are results mapped into objects?</strong> Yes. When the inner layer reads a row from the database, it creates a JavaScript object (according to the mapping) and it calls your Constructor with no arguments and with <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">this</span> set to the newly created object.</li>
<li>
<strong>So there is seperate mapping for tables and for results?</strong>    No, a single mapping.</li>
<li>
<strong>Does the object mapping support the entity relationships like in JPA implementations? Can it be referenced with JSON ojects with one-to-one, one-to-many, etc relationships?</strong> The current release does not support relationships/JOINs.</li>
<li>
<strong>JavaScript is weakly typed. How are different data types handled with the same reffrence?</strong> Dynamic typing means that values (objects, exspanssions) have types (i.e. a set of available operations and properties) but not variables, so a variable can, over time, refer to values of different types.</li>
<li>
<strong>Are there sql like transaction through the Node.js NoSQL API?</strong> Yes, the API looks something like this: <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">session.currentTransaction().begin() &#8230; define operations &#8230; session.currentTransaction.commit()</span>
</li>
<li>
<strong>So, we can use session to track any transaction?</strong> Right, a session owns its single transaction. If you don&#8217;t call <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">begin()</span> on the transaction, then your operation will run &#8220;auto-commit&#8221;.</li>
<li>
<strong>Does <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">adapter=mysql</span> option use <a href="https://github.com/felixge/node-mysql">https://github.com/felixge/node-mysql‎ adapter</a> adapter?</strong> Yes.</li>
<li>
<strong>Is this library similar to what mongoose is to mongodb?</strong> I&#8217;m not very familiar with mongoose &#8212; but it is broadly similar to many object-to-database mapping layers.</li>
<li>
<strong>Is there a working &#8220;Hello World&#8221; example showing all of these technologies as a big happy family?</strong> You could start with this&#8230; <a href="/mysql/mysql-cluster-with-node-js/" title="Using JavaScript and Node.js with MySQL Cluster – First steps">Using JavaScript and Node.js with MySQL Cluster – First steps</a>
</li>
<li>
<strong>So, just for clarification, the chief advantage of this is it&#8217;s moving the heavy lifting from the server side (like with PHP) to the client side?</strong> Not quite, node.js is server-side javascript. The main advantage is an asynchronous processing of requests that never block. In contrast, a large number of server-threads need to be provided with requests that can block.</li>
<li>
<strong>Node.js runs on V8 which developed by google, its run fast any browser or only in Chrome?</strong> Node.js actually runs in the app server rather than in your browser and so it will play nicely when accessed via any browser (or other client)</li>
</ul>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql" data-via="wpbeginner" data-text="Webinar Replay + Q&#038;A – Developing JavaScript Applications for Node.js with MySQL and NoSQL" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql-cluster%2Fwebinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql-cluster" rel="category tag">MySQL Cluster</a> | 
Tags: <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/mysql-cluster-7-3" rel="tag">MySQL Cluster 7.3</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/nosql" rel="tag">NoSQL</a>
</div>

			</div>			<div id="post-2946" class="post-2946 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql-cluster tag-javascript tag-mysql tag-mysql-cluster tag-mysql-cluster-7-3 tag-node-js tag-nosql">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql">September 4, 2013</a>
			</div>
	<div class="postcomments">
		<a href="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql#comments">2 comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql" rel="bookmark">Webinar &#8211; Developing JavaScript Applications for Node.js with MySQL and NoSQL</a></h2>
				
				<div class="entry">
										<p><strong>Note that the <a href="/mysql-cluster/webinar-replay-qa-developing-javascript-applications-for-node-js-with-mysql-and-nosql/" title="Webinar replay for using JavaScript/Node.js with MySQL Cluster">webinar replay + transcript of the Questions and Answers is now available from here</a></strong>.</p>
<p><a href="/wp-content/uploads/2013/05/Node_Cluster_logo.png"><img loading="lazy" decoding="async" class="alignright size-medium wp-image-2791" alt="MySQL Cluster driver for JavaScript/Node.js" src="/wp-content/uploads/2013/05/Node_Cluster_logo-300x224.png" width="300" height="224"></a>On Thursday 12th September I&#8217;ll be co-presenting a free webinar on how MySQL Cluster delivers the key benefits of NoSQL Data Stores without having to give up the features that people rely on from relational databases (consistency, SQL etc.). There will be particular focus on how to use the new node.js JavaScript API which was recently released as part of MySQL Cluster 7.3.  As usual the webinar is free but you should <a title="Developing JavaScript Applications for Node.js with MySQL and NoSQL - register for the webinar" href="http://www.mysql.com/news-and-events/web-seminars/developing-javascript-applications-for-node-js-with-mysql-and-nosql/" target="_blank">register in advance here</a>.</p>
<p>The new MySQL JavaScript Connector for Node.js is designed to deliver simplicity and high performance for JavaScript users.</p>
<p>Enables end-to-end JavaScript development, from the browser to the server and now to the world&#8217;s most popular open source database.</p>
<p>Provides native NoSQL access to the MySQL Cluster storage engine without first going through SQL transformations and parsing</p>
<p>This session gives you everything you need in order to get started on building highly scalable, event-driven Web, mobile, and social applications.</p>
<p>It discusses:</p>
<ul>
<li> Implementation of the connector</li>
<li>Database connection and metadata management</li>
<li>Creating and executing queries</li>
<li>Use with InnoDB (via an internal SQL conversion) and MySQL Cluster (direct)</li>
</ul>
<p>WHO:</p>
<ul>
<li>Andrew Morgan, Principal Product Manager</li>
<li>John Duncan, Senior Software Developer</li>
<li>Craig Russell, Principal Software Developer</li>
</ul>
<p>WHEN:</p>
<ul>
<li>Thu, Sep 12: 09:00 Pacific time (America)</li>
<li>Thu, Sep 12: 10:00 Mountain time (America)</li>
<li>Thu, Sep 12: 11:00 Central time (America)</li>
<li>Thu, Sep 12: 12:00 Eastern time (America)</li>
<li>Thu, Sep 12: 16:00 UTC</li>
<li>Thu, Sep 12: 17:00 Western European time</li>
<li>Thu, Sep 12: 18:00 Central European time</li>
<li>Thu, Sep 12: 19:00 Eastern European time</li>
<li>Thu, Sep 12: 21:30 India, Sri Lanka</li>
<li>Fri, Sep 13: 00:00 Singapore/Malaysia/Philippines time</li>
<li>Fri, Sep 13: 00:00 China time</li>
<li>Fri, Sep 13: 01:00 日本</li>
<li>Fri, Sep 13: 02:00 NSW, ACT, Victoria, Tasmania (Australia)</li>
</ul>
<p>&nbsp;</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql" data-via="wpbeginner" data-text="Webinar &#8211; Developing JavaScript Applications for Node.js with MySQL and NoSQL" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql-cluster/webinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql-cluster%2Fwebinar-developing-javascript-applications-for-node-js-with-mysql-and-nosql&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql-cluster" rel="category tag">MySQL Cluster</a> | 
Tags: <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mysql" rel="tag">MySQL</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/mysql-cluster-7-3" rel="tag">MySQL Cluster 7.3</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/nosql" rel="tag">NoSQL</a>
</div>

			</div>			<div id="post-2751" class="post-2751 post type-post status-publish format-standard has-post-thumbnail hentry category-mysql category-mysql-cluster tag-javascript tag-mysql-cluster tag-mysql-cluster-7-3 tag-node-js tag-nosql">
				
				<div class="postmeta">	<div class="postmeta_links">
		<a href="/author/andrew" title="Posts by andrew" rel="author">andrew</a> |
		<a href="/mysql/mysql-cluster-with-node-js">June 18, 2013</a>
			</div>
	<div class="postcomments">
		<a href="/mysql/mysql-cluster-with-node-js#respond">No comments</a>	</div>
	<div class="clear"></div>
</div>

				<h2 class="post-title"><a href="/mysql/mysql-cluster-with-node-js" rel="bookmark">Using JavaScript and Node.js with MySQL Cluster &#8211; First steps</a></h2>
				
				<div class="entry">
										<p><a href="/wp-content/uploads/2013/05/Node_Cluster_logo.png"><img loading="lazy" decoding="async" src="/wp-content/uploads/2013/05/Node_Cluster_logo-300x224.png" alt="MySQL Cluster driver for JavaScript/Node.js" width="300" height="224" class="alignright size-medium wp-image-2791"></a></p>
<p>We&#8217;re very pleased to announce that MySQL Cluster 7.3 has gone GA; for a full run-down of the new features and enhancements, take a look at the <a href="http://www.mysql.com/why-mysql/white-papers/mysql-cluster-7-2-new-features-whitepaper/">&quot;MySQL Cluster 7.3 New Features for Internet-Scale Performance with Carrier-Grade Availability&quot; white paper</a> but this post will focus on just one of the features &#8211; the MySQL Cluster JavaScript Driver for Node.js. The post will step you through setting <strong>everything</strong> up so that you can get your first Node.js code reading and writing from MySQL Cluster.</p>
<h3>Background</h3>
<p><strong>MySQL Cluster</strong> is a distributed, shared nothing database that provides linear scalability, 99.999% availability and high read/write throughput with low latency. SQL is just one way of accessing data stored in MySQL Cluster &#8211; there are also a number of native NoSQL APIs that go straight to the data without any interim conversion to SQL. These APIs include C++, Memcached, Java, JPA and REST &#8211; in MySQL Cluster 7.3 JavaScript/Node.js is added to the list.</p>
<p><a href="http://nodejs.org/"><strong>Node.js</strong></a> (typically referred to simply as &quot;Node&quot;) is a platform for running fast, scalable applications using JavaScript. For maximum performance, Node.js is built around a non-blocking, event-driven architecture &#8211; just like MySQL Cluster and so they fit together very well.</p>
<p>The MySQL Cluster JavaScript Driver for Node.js is just what it sounds like it is &#8211; it&#8217;s a connector that can be called directly from your JavaScript code to read and write your data. As it accesses the data nodes directly, there is no extra latency from passing through a MySQL Server and need to convert from JavaScript code//objects into SQL operations. If for some reason, you&#8217;d prefer it to pass through a MySQL Server (for example if you&#8217;re storing tables in InnoDB) then that can be configured.</p>
<p>As with all of the other APIs that we offer, you&#8217;re able to mix &amp; match access methods; while you access the database using JavaScript objects, these will be mapped to rows in database tables and this same data can simultaneously be accessed by other NoSQL API or through SQL.</p>
<div id="attachment_2734" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2013/04/Capture6.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2734" src="/wp-content/uploads/2013/04/Capture6-300x243.png" alt="MySQL Cluster Auto-Installer" width="300" height="243" class="size-medium wp-image-2734"></a><p id="caption-attachment-2734" class="wp-caption-text">MySQL Cluster Auto-Installer</p>
</div>
<h3>Installing MySQL Cluster</h3>
<p>Obviously, to try out our JavaScript code we&#8217;ll need a database to access. The simplest way to do this is to use the new auto-installer that&#8217;s part of MySQL Cluster 7.3; this provides a browser-based GUI that configures and runs a MySQL Cluster database that&#8217;s been configured for your application and environment. Using this installer is described in the <a href="/mysql-cluster/mysql-cluster-7-3-auto-installer">&quot;MySQL Cluster Auto-Installer&quot; post</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>Setting up the Database</h3>
<div id="attachment_2304" style="width: 310px" class="wp-caption alignright">
<a href="/wp-content/uploads/2012/05/FK_Relationship.png"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-2304" src="/wp-content/uploads/2012/05/FK_Relationship-300x103.png" alt="Foreign Key constraints between tables" width="300" height="103" class="size-medium wp-image-2304"></a><p id="caption-attachment-2304" class="wp-caption-text">Tables with Foreign Key constraint</p>
</div>
<p>A simple database schema is being used &#8211; a single table would really be enough but we&#8217;ll actually create two in order to demonstrate that Foreign Key constraints (<a href="/mysql-cluster/foreign-keys-in-mysql-cluster/">Foreign Keys are another new feature in MySQL Cluster 7,3</a>) are still enforced when using the NoSQL APIs.</p>
<p>These two tables are set up as follows:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob]$ mysql --protocol=tcp -u root
Welcome to the MySQL monitor.  Commands end with ; or g.
Your MySQL connection id is 2
Server version: 5.6.10-ndb-7.3.1-cluster-gpl MySQL Cluster Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.

mysql> CREATE TABLE test.counties (county VARCHAR(30) NOT NULL PRIMARY KEY,
country VARCHAR(30)) ENGINE=ndb;
Query OK, 0 rows affected (1.17 sec)

mysql> CREATE TABLE test.towns (town VARCHAR(30) NOT NULL PRIMARY KEY, county VARCHAR(30),
INDEX county_county_index (county), CONSTRAINT county_town FOREIGN KEY (county) REFERENCES counties(county) 
ON DELETE RESTRICT ON UPDATE RESTRICT) ENGINE=ndb;
Query OK, 0 rows affected (1.00 sec)
</pre>
<h3>Installing Node.js</h3>
<p>Node.js can be downloaded from <a href="http://nodejs.org/">Node.js.org</a>.</p>
<p>
If you&#8217;re using Windows then the MSI will guide you through the process &#8211; though when you&#8217;ve finished you&#8217;ll need to manually run the following from the cmd prompt:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
npm install -g node-gyp
</pre>
<p>On Linux, you&#8217;ll need to manually build and install Node.js after you&#8217;ve downloaded it:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[root@bob node-v0.10.7]# ./configure
[root@bob node-v0.10.7]# make
[root@bob node-v0.10.7]# make install
</pre>
<h3>Building mysql-js (the JavaScript driver for MySQL Cluster)</h3>
<p>Regardless of what operating system is being used, the driver must be built before it can be used. Furthermore, to build the driver you need to have a local MySQL Cluster package (so that it can access the NDB API client library).</p>
<p>Depending on the exact Linux distro and version being used, some dependencies may need to be installed first:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[root@bob]$ yum install gcc
[root@bob]$ yum install gcc-c++
[root@bob]$ npm install mysql
[root@bob]$ npm install -g node-gyp
</pre>
<p>Once that has been done, the driver can be built &#8211; the following should be run from within the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">share/nodejs</span> directory within the MySQL Cluster package:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob nodejs]$ node configure.js 
[billy@bob nodejs]$ node-gyp configure build -d
</pre>
<h3>Example Code</h3>
<p>To begin with, the complete code is provided and then each component is explained.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var nosql = require('..'); 

var Town = function(name, county) {
    if (name) this.town = name;
    if (county) this.county = county;
};

// create basic object<->table mapping
var annotations = new nosql.TableMapping('towns').applyToClass(Town);

//check results of find
var onFind = function(err, result) {
    console.log('onFind.');
    if (err) {
        console.log(err);
    } else {
        console.log('Found: ' + JSON.stringify(result));
    }
    process.exit(0);
};

//check results of insert
var onInsert = function(err, object, session) {
    console.log('onInsert.');
    if (err) {
        console.log(err);
    } else {
        console.log('Inserted: ' + JSON.stringify(object));

        // Now read the data back out from the database
        session.find(Town, 'Maidenhead', onFind);
    }
};

// insert an object
var onSession = function(err, session) {
    console.log('onSession.');
    if (err) {
    console.log('Error onSession.');
        console.log(err);
        process.exit(0);
    } else {
        var data = new Town('Maidenhead', 'Berkshire');
        session.persist(data, onInsert, data, session);
    }
};

var dbProperties = nosql.ConnectionProperties('ndb');

console.log('Openning session');

// connect to the database
nosql.openSession(dbProperties, Town, onSession);

console.log('Openned session');
</pre>
<p><strong>Step 1</strong> Import API software</p>
<p>The first step is for your JavaScript application to specify that it will use the new API (mysql-js); this will work if this file is stored in a directory under <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">cluster-install/share/nodejs</span>:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var nosql = require('mysql-js');
</pre>
<p><strong>Step 2</strong> Define JavaScript class</p>
<p>A class should be defined that will be used by the application and will also be mapped to the towns table that has already been created. The class is defined through the specification of its constructor:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var Town = function(name, county) {
    if (name) this.town = name;
    if (county) this.county = county;
};
</pre>
<p><strong>Step 3</strong> Define schema mappings</p>
<p>MySQL Cluster is a relational database while JavaScript works with objects. To get the best of both worlds, mappings can be set up between MySQL tables (or individual columns) and JavaScript objects – in this case it’s kept very simple and the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> class is mapped to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">towns</span> table:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var annotations = new nosql.TableMapping('towns').applyToClass(Town);
</pre>
<p>Note that you can also define mappings at a finer level &#8211; <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs-api-tablemapping.html">only mapping to specific columns within a table and allowing the class members to have different names to the table columns</a>.</p>
<p><strong>Step 4</strong> Connect to the database</p>
<p>In this step, the application connects to the database to indicate that it wants to access the data nodes directly rather than via the MySQL Server (and hidden conversion to SQL),  the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">ConnectionProperties</span> is set to <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">ndb</span> (rather than <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">mysql</span>). Additionally, a callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) is passed as an argument. Recall that this is an event-driven, non-blocking, asynchronous API and so after calling <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">openSession</span>, control will be immediately returned to the application – without waiting for the session to actually be established – the application can then go away and perform other useful work. Once the session has been created, the callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) will be invoked, allowing the application to take the next steps.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var dbProperties = nosql.ConnectionProperties('ndb');
nosql.openSession(dbProperties, annotations, onSession);
</pre>
<p><strong>Step 5</strong> Store some data</p>
<p>Note that the code in this step is the implementation of the call back function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onSession</span>) that we passed in as a parameter to <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">openSession</span> in the previous step. This function simply instantiates a Town JavaScript object and then writes it to MySQL Cluster through the persist method. Once more, a callback function is passed in (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span>) which will be invoked once the data has been stored in the database. Note that any objects specified after the callback function in the parameter list (in this case, the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> object data) will be provided as parameters to the callback function when it’s executed – note that the session parameter is also included and the framework will pass that as a parameter to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span> callback function.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onSession = function(err, session) {
    if (err) {...} else {
        var data = new Town('Maidenhead', 'Berkshire');
        session.persist(data, onInsert, data, session);
    }
};
</pre>
<p><strong>Step 6</strong> Verify insert succeeded &amp; initiate reading of data from the database</p>
<p>Next, our callback function (<span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onInsert</span>) is called and the object parameter contains the Town that had been passed into the persist method in the previous step, together with the session variable. This function simply checks that there wasn’t an error and then displays the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> that has been stored in the database. Again, a callback function is provided – <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onFind</span> – that will be called once the data has been found.</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onInsert = function(err, object, session) {
    if (err) { ... } else {
        console.log('Inserted: ' + JSON.stringify(object));
        session.find(Town, 'Maidenhead', onFind);
    }
};
</pre>
<p><strong>Step 7</strong> Process the data read back from the database</p>
<p>Finally, <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">onFind</span> is called-back and it handles the processing of the results (whether it is an error or the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">Town</span> object in the form of the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">result</span> parameter).</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
var onFind = function(err, result) {
    console.log('onFind.');
    if (err) { ... } else {
        console.log('Found: ' + JSON.stringify(result));
    }
    process.exit(0);
};
</pre>
<p>The <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html">on-line documentation</a> for mysql-js describes the API in full and includes some further examples.</p>
<h3>Running the application</h3>
<p>Before running the application, the location of the NDB API client library must be provided (this is with the MySQL Cluster package):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ export LD_LIBRARY_PATH=/home/billy/cluster_7_3/lib
</pre>
<p>The example code should be stored in a file called <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">my-test.js</span> in a directory under <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">cluster-install/share/nodejs/my_samples</span>. To run the application, just run the following (spoiler &#8211; there will be a database error!):</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ node my-test.js 
Openning session
Openned session
Connected to cluster as node id: 50
onSession.
onInsert.
{ message: 'Error',
  sqlstate: '23000',
  ndb_error: null,
  cause: 
   { message: 'Foreign key constraint violated: No parent row found [255]',
     sqlstate: '23000',
     ndb_error: 
      { message: 'Foreign key constraint violated: No parent row found',
        handler_error_code: 151,
        code: 255,
        classification: 'ConstraintViolation',
        status: 'PermanentError' },
     cause: null } }
</pre>
<p>This error is seen because the code is attempting to add an object/row to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">towns</span> table where the county doesn&#8217;t already have an entry in the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">counties</span> table &#8211; this breaks the Foreign Key constraint that was included when the tables were created.</p>
<p>To get around this, the required row should be added to the <span style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; color: #000080;">counties</span> table:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@bob my_samples]$ mysql --protocol=tcp -u root
Welcome to the MySQL monitor.  Commands end with ; or g.
Your MySQL connection id is 3
Server version: 5.6.10-ndb-7.3.1-cluster-gpl MySQL Cluster Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or 'h' for help. Type 'c' to clear the current input statement.

mysql> REPLACE INTO test.counties VALUES ('Berkshire', 'England');
Query OK, 1 row affected (0.25 sec)
</pre>
<p>The code can then be executed again &#8211; this time successfully:</p>
<pre style="font: normal normal normal 12px/18px Consolas, Monaco, 'Courier New', Courier, monospace; padding-left: 30px; color: #000080;">
[billy@drbd1 my_samples]$ node my-test.js 
Openning session
Openned session
Connected to cluster as node id: 50
onSession.
onInsert.
Inserted: {"town":"Maidenhead","county":"Berkshire"}
onFind.
Found: {"county":"Berkshire","town":"Maidenhead"}
</pre>
<h3>What next?</h3>
<p>Please give this a try &#8211; especially with your own code &#8211; and let us know how you get on. We&#8217;re especially interested in what features you&#8217;d like to see added &#8211; embedded objects, lists, joins&#8230;.</p>
					<div class="clear"></div>
									</div>
		<br>
		<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
   		<a href="http://twitter.com/share" class="twitter-share-button" data-url="/mysql/mysql-cluster-with-node-js" data-via="wpbeginner" data-text="Using JavaScript and Node.js with MySQL Cluster &#8211; First steps" data-related="syedbalkhi:Founder of WPBeginner" data-count="horizontal">Tweet</a>
		<br>
		<!-- <g:plusone size="medium" href="/mysql/mysql-cluster-with-node-js"></g:plusone> -->
		<div class="g-plusone" data-annotation="inline" data-width="300"></div>
		<!-- Place this tag after the last +1 button tag. -->
		<script type="text/javascript">(function() {
    				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    				po.src = 'https://apis.google.com/js/plusone.js';
    				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  			})();</script>
		<br>
		<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="/mysql/mysql-cluster-with-node-js" data-counter="right"></script>
		<br>
		<iframe src="http://www.facebook.com/plugins/like.php?href=%2Fmysql%2Fmysql-cluster-with-node-js&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px; height:60px;">
		</iframe>

<!-- ZXZX -->
				<div class="postinfo">Category: <a href="/category/mysql" rel="category tag">MySQL</a>, <a href="/category/mysql-cluster" rel="category tag">MySQL Cluster</a> | 
Tags: <a href="/tag/javascript" rel="tag">javascript</a>, <a href="/tag/mysql-cluster" rel="tag">MySQL Cluster</a>, <a href="/tag/mysql-cluster-7-3" rel="tag">MySQL Cluster 7.3</a>, <a href="/tag/node-js" rel="tag">node.js</a>, <a href="/tag/nosql" rel="tag">NoSQL</a>
</div>

			</div>      
							<div class="more_posts">
					<span class="post_links"> &nbsp; </span>
				</div>
						

					
	</div>
		
		
<div id="sidebar">
	<ul>

<li id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></li>

		<li id="recent-posts-2" class="widget widget_recent_entries">
		<h2 class="widgettitle">Recent Posts</h2>

		<ul>
											<li>
					<a href="/mongodb/building-a-collaborative-ios-minesweeper-game-with-realm">Building a collaborative iOS Minesweeper game with Realm</a>
									</li>
											<li>
					<a href="/mongodb/using-realm-flexible-sync-in-your-app-an-ios-tutorial">Using Realm Flexible Sync in Your App—an iOS Tutorial</a>
									</li>
											<li>
					<a href="/mongodb/realm-swift-type-projections">Realm-Swift Type Projections</a>
									</li>
											<li>
					<a href="/mongodb/introducing-flexible-sync-preview-the-next-iteration-of-realm-sync">Introducing Flexible Sync (Preview) – The Next Iteration of Realm Sync</a>
									</li>
											<li>
					<a href="/mongodb/goodbye-nspredicate-hello-realm-swift-query-api">Goodbye NSPredicate, hello Realm Swift Query API</a>
									</li>
					</ul>

		</li>
<li id="text-2" class="widget widget_text">			<div class="textwidget">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5257306915232759";
/* Clusterdb-home */
google_ad_slot = "1624229680";
google_ad_width = 200;
google_ad_height =600;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
		</li>
<li id="recent-comments-2" class="widget widget_recent_comments">
<h2 class="widgettitle">Recent Comments</h2>
<ul id="recentcomments">
<li class="recentcomments">
<span class="comment-author-link"><a href="http://mikael.ronstrom@blogspot.com/" class="url" rel="ugc external nofollow">Mikael Ronström</a></span> on <a href="/mysql-cluster/mysql-cluster-running-on-raspberry-pi#comment-787242">MySQL Cluster running on Raspberry Pi</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">andrew</span> on <a href="/mysql-cluster/setting-up-mysql-asynchronous-replication-for-high-availability#comment-668717">Setting up MySQL Asynchronous Replication for High Availability</a>
</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="http://www.suksesonline.com/" class="url" rel="ugc external nofollow">Betty</a></span> on <a href="/mysql-cluster/setting-up-mysql-asynchronous-replication-for-high-availability#comment-668713">Setting up MySQL Asynchronous Replication for High Availability</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">Sai Krishnan</span> on <a href="/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes#comment-661143">Get MySQL Replication up and running in 5 minutes</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">Nayan</span> on <a href="/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes#comment-660628">Get MySQL Replication up and running in 5 minutes</a>
</li>
</ul>
</li>
<li id="categories-2" class="widget widget_categories">
<h2 class="widgettitle">Categories</h2>

			<ul>
					<li class="cat-item cat-item-2">
<a href="/category/me">Me</a>
</li>
	<li class="cat-item cat-item-146">
<a href="/category/mongodb">MongoDB</a>
</li>
	<li class="cat-item cat-item-3">
<a href="/category/mysql">MySQL</a>
</li>
	<li class="cat-item cat-item-4">
<a href="/category/mysql-cluster">MySQL Cluster</a>
</li>
	<li class="cat-item cat-item-131">
<a href="/category/mysql-fabric">MySQL Fabric</a>
</li>
	<li class="cat-item cat-item-5">
<a href="/category/mysql-replication">MySQL Replication</a>
</li>
	<li class="cat-item cat-item-214">
<a href="/category/mongodb/realm">Realm</a>
</li>
	<li class="cat-item cat-item-1">
<a href="/category/uncategorized">Uncategorized</a>
</li>
			</ul>

			</li>
<li id="tag_cloud-2" class="widget widget_tag_cloud">
<h2 class="widgettitle">Tags</h2>
<div class="tagcloud">
<a href="/tag/7-4" class="tag-cloud-link tag-link-137 tag-link-position-1" style="font-size: 9.0632911392405pt;" aria-label="7.4 (7 items)">7.4</a>
<a href="/tag/apache-kafka" class="tag-cloud-link tag-link-169 tag-link-position-2" style="font-size: 8.620253164557pt;" aria-label="Apache Kafka (6 items)">Apache Kafka</a>
<a href="/tag/cluster" class="tag-cloud-link tag-link-18 tag-link-position-3" style="font-size: 8.620253164557pt;" aria-label="Cluster (6 items)">Cluster</a>
<a href="/tag/ha" class="tag-cloud-link tag-link-41 tag-link-position-4" style="font-size: 15.354430379747pt;" aria-label="HA (40 items)">HA</a>
<a href="/tag/high-availability" class="tag-cloud-link tag-link-43 tag-link-position-5" style="font-size: 15.26582278481pt;" aria-label="High Availability (39 items)">High Availability</a>
<a href="/tag/ios" class="tag-cloud-link tag-link-215 tag-link-position-6" style="font-size: 10.658227848101pt;" aria-label="ios (11 items)">ios</a>
<a href="/tag/java" class="tag-cloud-link tag-link-47 tag-link-position-7" style="font-size: 8.620253164557pt;" aria-label="Java (6 items)">Java</a>
<a href="/tag/javascript" class="tag-cloud-link tag-link-48 tag-link-position-8" style="font-size: 10.303797468354pt;" aria-label="javascript (10 items)">javascript</a>
<a href="/tag/mcm" class="tag-cloud-link tag-link-56 tag-link-position-9" style="font-size: 8pt;" aria-label="MCM (5 items)">MCM</a>
<a href="/tag/mean" class="tag-cloud-link tag-link-186 tag-link-position-10" style="font-size: 8pt;" aria-label="MEAN (5 items)">MEAN</a>
<a href="/tag/memcached" class="tag-cloud-link tag-link-57 tag-link-position-11" style="font-size: 8pt;" aria-label="Memcached (5 items)">Memcached</a>
<a href="/tag/mobile" class="tag-cloud-link tag-link-211 tag-link-position-12" style="font-size: 8pt;" aria-label="mobile (5 items)">mobile</a>
<a href="/tag/mongodb" class="tag-cloud-link tag-link-150 tag-link-position-13" style="font-size: 16.417721518987pt;" aria-label="mongodb (53 items)">mongodb</a>
<a href="/tag/mongodb-3-2" class="tag-cloud-link tag-link-153 tag-link-position-14" style="font-size: 8pt;" aria-label="MongoDB 3.2 (5 items)">MongoDB 3.2</a>
<a href="/tag/mongodb-atlas" class="tag-cloud-link tag-link-163 tag-link-position-15" style="font-size: 9.0632911392405pt;" aria-label="MongoDB Atlas (7 items)">MongoDB Atlas</a>
<a href="/tag/mongodb-mobile" class="tag-cloud-link tag-link-212 tag-link-position-16" style="font-size: 8pt;" aria-label="MongoDB Mobile (5 items)">MongoDB Mobile</a>
<a href="/tag/mongodb-stitch" class="tag-cloud-link tag-link-204 tag-link-position-17" style="font-size: 12.253164556962pt;" aria-label="MongoDB Stitch (17 items)">MongoDB Stitch</a>
<a href="/tag/mysql" class="tag-cloud-link tag-link-147 tag-link-position-18" style="font-size: 22pt;" aria-label="MySQL (229 items)">MySQL</a>
<a href="/tag/mysql-5-6" class="tag-cloud-link tag-link-64 tag-link-position-19" style="font-size: 10.924050632911pt;" aria-label="MySQL 5.6 (12 items)">MySQL 5.6</a>
<a href="/tag/mysql-cluster" class="tag-cloud-link tag-link-148 tag-link-position-20" style="font-size: 21.46835443038pt;" aria-label="MySQL Cluster (198 items)">MySQL Cluster</a>
<a href="/tag/mysql-cluster-70" class="tag-cloud-link tag-link-69 tag-link-position-21" style="font-size: 13.936708860759pt;" aria-label="MySQL Cluster 7.0 (27 items)">MySQL Cluster 7.0</a>
<a href="/tag/mysql-cluster-7-1" class="tag-cloud-link tag-link-70 tag-link-position-22" style="font-size: 15.177215189873pt;" aria-label="MySQL Cluster 7.1 (38 items)">MySQL Cluster 7.1</a>
<a href="/tag/mysql-cluster-7-2" class="tag-cloud-link tag-link-71 tag-link-position-23" style="font-size: 14.556962025316pt;" aria-label="MySQL Cluster 7.2 (32 items)">MySQL Cluster 7.2</a>
<a href="/tag/mysql-cluster-7-3" class="tag-cloud-link tag-link-72 tag-link-position-24" style="font-size: 12.253164556962pt;" aria-label="MySQL Cluster 7.3 (17 items)">MySQL Cluster 7.3</a>
<a href="/tag/mysql-cluster-7-4" class="tag-cloud-link tag-link-134 tag-link-position-25" style="font-size: 11.278481012658pt;" aria-label="MySQL Cluster 7.4 (13 items)">MySQL Cluster 7.4</a>
<a href="/tag/mysql-cluster-cge" class="tag-cloud-link tag-link-73 tag-link-position-26" style="font-size: 17.569620253165pt;" aria-label="MySQL Cluster CGE (72 items)">MySQL Cluster CGE</a>
<a href="/tag/mysql-cluster-manager" class="tag-cloud-link tag-link-74 tag-link-position-27" style="font-size: 12.607594936709pt;" aria-label="MySQL Cluster Manager (19 items)">MySQL Cluster Manager</a>
<a href="/tag/mysql-enterprise-monitor" class="tag-cloud-link tag-link-76 tag-link-position-28" style="font-size: 9.0632911392405pt;" aria-label="MySQL Enterprise Monitor (7 items)">MySQL Enterprise Monitor</a>
<a href="/tag/mysql-fabric-2" class="tag-cloud-link tag-link-132 tag-link-position-29" style="font-size: 9.0632911392405pt;" aria-label="mysql fabric (7 items)">mysql fabric</a>
<a href="/tag/mysql-replication" class="tag-cloud-link tag-link-149 tag-link-position-30" style="font-size: 15.354430379747pt;" aria-label="MySQL Replication (40 items)">MySQL Replication</a>
<a href="/tag/mysql-utilities" class="tag-cloud-link tag-link-78 tag-link-position-31" style="font-size: 8pt;" aria-label="MySQL Utilities (5 items)">MySQL Utilities</a>
<a href="/tag/ndb-api" class="tag-cloud-link tag-link-80 tag-link-position-32" style="font-size: 10.303797468354pt;" aria-label="NDB API (10 items)">NDB API</a>
<a href="/tag/node-js" class="tag-cloud-link tag-link-83 tag-link-position-33" style="font-size: 10.303797468354pt;" aria-label="node.js (10 items)">node.js</a>
<a href="/tag/nosql" class="tag-cloud-link tag-link-84 tag-link-position-34" style="font-size: 12.784810126582pt;" aria-label="NoSQL (20 items)">NoSQL</a>
<a href="/tag/performance" class="tag-cloud-link tag-link-97 tag-link-position-35" style="font-size: 9.9493670886076pt;" aria-label="Performance (9 items)">Performance</a>
<a href="/tag/realm" class="tag-cloud-link tag-link-213 tag-link-position-36" style="font-size: 11.721518987342pt;" aria-label="Realm (15 items)">Realm</a>
<a href="/tag/replication" class="tag-cloud-link tag-link-104 tag-link-position-37" style="font-size: 10.924050632911pt;" aria-label="Replication (12 items)">Replication</a>
<a href="/tag/secondary" class="tag-cloud-link tag-link-138 tag-link-position-38" style="font-size: 11.278481012658pt;" aria-label="secondary (13 items)">secondary</a>
<a href="/tag/serverless" class="tag-cloud-link tag-link-208 tag-link-position-39" style="font-size: 8.620253164557pt;" aria-label="serverless (6 items)">serverless</a>
<a href="/tag/sharding" class="tag-cloud-link tag-link-129 tag-link-position-40" style="font-size: 8pt;" aria-label="sharding (5 items)">sharding</a>
<a href="/tag/swift" class="tag-cloud-link tag-link-216 tag-link-position-41" style="font-size: 10.303797468354pt;" aria-label="Swift (10 items)">Swift</a>
<a href="/tag/swiftui" class="tag-cloud-link tag-link-217 tag-link-position-42" style="font-size: 10.303797468354pt;" aria-label="SwiftUI (10 items)">SwiftUI</a>
<a href="/tag/webcast" class="tag-cloud-link tag-link-124 tag-link-position-43" style="font-size: 8pt;" aria-label="Webcast (5 items)">Webcast</a>
<a href="/tag/webinar" class="tag-cloud-link tag-link-125 tag-link-position-44" style="font-size: 12.430379746835pt;" aria-label="webinar (18 items)">webinar</a>
<a href="/tag/windows" class="tag-cloud-link tag-link-127 tag-link-position-45" style="font-size: 9.0632911392405pt;" aria-label="Windows (7 items)">Windows</a>
</div>
</li>
<li id="theme_socialmedia-2" class="widget theme_socialmedia">			<div class="widget-social-icons">
				
			<a href="http://twitter.com/andrewmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/twitter.png" alt="twitter"></a><a href="http://www.facebook.com/andrewjamesmorgan"><img src="/wp-content/themes/zeesynergie/images/icons/facebook.png" alt="facebook"></a><a href="https://plus.google.com/u/0/100605473697871424413/posts"><img src="/wp-content/themes/zeesynergie/images/icons/googleplus.png" alt="googleplus"></a><a href="http://www.linkedin.com/profile/view?id=16709956"><img src="/wp-content/themes/zeesynergie/images/icons/linkedin.png" alt="linkedin"></a><a href="http://www.flickr.com/photos/andrewjamesmorgan/"><img src="/wp-content/themes/zeesynergie/images/icons/flickr.png" alt="flickr"></a><a href="http://www.youtube.com/channel/UCodtDakJ4VdeSCzS3P3rIsw"><img src="/wp-content/themes/zeesynergie/images/icons/youtube.png" alt="youtube"></a>			</div>
		</li>
<li id="archives-2" class="widget widget_archive">
<h2 class="widgettitle">Archives</h2>

			<ul>
					<li><a href="/2022/03">March 2022</a></li>
	<li><a href="/2022/02">February 2022</a></li>
	<li><a href="/2022/01">January 2022</a></li>
	<li><a href="/2021/12">December 2021</a></li>
	<li><a href="/2021/11">November 2021</a></li>
	<li><a href="/2021/09">September 2021</a></li>
	<li><a href="/2021/08">August 2021</a></li>
	<li><a href="/2021/07">July 2021</a></li>
	<li><a href="/2021/06">June 2021</a></li>
	<li><a href="/2021/05">May 2021</a></li>
	<li><a href="/2021/04">April 2021</a></li>
	<li><a href="/2021/02">February 2021</a></li>
	<li><a href="/2021/01">January 2021</a></li>
	<li><a href="/2020/12">December 2020</a></li>
	<li><a href="/2019/03">March 2019</a></li>
	<li><a href="/2019/01">January 2019</a></li>
	<li><a href="/2018/12">December 2018</a></li>
	<li><a href="/2018/11">November 2018</a></li>
	<li><a href="/2018/10">October 2018</a></li>
	<li><a href="/2018/09">September 2018</a></li>
	<li><a href="/2017/09">September 2017</a></li>
	<li><a href="/2017/03">March 2017</a></li>
	<li><a href="/2017/02">February 2017</a></li>
	<li><a href="/2017/01">January 2017</a></li>
	<li><a href="/2016/12">December 2016</a></li>
	<li><a href="/2016/11">November 2016</a></li>
	<li><a href="/2016/09">September 2016</a></li>
	<li><a href="/2016/01">January 2016</a></li>
	<li><a href="/2015/11">November 2015</a></li>
	<li><a href="/2015/10">October 2015</a></li>
	<li><a href="/2015/09">September 2015</a></li>
	<li><a href="/2015/06">June 2015</a></li>
	<li><a href="/2015/04">April 2015</a></li>
	<li><a href="/2015/03">March 2015</a></li>
	<li><a href="/2015/02">February 2015</a></li>
	<li><a href="/2015/01">January 2015</a></li>
	<li><a href="/2014/12">December 2014</a></li>
	<li><a href="/2014/11">November 2014</a></li>
	<li><a href="/2014/10">October 2014</a></li>
	<li><a href="/2014/09">September 2014</a></li>
	<li><a href="/2014/08">August 2014</a></li>
	<li><a href="/2014/07">July 2014</a></li>
	<li><a href="/2014/06">June 2014</a></li>
	<li><a href="/2014/05">May 2014</a></li>
	<li><a href="/2014/04">April 2014</a></li>
	<li><a href="/2014/03">March 2014</a></li>
	<li><a href="/2014/02">February 2014</a></li>
	<li><a href="/2014/01">January 2014</a></li>
	<li><a href="/2013/12">December 2013</a></li>
	<li><a href="/2013/11">November 2013</a></li>
	<li><a href="/2013/09">September 2013</a></li>
	<li><a href="/2013/08">August 2013</a></li>
	<li><a href="/2013/07">July 2013</a></li>
	<li><a href="/2013/06">June 2013</a></li>
	<li><a href="/2013/05">May 2013</a></li>
	<li><a href="/2013/03">March 2013</a></li>
	<li><a href="/2013/02">February 2013</a></li>
	<li><a href="/2013/01">January 2013</a></li>
	<li><a href="/2012/12">December 2012</a></li>
	<li><a href="/2012/11">November 2012</a></li>
	<li><a href="/2012/09">September 2012</a></li>
	<li><a href="/2012/07">July 2012</a></li>
	<li><a href="/2012/06">June 2012</a></li>
	<li><a href="/2012/05">May 2012</a></li>
	<li><a href="/2012/04">April 2012</a></li>
	<li><a href="/2012/03">March 2012</a></li>
	<li><a href="/2012/02">February 2012</a></li>
	<li><a href="/2012/01">January 2012</a></li>
	<li><a href="/2011/12">December 2011</a></li>
	<li><a href="/2011/11">November 2011</a></li>
	<li><a href="/2011/10">October 2011</a></li>
	<li><a href="/2011/09">September 2011</a></li>
	<li><a href="/2011/07">July 2011</a></li>
	<li><a href="/2011/06">June 2011</a></li>
	<li><a href="/2011/05">May 2011</a></li>
	<li><a href="/2011/04">April 2011</a></li>
	<li><a href="/2011/03">March 2011</a></li>
	<li><a href="/2011/02">February 2011</a></li>
	<li><a href="/2011/01">January 2011</a></li>
	<li><a href="/2010/12">December 2010</a></li>
	<li><a href="/2010/11">November 2010</a></li>
	<li><a href="/2010/10">October 2010</a></li>
	<li><a href="/2010/09">September 2010</a></li>
	<li><a href="/2010/08">August 2010</a></li>
	<li><a href="/2010/07">July 2010</a></li>
	<li><a href="/2010/06">June 2010</a></li>
	<li><a href="/2010/05">May 2010</a></li>
	<li><a href="/2010/04">April 2010</a></li>
	<li><a href="/2010/03">March 2010</a></li>
	<li><a href="/2010/02">February 2010</a></li>
	<li><a href="/2010/01">January 2010</a></li>
	<li><a href="/2009/12">December 2009</a></li>
	<li><a href="/2009/11">November 2009</a></li>
	<li><a href="/2009/10">October 2009</a></li>
	<li><a href="/2009/09">September 2009</a></li>
	<li><a href="/2009/08">August 2009</a></li>
	<li><a href="/2009/07">July 2009</a></li>
	<li><a href="/2009/06">June 2009</a></li>
	<li><a href="/2009/05">May 2009</a></li>
	<li><a href="/2009/04">April 2009</a></li>
			</ul>

			</li>
	
	</ul>
</div>	</div>
	
	</div>
	<div id="footer">
		<div id="foot">
			Supported by <a href="http://www.thievesgarden.co.uk/" title="Maidenhead Accommodation - self catering apartment to rent" target="Thieves Garden">Thieves Garden - Maidenhead self catering apartment</a> and <a href="http://www.oleronvilla.com/" title="Ile d'Oleron Holiday Home to rent" target="Oleron Villa">Oleron Villa holiday home on Ile d'Oleron</a>.			<div class="credit_link">	<a href="http://themezee.com/">Theme by ThemeZee</a>
</div>
			<div class="clear"></div>
		</div>
	</div>
</div>
	<!-- Powered by WPtouch: 4.3.39 -->
</body>
</html>